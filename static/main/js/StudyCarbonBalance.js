/// <reference path="typescript-declarations.d.ts" />
/// <reference path="Utl.ts" />
/// <reference path="CarbonSummation.ts" />
var CarbonBalance;
(function (CarbonBalance) {
    var ImbalancedTimeSample = (function () {
        function ImbalancedTimeSample(iTimeSample, normalizedError) {
            this.iTimeSample = iTimeSample;
            this.normalizedError = normalizedError;
        }
        return ImbalancedTimeSample;
    })();
    CarbonBalance.ImbalancedTimeSample = ImbalancedTimeSample;
    var Display = (function () {
        function Display() {
            // See _calcNormalizedError.
            this._normalizedErrorThreshold = 0.1;
            this.POPUP_HEIGHT = 320;
            this.POPUP_SVG_HEIGHT = 280;
            this.allCBGraphs = [];
            this.mergedTimelinesByLineID = {};
            this.carbonSum = null;
        }
        // Called as the page is loading to initialize and precalculate CB data.
        Display.prototype.calculateCarbonBalances = function (metabolicMapID, biomassCalculation) {
            this._metabolicMapID = metabolicMapID;
            this._biomassCalculation = biomassCalculation;
            // Calculate carbon balance sums.
            this.carbonSum = CarbonBalance.Summation.create(biomassCalculation);
            // Now build a structure for each line that merges all assay and metabolite data into one timeline.
            this.mergedTimelinesByLineID = {};
            for (var lineID in this.carbonSum.lineDataByID) {
                this.mergedTimelinesByLineID[lineID] = this.carbonSum.mergeAllLineSamples(this.carbonSum.lineDataByID[lineID]);
            }
        };
        Display.prototype.getDebugTextForTime = function (metabolicMapID, biomassCalculation, lineID, timeStamp) {
            return CarbonBalance.Summation.generateDebugText(biomassCalculation, lineID, timeStamp);
        };
        Display.prototype.getNumberOfImbalances = function () {
            var numImbalances = 0;
            for (var lineID in this.carbonSum.lineDataByID) {
                var imbalances = this._getTimeSamplesForLine(lineID, true);
                numImbalances += imbalances.length;
            }
            return numImbalances;
        };
        // Returns a 0-1 value telling how much carbonIn and carbonOut differ.
        //
        // A value greater than _normalizedErrorThreshold indicates that
        // we should treat it as a carbon imbalance and show it to the user.
        Display.prototype._calcNormalizedError = function (carbonIn, carbonOut) {
            var epsilon = 0.0001;
            if (Math.abs(carbonOut) <= epsilon && Math.abs(carbonIn) <= epsilon) {
                return 0; // Both are zero, so we'll say it's not out of balance.
            }
            // Get the percentage error.
            var normalizedError;
            if (carbonIn > carbonOut) {
                normalizedError = 1 - carbonOut / carbonIn;
            }
            else {
                normalizedError = 1 - carbonIn / carbonOut;
            }
            return normalizedError;
        };
        // Returns a list of ImbalancedTimeSample objects for this line.
        Display.prototype._getTimeSamplesForLine = function (lineID, imbalancedOnly) {
            var ret = [];
            // For each time sample that we have for this line, figure out which ones are imbalanced.
            var timeline = this.mergedTimelinesByLineID[lineID].mergedLineSamples;
            for (var iTimesample = 0; iTimesample < timeline.length; iTimesample++) {
                var timeSample = timeline[iTimesample];
                var normalizedError = this._calcNormalizedError(timeSample.totalCarbonIn, timeSample.totalCarbonOut);
                if (!imbalancedOnly || normalizedError > this._normalizedErrorThreshold) {
                    ret.push(new ImbalancedTimeSample(iTimesample, normalizedError));
                }
            }
            return ret;
        };
        // Called to create a single Line's CB graph.
        Display.prototype.createCBGraphForLine = function (lineID, parent) {
            //$(parent).css('padding', '3px 2px 0px 2px');
            var lineName = EDDData.Lines[lineID].name;
            // Add an SVG object with the graph data.
            var svgElement = Utl.SVG.createSVG('100%', '10px', 470, 10);
            // Put a thin line down the middle.
            var centerY = 5;
            svgElement.appendChild(Utl.SVG.createLine(0, centerY, 470, centerY, Utl.Color.rgba(160, 160, 160, 55), 1));
            // Now for each time sample that we have for this line, add a dot.
            var mergedLineSamples = this.mergedTimelinesByLineID[lineID];
            if (mergedLineSamples != null) {
                var timeline = mergedLineSamples.mergedLineSamples;
                var imbalances = this._getTimeSamplesForLine(lineID, false);
                for (var iImbalance in imbalances) {
                    var imbalance = imbalances[iImbalance];
                    var timeSample = timeline[imbalance.iTimeSample];
                    var normalizedError = imbalance.normalizedError;
                    var clr = Utl.Color.red;
                    clr.a = 35 + (normalizedError * 220);
                    var interpolatedColor = clr;
                    var xCoord = 470 * (timeSample.timeStamp / this.carbonSum.lastTimeInSeconds);
                    var yCoord = Math.floor(5);
                    var tickWidth = 8;
                    var tickMark = Utl.SVG.createVerticalLinePath(xCoord, yCoord, tickWidth, 10, interpolatedColor, svgElement);
                    //tickMark.onmouseover = this.onMouseOverTickMark.bind(this, lineID, timeSample.timeStamp, tickMark);
                    //tickMark.onmousedown = function() {console.log("mousedown");}
                    var obj = [lineID, timeSample.timeStamp];
                    tickMark._qtipInfo = $(tickMark).qtip({
                        content: {
                            title: this._generatePopupTitleForImbalance.bind(this, lineID, timeSample.timeStamp),
                            text: this._generatePopupDisplayForImbalance.bind(this, lineID, timeSample.timeStamp) // (using JS function currying here)
                        },
                        position: {
                            viewport: $(window) // This makes it position itself to fit inside the browser window.
                        },
                        style: {
                            classes: 'qtip-blue qtip-shadow qtip-rounded qtip-allow-large',
                            width: "280px",
                            height: "" + this.POPUP_HEIGHT + "px"
                        },
                        show: {
                            delay: 0,
                            solo: true
                        },
                        hide: {
                            fixed: true,
                            delay: 300
                        }
                    });
                }
            }
            // Add the SVG element to the document.
            parent.appendChild(svgElement);
            this.allCBGraphs.push(svgElement);
        };
        Display.prototype.removeAllCBGraphs = function () {
            for (var i in this.allCBGraphs) {
                var svg = this.allCBGraphs[i];
                svg.parentNode.removeChild(svg);
            }
            this.allCBGraphs = [];
        };
        // Lookup a metabolite's name by a measurement ID.
        Display.prototype._getMetaboliteNameByMeasurementID = function (measurementID) {
            var measurementTypeID = EDDData.AssayMeasurements[measurementID].type;
            var metaboliteName = EDDData.MetaboliteTypes[measurementTypeID].name;
            return metaboliteName;
        };
        // Used by _generateDebugTextForPopup to generate a list like:
        // == Inputs    (0.2434 Cmol/L)
        //     Formate : 0.2434
        Display.prototype._printCarbonBalanceList = function (header, list, showSum) {
            var padding = 10;
            // Total all the elements up.
            var text = header;
            if (showSum && list.length > 0) {
                var sum = list.reduce(function (p, c) { return p + Math.abs(c.carbonDelta); }, 0.0);
                text += Utl.JS.repeatString(' ', padding - header.length + 3) + "[" + sum.toFixed(4) + " CmMol/gdw/hr]";
            }
            text += "\n";
            var padding = 16;
            if (list.length == 0) {
                text += Utl.JS.padStringRight("(none)", padding) + "\n";
            }
            else {
                for (var i = 0; i < list.length; i++) {
                    var measurement = list[i];
                    // Get a padded name string for the metabolite
                    var name = this._getMetaboliteNameByMeasurementID(measurement.timeline.measureId);
                    // Rename "Optical Density" to biomass, since that's what we use it for.
                    if (name == 'Optical Density')
                        name = 'Biomass';
                    name = Utl.JS.padStringRight(name, padding);
                    // Get the assay's name
                    var assayRecord = EDDData.Assays[measurement.timeline.assay.assayId];
                    var lid = assayRecord.lid;
                    var pid = assayRecord.pid;
                    var assayName = [EDDData.Lines[lid].name, EDDData.Protocols[pid].name, assayRecord.name].join('-');
                    var numberString = Utl.JS.padStringRight(Math.abs(measurement.carbonDelta).toFixed(4), 8);
                    text += name + " : " + numberString + "    [" + assayName + "]" + "\n";
                }
            }
            return text;
        };
        // This is shown when they click the 'data' link in a carbon balance popup. It's intended
        // to show all the data that the assessment was based on.
        Display.prototype._generateDebugTextForPopup = function (lineID, timeStamp, balance) {
            var _this = this;
            var el = document.createElement('textarea');
            $(el).css('font-family', '"Lucida Console", Monaco, monospace');
            $(el).css('font-size', '8pt');
            el.setAttribute('wrap', 'off');
            var sortedList = balance.measurements.slice(0);
            sortedList.sort(function (a, b) { return a.carbonDelta - b.carbonDelta; });
            var prevTimeStamp = this._getPreviousMergedTimestamp(lineID, timeStamp);
            var title = EDDData.Lines[lineID].name + " from " + prevTimeStamp.toFixed(1) + "h to " + timeStamp.toFixed(1) + "h";
            var divider = "========================================\n";
            var text = title + "\n" + divider + "\n";
            text += this._printCarbonBalanceList("== Inputs", sortedList.filter(function (x) { return x.carbonDelta < 0; }), true) + "\n";
            text += this._printCarbonBalanceList("== Outputs", sortedList.filter(function (x) { return x.carbonDelta > 0; }), true) + "\n";
            text += this._printCarbonBalanceList("== No Delta", sortedList.filter(function (x) { return x.carbonDelta == 0; }), false) + "\n";
            // Show the summation details for this study.
            text += "\nDETAILS\n" + divider + "\n";
            var details = CarbonBalance.Summation.generateDebugText(this._biomassCalculation, lineID, timeStamp);
            text += details;
            // Show the biomass calculation for this study.
            text += "\nBIOMASS\n" + divider + "\n";
            text += "Biomass calculation: " + (+this._biomassCalculation).toFixed(4) + "\n";
            el.innerHTML = text;
            $(el).width(460);
            $(el).height(this.POPUP_SVG_HEIGHT);
            // Load up some more detailed stuff about the whole reaction.
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "FormAjaxResp.cgi",
                data: { "action": "getBiomassCalculationInfo", metabolicMapID: this._metabolicMapID },
                success: function (response) {
                    if (response.type == "Success") {
                        el.innerHTML += _this._generateBiomassCalculationDebugText(response.data.biomass_calculation_info);
                    }
                    else {
                        console.log('Unable to get biomass calculation info: ' + response.message);
                    }
                }
            });
            return el;
        };
        // Using the structures in metabolic_maps.biomass_calculation_info, generate a string that shows 
        // all the species, metabolites, stoichiometries, and carbon counts used.
        // See schema.txt for the structure of biomass_calculation_info.
        Display.prototype._generateBiomassCalculationDebugText = function (biomass_calculation_info) {
            var bci = JSON.parse(biomass_calculation_info);
            var ret = '';
            ret += "Biomass reaction   : " + bci.reaction_id + "\n";
            ret += "\n== Reactants\n";
            ret += this._generateBiomassCalculationDebugTextForList(bci.reactants);
            ret += "\n== Products\n";
            ret += this._generateBiomassCalculationDebugTextForList(bci.products);
            return ret;
        };
        Display.prototype._generateBiomassCalculationDebugTextForList = function (theList) {
            var ret = '';
            for (var i = 0; i < theList.length; i++) {
                var entry = theList[i];
                if (entry.metaboliteName) {
                    var contribution = entry.stoichiometry * entry.carbonCount;
                    ret += "    " + Utl.JS.padStringRight(entry.speciesName, 15) + ": [" + Utl.JS.padStringLeft(contribution.toFixed(4), 9) + "]" +
                        "  { metabolite: " + entry.metaboliteName +
                        ", stoichiometry: " + entry.stoichiometry +
                        ", carbonCount: " + entry.carbonCount + " }" + "\n";
                }
                else {
                    ret += "    " + Utl.JS.padStringRight(entry.speciesName, 15) + ": [         ]" + "\n";
                }
            }
            return ret;
        };
        // Get the previous merged timestamp for the given line.
        // This is used to show the range that an imbalance occurred over (since we don't display it
        // anywhere on the timelines).
        Display.prototype._getPreviousMergedTimestamp = function (lineID, timeStamp) {
            var prevTimeStamp = 0;
            var samples = this.mergedTimelinesByLineID[lineID].mergedLineSamples;
            for (var i = 0; i < samples.length; i++) {
                if (samples[i].timeStamp == timeStamp)
                    break;
                else
                    prevTimeStamp = samples[i].timeStamp;
            }
            return prevTimeStamp;
        };
        // Generates the title bar string for a carbon balance popup display.
        Display.prototype._generatePopupTitleForImbalance = function (lineID, timeStamp) {
            var prevTimeStamp = this._getPreviousMergedTimestamp(lineID, timeStamp);
            return EDDData.Lines[lineID].name + " from " + prevTimeStamp.toFixed(1) + "h to " + timeStamp.toFixed(1) + "h";
        };
        // When they hover over a tick mark, we should display all the carbon in/out data for all 
        // assays that have an imbalance at this time point.
        // This generates the HTML that goes in the popup for a specific assay imbalance.
        Display.prototype._generatePopupDisplayForImbalance = function (lineID, timeStamp, event, api) {
            // Gather the data that we'll need.
            var balance = this._checkLineSampleBalance(lineID, timeStamp);
            // Create SVG to display everything in.
            var svgSize = [260, this.POPUP_SVG_HEIGHT];
            var svg = Utl.SVG.createSVG(svgSize[0] + 'px', svgSize[1] + 'px', svgSize[0], svgSize[1]);
            var yOffset = (this.POPUP_HEIGHT - svgSize[1]) / 2;
            var fontName = "Arial";
            // Create a link to copy debug text to the clipboard.
            var debugTextLink = svg.appendChild(Utl.SVG.createText(0, 10, "data", fontName, 10, false, Utl.Color.rgb(150, 150, 150)));
            debugTextLink.setAttribute('x', (svgSize[0] - 3).toString());
            debugTextLink.setAttribute('text-anchor', 'end');
            debugTextLink.setAttribute('alignment-baseline', 'hanging');
            debugTextLink.setAttribute('font-style', 'italic');
            $(debugTextLink).css('cursor', 'pointer');
            var helper = new Utl.QtipHelper();
            helper.create(debugTextLink, this._generateDebugTextForPopup.bind(this, lineID, timeStamp, balance), {
                position: {
                    my: 'bottom right',
                    at: 'top left'
                },
                style: {
                    classes: 'qtip-blue qtip-shadow qtip-rounded qtip-allow-large',
                    width: "550px",
                    height: "" + this.POPUP_HEIGHT + "px"
                },
                show: 'click',
                hide: 'unfocus'
            });
            // Figure out our vertical scale and layout parameters.
            var topPos = Math.floor(svgSize[1] * 0.1) + yOffset;
            var bottomPos = svgSize[1] - topPos + yOffset;
            var topPosValue = Math.max(balance.totalIn, balance.totalOut);
            var bottomPosValue = 0;
            var inputsBar = {
                left: Math.floor(svgSize[0] * 0.1),
                right: Math.floor(svgSize[0] * 0.4),
                currentValue: 0,
                curBar: 0,
                numBars: 0,
                startColor: Utl.Color.rgb(111, 102, 209),
                endColor: Utl.Color.rgb(38, 32, 124)
            };
            var outputsBar = {
                left: Math.floor(svgSize[0] * 0.6),
                right: Math.floor(svgSize[0] * 0.9),
                currentValue: 0,
                curBar: 0,
                numBars: 0,
                startColor: Utl.Color.rgb(219, 0, 126),
                endColor: Utl.Color.rgb(90, 0, 29)
            };
            // Get everything in a list sorted by height.
            var sortedList = [];
            for (var iMeasurement in balance.measurements) {
                sortedList.push(balance.measurements[iMeasurement]);
                var carbonDelta = balance.measurements[iMeasurement].carbonDelta;
                if (carbonDelta > 0)
                    outputsBar.numBars++;
                else
                    inputsBar.numBars++;
            }
            sortedList.sort(function (a, b) {
                return b.absDelta() - a.absDelta();
            });
            // Now build the stacks.
            var prevInValue = 0, prevOutValue = 0;
            for (var iMeasurement in sortedList) {
                var measurement = sortedList[iMeasurement];
                var carbonDelta = measurement.carbonDelta;
                var absDelta = Math.abs(carbonDelta);
                var bar = inputsBar;
                if (carbonDelta > 0)
                    bar = outputsBar;
                var nextValue = bar.currentValue + absDelta;
                var y1 = Utl.JS.remapValue(bar.currentValue, bottomPosValue, topPosValue, bottomPos, topPos);
                var y2 = Utl.JS.remapValue(nextValue, bottomPosValue, topPosValue, bottomPos, topPos);
                if (y1 - y2 <= 1)
                    y2 = y1 - 2;
                // The color just interpolates through this bar's color range.
                var clr = (bar.numBars <= 1) ? bar.startColor : Utl.Color.interpolate(bar.startColor, bar.endColor, bar.curBar / (bar.numBars - 1));
                var rect = svg.appendChild(Utl.SVG.createRect(bar.left, y1, bar.right - bar.left, y2 - y1, clr, // fill color
                1, Utl.Color.black // stroke info
                ));
                // Make it a rounded rectangle.
                var round = Math.min(2, Math.abs(y2 - y1));
                Utl.SVG.makeRectRounded(rect, round, round);
                // Add a tiny label showing the name of the metabolite.
                var measurementTypeID = EDDData.AssayMeasurements[measurement.timeline.measureId].type;
                var metaboliteName = EDDData.MetaboliteTypes[measurementTypeID].name;
                // Rename "Optical Density" to biomass, since that's what we use it for.
                if (metaboliteName == 'Optical Density')
                    metaboliteName = 'Biomass';
                // If there's room, put the label right in the box for the metabolite.
                // If not, put it off to the side.
                var metaboliteLabelFontSize = 11;
                if (y1 - y2 > metaboliteLabelFontSize * 1.2) {
                    var text = this._createTextWithDropShadow(svg, (bar.left + bar.right) / 2, (y1 + y2) / 2 + metaboliteLabelFontSize / 2, metaboliteName, fontName, metaboliteLabelFontSize, Utl.Color.white, Utl.Color.black);
                    $(text).css('font-weight', 'bold');
                }
                bar.curBar++;
                bar.currentValue = nextValue;
            }
            this._addSummaryLabels(svg, balance, inputsBar, outputsBar, topPos, topPosValue, bottomPos, bottomPosValue);
            return svg;
        };
        Display.prototype._createTextWithDropShadow = function (svg, x, y, text, font, fontSize, mainColor, shadowColor) {
            var ix = Math.floor(x);
            var iy = Math.floor(y);
            var el1 = svg.appendChild(Utl.SVG.createText(ix, iy, text, font, fontSize, true, shadowColor));
            var el2 = svg.appendChild(Utl.SVG.createText(ix, iy - 1, text, font, fontSize, true, mainColor));
            return $(el1).add(el2);
        };
        Display.prototype._addSummaryLabels = function (svg, balance, inputsBar, outputsBar, topPos, topPosValue, bottomPos, bottomPosValue) {
            // Put a label under each bar.
            var font = "Arial";
            var fontSize = 16;
            svg.appendChild(Utl.SVG.createText((inputsBar.left + inputsBar.right) * 0.5, bottomPos + fontSize, "Inputs", font, fontSize, true));
            svg.appendChild(Utl.SVG.createText((outputsBar.left + outputsBar.right) * 0.5, bottomPos + fontSize, "Outputs", font, fontSize, true));
            // Label the top of the chart's Cmol/L. That's enough to get a sense of the data, and we can 
            // provide further hover popups if we need to.
            var middleX = (inputsBar.right + outputsBar.left) / 2;
            var tShapeWidth = (outputsBar.left - inputsBar.right) - 6;
            var tShapeHeight = 5;
            this._drawTShape(svg, middleX, topPos, tShapeWidth, tShapeHeight, topPosValue.toFixed(2) + " CmMol/gdw/hr", font, 14, false);
            // Draw another indicator for the metabolite that has less.
            var smallerMetaboliteCmolLValue = Math.min(balance.totalIn, balance.totalOut);
            var smallerMetaboliteYPos = Utl.JS.remapValue(smallerMetaboliteCmolLValue, bottomPosValue, topPosValue, bottomPos, topPos);
            this._drawTShape(svg, middleX, smallerMetaboliteYPos, tShapeWidth * 0.8, tShapeHeight, smallerMetaboliteCmolLValue.toFixed(2), font, 14, true);
        };
        Display.prototype._drawTShape = function (svg, centerX, y, width, height, text, font, fontSize, textOnBottom) {
            var tShapeHeight = 5;
            // Break the text into multiple lines if necessary.
            var lines = text.split("\n");
            var curY = y - fontSize * lines.length;
            if (textOnBottom)
                curY = y + fontSize + tShapeHeight;
            for (var i in lines) {
                svg.appendChild(Utl.SVG.createText(centerX, curY, lines[i], font, fontSize, true));
                curY += fontSize;
            }
            var endOfT = (textOnBottom ? y + tShapeHeight : y - tShapeHeight);
            svg.appendChild(Utl.SVG.createLine(centerX, endOfT, centerX, y, Utl.Color.black));
            svg.appendChild(Utl.SVG.createLine(centerX - width / 2, y, centerX + width / 2, y, Utl.Color.black));
        };
        Display.prototype._checkLineSampleBalance = function (lineID, timeStamp) {
            var lineData = this.carbonSum.getLineDataByID(lineID);
            var sum = lineData.getInOutSumAtTime(timeStamp);
            // We need at least 2 measurements in order to register an imbalance.
            if (sum.measurements.length < 2)
                return null;
            var normalizedError = this._calcNormalizedError(sum.totalIn, sum.totalOut);
            return new LineSampleBalance((normalizedError < this._normalizedErrorThreshold), sum.totalIn, sum.totalOut, sum.measurements);
        };
        Display.graphDiv = null;
        return Display;
    })();
    CarbonBalance.Display = Display;
    ;
    var LineSampleBalance = (function () {
        function LineSampleBalance(isBalanced, totalIn, totalOut, measurements) {
            this.isBalanced = isBalanced;
            this.totalIn = totalIn;
            this.totalOut = totalOut;
            this.measurements = measurements;
        }
        return LineSampleBalance;
    })();
})(CarbonBalance || (CarbonBalance = {})); // end CarbonBalance module
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3R1ZHlDYXJib25CYWxhbmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiU3R1ZHlDYXJib25CYWxhbmNlLnRzIl0sIm5hbWVzIjpbIkNhcmJvbkJhbGFuY2UiLCJDYXJib25CYWxhbmNlLkltYmFsYW5jZWRUaW1lU2FtcGxlIiwiQ2FyYm9uQmFsYW5jZS5JbWJhbGFuY2VkVGltZVNhbXBsZS5jb25zdHJ1Y3RvciIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheSIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5jb25zdHJ1Y3RvciIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5jYWxjdWxhdGVDYXJib25CYWxhbmNlcyIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5nZXREZWJ1Z1RleHRGb3JUaW1lIiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5LmdldE51bWJlck9mSW1iYWxhbmNlcyIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fY2FsY05vcm1hbGl6ZWRFcnJvciIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZ2V0VGltZVNhbXBsZXNGb3JMaW5lIiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5LmNyZWF0ZUNCR3JhcGhGb3JMaW5lIiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5LnJlbW92ZUFsbENCR3JhcGhzIiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5Ll9nZXRNZXRhYm9saXRlTmFtZUJ5TWVhc3VyZW1lbnRJRCIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fcHJpbnRDYXJib25CYWxhbmNlTGlzdCIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZ2VuZXJhdGVEZWJ1Z1RleHRGb3JQb3B1cCIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZ2VuZXJhdGVCaW9tYXNzQ2FsY3VsYXRpb25EZWJ1Z1RleHQiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0Rm9yTGlzdCIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZ2V0UHJldmlvdXNNZXJnZWRUaW1lc3RhbXAiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dlbmVyYXRlUG9wdXBUaXRsZUZvckltYmFsYW5jZSIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZ2VuZXJhdGVQb3B1cERpc3BsYXlGb3JJbWJhbGFuY2UiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2NyZWF0ZVRleHRXaXRoRHJvcFNoYWRvdyIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fYWRkU3VtbWFyeUxhYmVscyIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZHJhd1RTaGFwZSIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fY2hlY2tMaW5lU2FtcGxlQmFsYW5jZSIsIkNhcmJvbkJhbGFuY2UuTGluZVNhbXBsZUJhbGFuY2UiLCJDYXJib25CYWxhbmNlLkxpbmVTYW1wbGVCYWxhbmNlLmNvbnN0cnVjdG9yIl0sIm1hcHBpbmdzIjoiQUFBQSxxREFBcUQ7QUFDckQsK0JBQStCO0FBQy9CLDJDQUEyQztBQUczQyxJQUFPLGFBQWEsQ0EybUJuQjtBQTNtQkQsV0FBTyxhQUFhLEVBQUMsQ0FBQztJQUVyQkE7UUFFQ0MsOEJBQW1CQSxXQUFrQkEsRUFBU0EsZUFBc0JBO1lBQWpEQyxnQkFBV0EsR0FBWEEsV0FBV0EsQ0FBT0E7WUFBU0Esb0JBQWVBLEdBQWZBLGVBQWVBLENBQU9BO1FBRXBFQSxDQUFDQTtRQUNGRCwyQkFBQ0E7SUFBREEsQ0FBQ0EsQUFMREQsSUFLQ0E7SUFMWUEsa0NBQW9CQSx1QkFLaENBLENBQUFBO0lBRURBO1FBQUFHO1lBa0NDQyw0QkFBNEJBO1lBQ3BCQSw4QkFBeUJBLEdBQVVBLEdBQUdBLENBQUNBO1lBNEh2Q0EsaUJBQVlBLEdBQUdBLEdBQUdBLENBQUNBO1lBQ25CQSxxQkFBZ0JBLEdBQUdBLEdBQUdBLENBQUNBO1lBdWIvQkEsZ0JBQVdBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ2pCQSw0QkFBdUJBLEdBQXVDQSxFQUFFQSxDQUFDQTtZQUNqRUEsY0FBU0EsR0FBMkJBLElBQUlBLENBQUNB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Q0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7Z0JBQ25DQSxLQUFLQSxFQUFFQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQTtnQkFDbkNBLFlBQVlBLEVBQUVBLENBQUNBO2dCQUNmQSxNQUFNQSxFQUFFQSxDQUFDQTtnQkFDVEEsT0FBT0EsRUFBRUEsQ0FBQ0E7Z0JBQ1ZBLFVBQVVBLEVBQUVBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLEVBQUNBLEdBQUdBLEVBQUNBLEdBQUdBLENBQUNBO2dCQUN0Q0EsUUFBUUEsRUFBRUEsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsRUFBQ0EsRUFBRUEsRUFBQ0EsR0FBR0EsQ0FBQ0E7YUFDbENBLENBQUNBO1lBRUZBLElBQUlBLFVBQVVBLEdBQUdBO2dCQUNoQkEsSUFBSUEsRUFBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7Z0JBQ25DQSxLQUFLQSxFQUFFQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxHQUFHQSxDQUFDQTtnQkFDbkNBLFlBQVlBLEVBQUVBLENBQUNBO2dCQUNmQSxNQUFNQSxFQUFFQSxDQUFDQTtnQkFDVEEsT0FBT0EsRUFBRUEsQ0FBQ0E7Z0JBQ1ZBLFVBQVVBLEVBQUVBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLEVBQUNBLENBQUNBLEVBQUNBLEdBQUdBLENBQUNBO2dCQUNwQ0EsUUFBUUEsRUFBRUEsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsRUFBQ0EsQ0FBQ0EsRUFBQ0EsRUFBRUEsQ0FBQ0E7YUFDaENBLENBQUNBO1lBRUZBLDZDQUE2Q0E7WUFDN0NBLElBQUlB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QSxlQUFlQSxHQUFVQSxJQUFJQSxDQUFDQSxvQkFBb0JBLENBQUNBLEdBQUdBLENBQUNBLE9BQU9BLEVBQUVBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1lBRWxGQSxNQUFNQSxDQUFDQSxJQUFJQSxpQkFBaUJBLENBQzNCQSxDQUFDQSxlQUFlQSxHQUFHQSxJQUFJQSxDQUFDQSx5QkFBeUJBLENBQUNBLEVBQ2xEQSxHQUFHQSxDQUFDQSxPQUFPQSxFQUNYQSxHQUFHQSxDQUFDQSxRQUFRQSxFQUNaQSxHQUFHQSxDQUFDQSxZQUFZQSxDQUNoQkEsQ0FBQ0E7UUFDSEEsQ0FBQ0E7UUFLTXBCLGdCQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUl4QkEsY0FBQ0E7SUFBREEsQ0FBQ0EsQUExbEJESCxJQTBsQkNBO0lBMWxCWUEscUJBQU9BLFVBMGxCbkJBLENBQUFBO0lBQUFBLENBQUNBO0lBSUZBO1FBQ0N3QiwyQkFBbUJBLFVBQWtCQSxFQUFTQSxPQUFjQSxFQUFTQSxRQUFlQSxFQUFTQSxZQUFrQ0E7WUFBNUdDLGVBQVVBLEdBQVZBLFVBQVVBLENBQVFBO1lBQVNBLFlBQU9BLEdBQVBBLE9BQU9BLENBQU9BO1lBQVNBLGFBQVFBLEdBQVJBLFFBQVFBLENBQU9BO1lBQVNBLGlCQUFZQSxHQUFaQSxZQUFZQSxDQUFzQkE7UUFBR0EsQ0FBQ0E7UUFDcElELHdCQUFDQTtJQUFEQSxDQUFDQSxBQUZEeEIsSUFFQ0E7QUFFRkEsQ0FBQ0EsRUEzbUJNLGFBQWEsS0FBYixhQUFhLFFBMm1CbkIsQ0FBQywyQkFBMkIiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwidHlwZXNjcmlwdC1kZWNsYXJhdGlvbnMuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiVXRsLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJDYXJib25TdW1tYXRpb24udHNcIiAvPlxuXG5cbm1vZHVsZSBDYXJib25CYWxhbmNlIHtcblxuXHRleHBvcnQgY2xhc3MgSW1iYWxhbmNlZFRpbWVTYW1wbGVcblx0e1xuXHRcdGNvbnN0cnVjdG9yKHB1YmxpYyBpVGltZVNhbXBsZTpudW1iZXIsIHB1YmxpYyBub3JtYWxpemVkRXJyb3I6bnVtYmVyKSB7XG5cblx0XHR9XG5cdH1cblxuXHRleHBvcnQgY2xhc3MgRGlzcGxheSB7XG5cblx0XHQvLyBDYWxsZWQgYXMgdGhlIHBhZ2UgaXMgbG9hZGluZyB0byBpbml0aWFsaXplIGFuZCBwcmVjYWxjdWxhdGUgQ0IgZGF0YS5cblx0XHRjYWxjdWxhdGVDYXJib25CYWxhbmNlcyhtZXRhYm9saWNNYXBJRDpudW1iZXIsIGJpb21hc3NDYWxjdWxhdGlvbjpudW1iZXIpIHtcblx0XHRcdHRoaXMuX21ldGFib2xpY01hcElEID0gbWV0YWJvbGljTWFwSUQ7IFxuXHRcdFx0dGhpcy5fYmlvbWFzc0NhbGN1bGF0aW9uID0gYmlvbWFzc0NhbGN1bGF0aW9uO1xuXHRcdFx0Ly8gQ2FsY3VsYXRlIGNhcmJvbiBiYWxhbmNlIHN1bXMuXG5cdFx0XHR0aGlzLmNhcmJvblN1bSA9IENhcmJvbkJhbGFuY2UuU3VtbWF0aW9uLmNyZWF0ZShiaW9tYXNzQ2FsY3VsYXRpb24pO1xuXG5cdFx0XHQvLyBOb3cgYnVpbGQgYSBzdHJ1Y3R1cmUgZm9yIGVhY2ggbGluZSB0aGF0IG1lcmdlcyBhbGwgYXNzYXkgYW5kIG1ldGFib2xpdGUgZGF0YSBpbnRvIG9uZSB0aW1lbGluZS5cblx0XHRcdHRoaXMubWVyZ2VkVGltZWxpbmVzQnlMaW5lSUQgPSB7fTtcblx0XHRcdGZvciAodmFyIGxpbmVJRCBpbiB0aGlzLmNhcmJvblN1bS5saW5lRGF0YUJ5SUQpIHtcblx0XHRcdFx0dGhpcy5tZXJnZWRUaW1lbGluZXNCeUxpbmVJRFtsaW5lSURdID0gdGhpcy5jYXJib25TdW0ubWVyZ2VBbGxMaW5lU2FtcGxlcyh0aGlzLmNhcmJvblN1bS5saW5lRGF0YUJ5SURbbGluZUlEXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHRnZXREZWJ1Z1RleHRGb3JUaW1lKG1ldGFib2xpY01hcElEOm51bWJlciwgYmlvbWFzc0NhbGN1bGF0aW9uOm51bWJlciwgbGluZUlEOm51bWJlciwgdGltZVN0YW1wOm51bWJlcik6c3RyaW5nIHtcblx0XHRcdHJldHVybiBDYXJib25CYWxhbmNlLlN1bW1hdGlvbi5nZW5lcmF0ZURlYnVnVGV4dChiaW9tYXNzQ2FsY3VsYXRpb24sIGxpbmVJRCwgdGltZVN0YW1wKTtcblx0XHR9XG5cblxuXHRcdGdldE51bWJlck9mSW1iYWxhbmNlcygpIHtcblx0XHRcdHZhciBudW1JbWJhbGFuY2VzID0gMDtcblxuXHRcdFx0Zm9yICh2YXIgbGluZUlEIGluIHRoaXMuY2FyYm9uU3VtLmxpbmVEYXRhQnlJRCkge1xuXHRcdCAgICBcdHZhciBpbWJhbGFuY2VzOkltYmFsYW5jZWRUaW1lU2FtcGxlW10gPSB0aGlzLl9nZXRUaW1lU2FtcGxlc0ZvckxpbmUobGluZUlELCB0cnVlKTtcblx0XHQgICAgXHRudW1JbWJhbGFuY2VzICs9IGltYmFsYW5jZXMubGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbnVtSW1iYWxhbmNlcztcblx0XHR9XG5cblxuXHRcdC8vIFNlZSBfY2FsY05vcm1hbGl6ZWRFcnJvci5cblx0XHRwcml2YXRlIF9ub3JtYWxpemVkRXJyb3JUaHJlc2hvbGQ6bnVtYmVyID0gMC4xO1xuXG5cblx0XHQvLyBSZXR1cm5zIGEgMC0xIHZhbHVlIHRlbGxpbmcgaG93IG11Y2ggY2FyYm9uSW4gYW5kIGNhcmJvbk91dCBkaWZmZXIuXG5cdFx0Ly9cblx0XHQvLyBBIHZhbHVlIGdyZWF0ZXIgdGhhbiBfbm9ybWFsaXplZEVycm9yVGhyZXNob2xkIGluZGljYXRlcyB0aGF0XG5cdFx0Ly8gd2Ugc2hvdWxkIHRyZWF0IGl0IGFzIGEgY2FyYm9uIGltYmFsYW5jZSBhbmQgc2hvdyBpdCB0byB0aGUgdXNlci5cblx0XHRwcml2YXRlIF9jYWxjTm9ybWFsaXplZEVycm9yKGNhcmJvbkluOm51bWJlciwgY2FyYm9uT3V0Om51bWJlcik6bnVtYmVyIHtcblx0XHRcdHZhciBlcHNpbG9uOm51bWJlciA9IDAuMDAwMTtcbiAgICBcdFx0aWYgKE1hdGguYWJzKGNhcmJvbk91dCkgPD0gZXBzaWxvbiAmJiBNYXRoLmFicyhjYXJib25JbikgPD0gZXBzaWxvbikge1xuXHRcdFx0XHRyZXR1cm4gMDsgLy8gQm90aCBhcmUgemVybywgc28gd2UnbGwgc2F5IGl0J3Mgbm90IG91dCBvZiBiYWxhbmNlLlxuXHRcdFx0fVxuXG5cdFx0XHQvLyBHZXQgdGhlIHBlcmNlbnRhZ2UgZXJyb3IuXG5cdFx0XHR2YXIgbm9ybWFsaXplZEVycm9yOm51bWJlcjtcblx0XHRcdGlmIChjYXJib25JbiA+IGNhcmJvbk91dCkge1xuXHRcdFx0XHRub3JtYWxpemVkRXJyb3IgPSAxIC0gY2FyYm9uT3V0IC8gY2FyYm9uSW47XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub3JtYWxpemVkRXJyb3IgPSAxIC0gY2FyYm9uSW4gLyBjYXJib25PdXQ7XG5cdFx0XHR9XG5cbiAgICBcdFx0cmV0dXJuIG5vcm1hbGl6ZWRFcnJvcjtcblx0XHR9XG5cblxuXHRcdC8vIFJldHVybnMgYSBsaXN0IG9mIEltYmFsYW5jZWRUaW1lU2FtcGxlIG9iamVjdHMgZm9yIHRoaXMgbGluZS5cblx0XHRwcml2YXRlIF9nZXRUaW1lU2FtcGxlc0ZvckxpbmUobGluZUlEOm51bWJlciwgaW1iYWxhbmNlZE9ubHk6Ym9vbGVhbik6SW1iYWxhbmNlZFRpbWVTYW1wbGVbXSB7XG5cdFx0XHR2YXIgcmV0OkltYmFsYW5jZWRUaW1lU2FtcGxlW10gPSBbXTtcblxuXHQgICAgXHQvLyBGb3IgZWFjaCB0aW1lIHNhbXBsZSB0aGF0IHdlIGhhdmUgZm9yIHRoaXMgbGluZSwgZmlndXJlIG91dCB3aGljaCBvbmVzIGFyZSBpbWJhbGFuY2VkLlxuXHQgICAgXHR2YXIgdGltZWxpbmU6TWVyZ2VkTGluZVNhbXBsZVtdID0gdGhpcy5tZXJnZWRUaW1lbGluZXNCeUxpbmVJRFtsaW5lSURdLm1lcmdlZExpbmVTYW1wbGVzO1xuXHQgICAgXHRmb3IgKHZhciBpVGltZXNhbXBsZTpudW1iZXI9MDsgaVRpbWVzYW1wbGUgPCB0aW1lbGluZS5sZW5ndGg7IGlUaW1lc2FtcGxlKyspIHtcblx0ICAgIFx0XHR2YXIgdGltZVNhbXBsZTpNZXJnZWRMaW5lU2FtcGxlID0gdGltZWxpbmVbaVRpbWVzYW1wbGVdO1xuXG5cdCAgICBcdFx0dmFyIG5vcm1hbGl6ZWRFcnJvcjpudW1iZXIgPSB0aGlzLl9jYWxjTm9ybWFsaXplZEVycm9yKHRpbWVTYW1wbGUudG90YWxDYXJib25JbiwgdGltZVNhbXBsZS50b3RhbENhcmJvbk91dCk7XG5cblx0ICAgIFx0XHRpZiAoIWltYmFsYW5jZWRPbmx5IHx8IG5vcm1hbGl6ZWRFcnJvciA+IHRoaXMuX25vcm1hbGl6ZWRFcnJvclRocmVzaG9sZCkge1xuXHQgICAgXHRcdFx0cmV0LnB1c2goIG5ldyBJbWJhbGFuY2VkVGltZVNhbXBsZShpVGltZXNhbXBsZSwgbm9ybWFsaXplZEVycm9yKSApO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0fVxuXHQgICAgXHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXG5cdFx0Ly8gQ2FsbGVkIHRvIGNyZWF0ZSBhIHNpbmdsZSBMaW5lJ3MgQ0IgZ3JhcGguXG5cdFx0Y3JlYXRlQ0JHcmFwaEZvckxpbmUobGluZUlELCBwYXJlbnQpIHtcblx0XHRcdC8vJChwYXJlbnQpLmNzcygncGFkZGluZycsICczcHggMnB4IDBweCAycHgnKTtcblxuXHRcdFx0dmFyIGxpbmVOYW1lID0gRURERGF0YS5MaW5lc1tsaW5lSURdLm5hbWU7XG5cblx0XHRcdC8vIEFkZCBhbiBTVkcgb2JqZWN0IHdpdGggdGhlIGdyYXBoIGRhdGEuXG5cdFx0XHR2YXIgc3ZnRWxlbWVudCA9IFV0bC5TVkcuY3JlYXRlU1ZHKCcxMDAlJywgJzEwcHgnLCA0NzAsIDEwKTtcblxuXHRcdFx0Ly8gUHV0IGEgdGhpbiBsaW5lIGRvd24gdGhlIG1pZGRsZS5cblx0XHRcdHZhciBjZW50ZXJZOm51bWJlciA9IDU7XG5cdFx0XHRzdmdFbGVtZW50LmFwcGVuZENoaWxkKCBVdGwuU1ZHLmNyZWF0ZUxpbmUoXG5cdFx0XHRcdDAsIGNlbnRlclksIDQ3MCwgY2VudGVyWSxcblx0XHRcdFx0VXRsLkNvbG9yLnJnYmEoMTYwLDE2MCwxNjAsNTUpLCAxXG5cdFx0XHQpKTtcblxuXHQgICAgXHQvLyBOb3cgZm9yIGVhY2ggdGltZSBzYW1wbGUgdGhhdCB3ZSBoYXZlIGZvciB0aGlzIGxpbmUsIGFkZCBhIGRvdC5cblx0ICAgIFx0dmFyIG1lcmdlZExpbmVTYW1wbGVzOk1lcmdlZExpbmVTYW1wbGVzID0gdGhpcy5tZXJnZWRUaW1lbGluZXNCeUxpbmVJRFtsaW5lSURdO1xuXHQgICAgXHRpZiAobWVyZ2VkTGluZVNhbXBsZXMgIT0gbnVsbCkge1xuXHRcdCAgICBcdHZhciB0aW1lbGluZTpNZXJnZWRMaW5lU2FtcGxlW10gPSBtZXJnZWRMaW5lU2FtcGxlcy5tZXJnZWRMaW5lU2FtcGxlcztcblx0XHQgICAgXHR2YXIgaW1iYWxhbmNlczpJbWJhbGFuY2VkVGltZVNhbXBsZVtdID0gdGhpcy5fZ2V0VGltZVNhbXBsZXNGb3JMaW5lKGxpbmVJRCwgZmFsc2UpO1xuXHRcdCAgICBcdGZvciAodmFyIGlJbWJhbGFuY2UgaW4gaW1iYWxhbmNlcykge1xuXHRcdCAgICBcdFx0dmFyIGltYmFsYW5jZSA9IGltYmFsYW5jZXNbaUltYmFsYW5jZV07XG5cdFx0ICAgIFx0XHR2YXIgdGltZVNhbXBsZTpNZXJnZWRMaW5lU2FtcGxlID0gdGltZWxpbmVbaW1iYWxhbmNlLmlUaW1lU2FtcGxlXTtcblx0XHQgICAgXHRcdHZhciBub3JtYWxpemVkRXJyb3IgPSBpbWJhbGFuY2Uubm9ybWFsaXplZEVycm9yO1xuXG5cdFx0ICAgIFx0XHR2YXIgY2xyOlV0bC5Db2xvciA9IFV0bC5Db2xvci5yZWQ7XG5cdFx0ICAgIFx0XHRjbHIuYSA9IDM1ICsgKG5vcm1hbGl6ZWRFcnJvciAqIDIyMCk7XG5cdFx0ICAgIFx0XHR2YXIgaW50ZXJwb2xhdGVkQ29sb3IgPSBjbHI7XG5cblx0XHQgICAgXHRcdHZhciB4Q29vcmQ6bnVtYmVyID0gNDcwICogKHRpbWVTYW1wbGUudGltZVN0YW1wIC8gdGhpcy5jYXJib25TdW0ubGFzdFRpbWVJblNlY29uZHMpO1xuXHRcdCAgICBcdFx0dmFyIHlDb29yZDpudW1iZXIgPSBNYXRoLmZsb29yKDUpO1xuXHRcdCAgICBcdFx0dmFyIHRpY2tXaWR0aDpudW1iZXIgPSA4O1xuXHRcdCAgICBcdFx0dmFyIHRpY2tNYXJrID0gPGFueT5VdGwuU1ZHLmNyZWF0ZVZlcnRpY2FsTGluZVBhdGgoeENvb3JkLCB5Q29vcmQsIHRpY2tXaWR0aCwgMTAsIGludGVycG9sYXRlZENvbG9yLCBzdmdFbGVtZW50KTtcblxuXHRcdCAgICBcdFx0Ly90aWNrTWFyay5vbm1vdXNlb3ZlciA9IHRoaXMub25Nb3VzZU92ZXJUaWNrTWFyay5iaW5kKHRoaXMsIGxpbmVJRCwgdGltZVNhbXBsZS50aW1lU3RhbXAsIHRpY2tNYXJrKTtcblx0XHQgICAgXHRcdC8vdGlja01hcmsub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtjb25zb2xlLmxvZyhcIm1vdXNlZG93blwiKTt9XG5cblx0XHQgICAgXHRcdHZhciBvYmogPSBbbGluZUlELCB0aW1lU2FtcGxlLnRpbWVTdGFtcF07XG5cdFx0ICAgIFx0XHR0aWNrTWFyay5fcXRpcEluZm8gPSAkKHRpY2tNYXJrKS5xdGlwKHtcblx0XHQgICAgXHRcdFx0Y29udGVudDoge1xuXHRcdCAgICBcdFx0XHRcdHRpdGxlOiB0aGlzLl9nZW5lcmF0ZVBvcHVwVGl0bGVGb3JJbWJhbGFuY2UuYmluZCh0aGlzLCBsaW5lSUQsIHRpbWVTYW1wbGUudGltZVN0YW1wKSxcblx0XHQgICAgXHRcdFx0XHR0ZXh0OiB0aGlzLl9nZW5lcmF0ZVBvcHVwRGlzcGxheUZvckltYmFsYW5jZS5iaW5kKHRoaXMsIGxpbmVJRCwgdGltZVNhbXBsZS50aW1lU3RhbXApIC8vICh1c2luZyBKUyBmdW5jdGlvbiBjdXJyeWluZyBoZXJlKVxuXHRcdCAgICBcdFx0XHR9LFxuXHRcdCAgICBcdFx0XHRwb3NpdGlvbjoge1xuXHRcdFx0XHRcdFx0XHR2aWV3cG9ydDogJCh3aW5kb3cpXHQvLyBUaGlzIG1ha2VzIGl0IHBvc2l0aW9uIGl0c2VsZiB0byBmaXQgaW5zaWRlIHRoZSBicm93c2VyIHdpbmRvdy5cblx0XHQgICAgXHRcdFx0fSxcblx0XHQgICAgXHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHQgICAgICAgIGNsYXNzZXM6ICdxdGlwLWJsdWUgcXRpcC1zaGFkb3cgcXRpcC1yb3VuZGVkIHF0aXAtYWxsb3ctbGFyZ2UnLFxuXHRcdFx0XHRcdCAgICAgICAgd2lkdGg6IFwiMjgwcHhcIixcblx0XHRcdFx0XHQgICAgICAgIGhlaWdodDogXCJcIiArIHRoaXMuUE9QVVBfSEVJR0hUICsgXCJweFwiXG5cdFx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdFx0ICAgIHNob3c6IHtcblx0XHRcdFx0XHQgICAgXHRkZWxheTogMCxcblx0XHRcdFx0XHQgICAgXHRzb2xvOiB0cnVlXG5cdFx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdFx0ICAgIGhpZGU6IHtcblx0XHRcdFx0XHQgICAgXHRmaXhlZDogdHJ1ZSxcblx0XHRcdFx0XHQgICAgXHRkZWxheTogMzAwXG5cdFx0XHRcdFx0ICAgIH1cblxuXHRcdCAgICBcdFx0fSk7XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cblx0ICAgIFx0Ly8gQWRkIHRoZSBTVkcgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQuXG5cdCAgICBcdHBhcmVudC5hcHBlbmRDaGlsZChzdmdFbGVtZW50KTtcblx0ICAgIFx0dGhpcy5hbGxDQkdyYXBocy5wdXNoKHN2Z0VsZW1lbnQpO1xuXHRcdH1cblxuXG5cdFx0cmVtb3ZlQWxsQ0JHcmFwaHMoKSB7XG5cdFx0XHRmb3IgKHZhciBpIGluIHRoaXMuYWxsQ0JHcmFwaHMpIHtcblx0XHRcdFx0dmFyIHN2ZyA9IHRoaXMuYWxsQ0JHcmFwaHNbaV07XG5cdFx0XHRcdHN2Zy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN2Zyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmFsbENCR3JhcGhzID0gW107XG5cdFx0fVxuXG5cblx0XHRwcml2YXRlIFBPUFVQX0hFSUdIVCA9IDMyMDtcblx0XHRwcml2YXRlIFBPUFVQX1NWR19IRUlHSFQgPSAyODA7XG5cblx0XHQvLyBMb29rdXAgYSBtZXRhYm9saXRlJ3MgbmFtZSBieSBhIG1lYXN1cmVtZW50IElELlxuXHRcdHByaXZhdGUgX2dldE1ldGFib2xpdGVOYW1lQnlNZWFzdXJlbWVudElEKG1lYXN1cmVtZW50SUQ6bnVtYmVyKTpzdHJpbmcge1xuXHRcdFx0dmFyIG1lYXN1cmVtZW50VHlwZUlEOm51bWJlciA9IEVERERhdGEuQXNzYXlNZWFzdXJlbWVudHNbbWVhc3VyZW1lbnRJRF0udHlwZTtcblx0XHRcdHZhciBtZXRhYm9saXRlTmFtZTpzdHJpbmcgPSBFREREYXRhLk1ldGFib2xpdGVUeXBlc1ttZWFzdXJlbWVudFR5cGVJRF0ubmFtZTtcblx0XHRcdHJldHVybiBtZXRhYm9saXRlTmFtZTtcblx0XHR9XG5cblx0XHQvLyBVc2VkIGJ5IF9nZW5lcmF0ZURlYnVnVGV4dEZvclBvcHVwIHRvIGdlbmVyYXRlIGEgbGlzdCBsaWtlOlxuXHRcdC8vID09IElucHV0cyAgICAoMC4yNDM0IENtb2wvTClcblx0XHQvLyAgICAgRm9ybWF0ZSA6IDAuMjQzNFxuXHRcdHByaXZhdGUgX3ByaW50Q2FyYm9uQmFsYW5jZUxpc3QoaGVhZGVyOnN0cmluZywgbGlzdDpJbk91dFN1bU1lYXN1cmVtZW50W10sIHNob3dTdW06Ym9vbGVhbikge1xuXG5cdFx0XHR2YXIgcGFkZGluZzpudW1iZXIgPSAxMDtcblxuXHRcdFx0Ly8gVG90YWwgYWxsIHRoZSBlbGVtZW50cyB1cC5cblx0XHRcdHZhciB0ZXh0OnN0cmluZyA9IGhlYWRlcjtcblxuXHRcdFx0aWYgKHNob3dTdW0gJiYgbGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBzdW06bnVtYmVyID0gbGlzdC5yZWR1Y2UoIChwOm51bWJlcixjOkluT3V0U3VtTWVhc3VyZW1lbnQpID0+IHAgKyBNYXRoLmFicyhjLmNhcmJvbkRlbHRhKSwgMC4wICk7XG5cdFx0XHRcdHRleHQgKz0gVXRsLkpTLnJlcGVhdFN0cmluZygnICcsIHBhZGRpbmcgLSBoZWFkZXIubGVuZ3RoICsgMykgKyBcIltcIiArIHN1bS50b0ZpeGVkKDQpICsgXCIgQ21Nb2wvZ2R3L2hyXVwiO1xuXHRcdFx0fVxuXG5cdFx0XHR0ZXh0ICs9IFwiXFxuXCI7XG5cblx0XHRcdHZhciBwYWRkaW5nOm51bWJlciA9IDE2O1xuXG5cdFx0XHRpZiAobGlzdC5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHR0ZXh0ICs9IFV0bC5KUy5wYWRTdHJpbmdSaWdodChcIihub25lKVwiLCBwYWRkaW5nKSArIFwiXFxuXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKHZhciBpOm51bWJlcj0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciBtZWFzdXJlbWVudCA9IGxpc3RbaV07XG5cblx0XHRcdFx0XHQvLyBHZXQgYSBwYWRkZWQgbmFtZSBzdHJpbmcgZm9yIHRoZSBtZXRhYm9saXRlXG5cdFx0XHRcdFx0dmFyIG5hbWU6c3RyaW5nID0gdGhpcy5fZ2V0TWV0YWJvbGl0ZU5hbWVCeU1lYXN1cmVtZW50SUQobWVhc3VyZW1lbnQudGltZWxpbmUubWVhc3VyZUlkKTtcblx0XG5cdFx0XHRcdFx0Ly8gUmVuYW1lIFwiT3B0aWNhbCBEZW5zaXR5XCIgdG8gYmlvbWFzcywgc2luY2UgdGhhdCdzIHdoYXQgd2UgdXNlIGl0IGZvci5cblx0XHRcdFx0XHRpZiAobmFtZSA9PSAnT3B0aWNhbCBEZW5zaXR5Jylcblx0XHRcdFx0XHRcdG5hbWUgPSAnQmlvbWFzcyc7XG5cdFxuXHRcdFx0XHRcdG5hbWUgPSBVdGwuSlMucGFkU3RyaW5nUmlnaHQobmFtZSwgcGFkZGluZyk7XG5cblx0XHRcdFx0XHQvLyBHZXQgdGhlIGFzc2F5J3MgbmFtZVxuXHRcdFx0XHRcdHZhciBhc3NheVJlY29yZCA9IEVERERhdGEuQXNzYXlzW21lYXN1cmVtZW50LnRpbWVsaW5lLmFzc2F5LmFzc2F5SWRdO1xuXHRcdFx0ICAgIFx0dmFyIGxpZCA9IGFzc2F5UmVjb3JkLmxpZDtcblx0XHRcdCAgICBcdHZhciBwaWQgPSBhc3NheVJlY29yZC5waWQ7XG5cdFx0XHRcdFx0dmFyIGFzc2F5TmFtZTpzdHJpbmcgPSBbRURERGF0YS5MaW5lc1tsaWRdLm5hbWUsIEVERERhdGEuUHJvdG9jb2xzW3BpZF0ubmFtZSwgYXNzYXlSZWNvcmQubmFtZV0uam9pbignLScpO1xuXG5cdFx0XHRcdFx0dmFyIG51bWJlclN0cmluZzpzdHJpbmcgPSBVdGwuSlMucGFkU3RyaW5nUmlnaHQoTWF0aC5hYnMobWVhc3VyZW1lbnQuY2FyYm9uRGVsdGEpLnRvRml4ZWQoNCksIDgpO1xuXHRcdFx0XHRcdHRleHQgKz0gbmFtZSArIFwiIDogXCIgKyBudW1iZXJTdHJpbmcgKyBcIiAgICBbXCIgKyBhc3NheU5hbWUgKyBcIl1cIiArIFwiXFxuXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhpcyBpcyBzaG93biB3aGVuIHRoZXkgY2xpY2sgdGhlICdkYXRhJyBsaW5rIGluIGEgY2FyYm9uIGJhbGFuY2UgcG9wdXAuIEl0J3MgaW50ZW5kZWRcblx0XHQvLyB0byBzaG93IGFsbCB0aGUgZGF0YSB0aGF0IHRoZSBhc3Nlc3NtZW50IHdhcyBiYXNlZCBvbi5cblx0XHRwcml2YXRlIF9nZW5lcmF0ZURlYnVnVGV4dEZvclBvcHVwKGxpbmVJRDpudW1iZXIsIHRpbWVTdGFtcDpudW1iZXIsIGJhbGFuY2U6TGluZVNhbXBsZUJhbGFuY2UpOkhUTUxFbGVtZW50IHtcblx0XHRcdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG5cdFx0XHQkKGVsKS5jc3MoJ2ZvbnQtZmFtaWx5JywgJ1wiTHVjaWRhIENvbnNvbGVcIiwgTW9uYWNvLCBtb25vc3BhY2UnKTtcblx0XHRcdCQoZWwpLmNzcygnZm9udC1zaXplJywgJzhwdCcpO1xuXHRcdFx0ZWwuc2V0QXR0cmlidXRlKCd3cmFwJywnb2ZmJyk7XG5cblx0XHRcdHZhciBzb3J0ZWRMaXN0OkluT3V0U3VtTWVhc3VyZW1lbnRbXSA9IGJhbGFuY2UubWVhc3VyZW1lbnRzLnNsaWNlKDApO1xuXHRcdFx0c29ydGVkTGlzdC5zb3J0KCAoYSxiKSA9PiB7cmV0dXJuIGEuY2FyYm9uRGVsdGEgLSBiLmNhcmJvbkRlbHRhO30gKVxuXG5cdFx0XHR2YXIgcHJldlRpbWVTdGFtcDpudW1iZXIgPSB0aGlzLl9nZXRQcmV2aW91c01lcmdlZFRpbWVzdGFtcChsaW5lSUQsIHRpbWVTdGFtcCk7XG5cdFx0XHR2YXIgdGl0bGU6c3RyaW5nID0gRURERGF0YS5MaW5lc1tsaW5lSURdLm5hbWUgKyBcIiBmcm9tIFwiICsgcHJldlRpbWVTdGFtcC50b0ZpeGVkKDEpICsgXCJoIHRvIFwiICsgdGltZVN0YW1wLnRvRml4ZWQoMSkgKyBcImhcIjtcblxuXHRcdFx0dmFyIGRpdmlkZXIgPSBcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG5cIjtcblx0XHRcdHZhciB0ZXh0ID0gdGl0bGUgKyBcIlxcblwiICsgZGl2aWRlciArIFwiXFxuXCI7XG5cblx0XHRcdHRleHQgKz0gdGhpcy5fcHJpbnRDYXJib25CYWxhbmNlTGlzdChcIj09IElucHV0c1wiLCBzb3J0ZWRMaXN0LmZpbHRlciggKHgpID0+IHguY2FyYm9uRGVsdGEgPCAwICksIHRydWUpICsgXCJcXG5cIjtcblx0XHRcdHRleHQgKz0gdGhpcy5fcHJpbnRDYXJib25CYWxhbmNlTGlzdChcIj09IE91dHB1dHNcIiwgc29ydGVkTGlzdC5maWx0ZXIoICh4KSA9PiB4LmNhcmJvbkRlbHRhID4gMCApLCB0cnVlKSArIFwiXFxuXCI7XG5cdFx0XHR0ZXh0ICs9IHRoaXMuX3ByaW50Q2FyYm9uQmFsYW5jZUxpc3QoXCI9PSBObyBEZWx0YVwiLCBzb3J0ZWRMaXN0LmZpbHRlciggKHgpID0+IHguY2FyYm9uRGVsdGEgPT0gMCApLCBmYWxzZSkgKyBcIlxcblwiO1xuXG5cdFx0XHQvLyBTaG93IHRoZSBzdW1tYXRpb24gZGV0YWlscyBmb3IgdGhpcyBzdHVkeS5cblx0XHRcdHRleHQgKz0gXCJcXG5ERVRBSUxTXFxuXCIgKyBkaXZpZGVyICsgXCJcXG5cIjtcblxuXHRcdFx0dmFyIGRldGFpbHM6c3RyaW5nID0gQ2FyYm9uQmFsYW5jZS5TdW1tYXRpb24uZ2VuZXJhdGVEZWJ1Z1RleHQoXG5cdFx0XHRcdHRoaXMuX2Jpb21hc3NDYWxjdWxhdGlvbixcblx0XHRcdFx0bGluZUlELFxuXHRcdFx0XHR0aW1lU3RhbXApO1xuXG5cdFx0XHR0ZXh0ICs9IGRldGFpbHM7XG5cblxuXHRcdFx0Ly8gU2hvdyB0aGUgYmlvbWFzcyBjYWxjdWxhdGlvbiBmb3IgdGhpcyBzdHVkeS5cblx0XHRcdHRleHQgKz0gXCJcXG5CSU9NQVNTXFxuXCIgKyBkaXZpZGVyICsgXCJcXG5cIjtcblx0XHRcdHRleHQgKz0gXCJCaW9tYXNzIGNhbGN1bGF0aW9uOiBcIiArICgrdGhpcy5fYmlvbWFzc0NhbGN1bGF0aW9uKS50b0ZpeGVkKDQpICsgXCJcXG5cIjtcblxuXHRcdFx0ZWwuaW5uZXJIVE1MID0gdGV4dDtcblxuXHRcdFx0JChlbCkud2lkdGgoNDYwKTtcblx0XHRcdCQoZWwpLmhlaWdodCh0aGlzLlBPUFVQX1NWR19IRUlHSFQpO1xuXG5cdFx0XHQvLyBMb2FkIHVwIHNvbWUgbW9yZSBkZXRhaWxlZCBzdHVmZiBhYm91dCB0aGUgd2hvbGUgcmVhY3Rpb24uXG5cdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcblx0XHRcdFx0ZGF0YVR5cGU6IFwianNvblwiLFxuXHRcdCAgICAgIFx0dXJsOiBcIkZvcm1BamF4UmVzcC5jZ2lcIiwgXG5cdFx0ICAgICAgXHRkYXRhOiB7IFwiYWN0aW9uXCI6XCJnZXRCaW9tYXNzQ2FsY3VsYXRpb25JbmZvXCIsIG1ldGFib2xpY01hcElEOnRoaXMuX21ldGFib2xpY01hcElEIH0sXG5cdFx0ICAgICAgXHRzdWNjZXNzOiAoIHJlc3BvbnNlOmFueSApID0+IHtcblx0XHQgICAgICBcdFx0aWYgKHJlc3BvbnNlLnR5cGUgPT0gXCJTdWNjZXNzXCIpIHtcblx0XHQgICAgICBcdFx0XHRlbC5pbm5lckhUTUwgKz0gdGhpcy5fZ2VuZXJhdGVCaW9tYXNzQ2FsY3VsYXRpb25EZWJ1Z1RleHQocmVzcG9uc2UuZGF0YS5iaW9tYXNzX2NhbGN1bGF0aW9uX2luZm8pO1xuXHRcdCAgICAgIFx0XHR9IGVsc2Uge1xuXHRcdCAgICAgIFx0XHRcdGNvbnNvbGUubG9nKCdVbmFibGUgdG8gZ2V0IGJpb21hc3MgY2FsY3VsYXRpb24gaW5mbzogJyArIHJlc3BvbnNlLm1lc3NhZ2UpO1xuXHRcdCAgICAgIFx0XHR9XG5cdFx0XHQgICAgfVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBlbDtcblx0XHR9XG5cblxuXHRcdC8vIFVzaW5nIHRoZSBzdHJ1Y3R1cmVzIGluIG1ldGFib2xpY19tYXBzLmJpb21hc3NfY2FsY3VsYXRpb25faW5mbywgZ2VuZXJhdGUgYSBzdHJpbmcgdGhhdCBzaG93cyBcblx0XHQvLyBhbGwgdGhlIHNwZWNpZXMsIG1ldGFib2xpdGVzLCBzdG9pY2hpb21ldHJpZXMsIGFuZCBjYXJib24gY291bnRzIHVzZWQuXG5cdFx0Ly8gU2VlIHNjaGVtYS50eHQgZm9yIHRoZSBzdHJ1Y3R1cmUgb2YgYmlvbWFzc19jYWxjdWxhdGlvbl9pbmZvLlxuXHRcdHByaXZhdGUgX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0KGJpb21hc3NfY2FsY3VsYXRpb25faW5mbzphbnkpOnN0cmluZyB7XG5cdFx0XHR2YXIgYmNpID0gSlNPTi5wYXJzZShiaW9tYXNzX2NhbGN1bGF0aW9uX2luZm8pO1xuXHRcdFx0dmFyIHJldDpzdHJpbmcgPSAnJztcblxuXHRcdFx0cmV0ICs9IFwiQmlvbWFzcyByZWFjdGlvbiAgIDogXCIgKyBiY2kucmVhY3Rpb25faWQgKyBcIlxcblwiO1xuXHRcdFx0cmV0ICs9IFwiXFxuPT0gUmVhY3RhbnRzXFxuXCI7XG5cdFx0XHRyZXQgKz0gdGhpcy5fZ2VuZXJhdGVCaW9tYXNzQ2FsY3VsYXRpb25EZWJ1Z1RleHRGb3JMaXN0KGJjaS5yZWFjdGFudHMpO1xuXG5cdFx0XHRyZXQgKz0gXCJcXG49PSBQcm9kdWN0c1xcblwiO1xuXHRcdFx0cmV0ICs9IHRoaXMuX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0Rm9yTGlzdChiY2kucHJvZHVjdHMpO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXG5cdFx0cHJpdmF0ZSBfZ2VuZXJhdGVCaW9tYXNzQ2FsY3VsYXRpb25EZWJ1Z1RleHRGb3JMaXN0KHRoZUxpc3Q6YW55KTpzdHJpbmcge1xuXHRcdFx0dmFyIHJldDpzdHJpbmcgPSAnJztcblxuXHRcdFx0Zm9yICh2YXIgaT0wOyBpIDwgdGhlTGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgZW50cnkgPSB0aGVMaXN0W2ldO1xuXG5cdFx0XHRcdGlmIChlbnRyeS5tZXRhYm9saXRlTmFtZSkge1xuXHRcdFx0XHRcdHZhciBjb250cmlidXRpb24gPSBlbnRyeS5zdG9pY2hpb21ldHJ5ICogZW50cnkuY2FyYm9uQ291bnQ7XG5cdFx0XHRcdFx0cmV0ICs9IFwiICAgIFwiICsgVXRsLkpTLnBhZFN0cmluZ1JpZ2h0KGVudHJ5LnNwZWNpZXNOYW1lLDE1KSArIFwiOiBbXCIgKyBVdGwuSlMucGFkU3RyaW5nTGVmdChjb250cmlidXRpb24udG9GaXhlZCg0KSwgOSkgKyBcIl1cIiArIFxuXHRcdFx0XHRcdFx0XCIgIHsgbWV0YWJvbGl0ZTogXCIgKyBlbnRyeS5tZXRhYm9saXRlTmFtZSArIFxuXHRcdFx0XHRcdFx0XCIsIHN0b2ljaGlvbWV0cnk6IFwiICsgZW50cnkuc3RvaWNoaW9tZXRyeSArIFxuXHRcdFx0XHRcdFx0XCIsIGNhcmJvbkNvdW50OiBcIiArIGVudHJ5LmNhcmJvbkNvdW50ICsgXCIgfVwiICsgXCJcXG5cIjtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldCArPSBcIiAgICBcIiArIFV0bC5KUy5wYWRTdHJpbmdSaWdodChlbnRyeS5zcGVjaWVzTmFtZSwxNSkgKyBcIjogWyAgICAgICAgIF1cIiArIFwiXFxuXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblxuXHRcdC8vIEdldCB0aGUgcHJldmlvdXMgbWVyZ2VkIHRpbWVzdGFtcCBmb3IgdGhlIGdpdmVuIGxpbmUuXG5cdFx0Ly8gVGhpcyBpcyB1c2VkIHRvIHNob3cgdGhlIHJhbmdlIHRoYXQgYW4gaW1iYWxhbmNlIG9jY3VycmVkIG92ZXIgKHNpbmNlIHdlIGRvbid0IGRpc3BsYXkgaXRcblx0XHQvLyBhbnl3aGVyZSBvbiB0aGUgdGltZWxpbmVzKS5cblx0XHRwcml2YXRlIF9nZXRQcmV2aW91c01lcmdlZFRpbWVzdGFtcChsaW5lSUQ6bnVtYmVyLCB0aW1lU3RhbXA6bnVtYmVyKSB7XG5cdFx0XHR2YXIgcHJldlRpbWVTdGFtcDpudW1iZXIgPSAwO1xuXHRcdFx0XG5cdFx0XHR2YXIgc2FtcGxlczpNZXJnZWRMaW5lU2FtcGxlW10gPSB0aGlzLm1lcmdlZFRpbWVsaW5lc0J5TGluZUlEW2xpbmVJRF0ubWVyZ2VkTGluZVNhbXBsZXM7XG5cdFx0XHRmb3IgKHZhciBpOm51bWJlcj0wOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoc2FtcGxlc1tpXS50aW1lU3RhbXAgPT0gdGltZVN0YW1wKVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cHJldlRpbWVTdGFtcCA9IHNhbXBsZXNbaV0udGltZVN0YW1wO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcHJldlRpbWVTdGFtcDtcblx0XHR9XG5cblxuXHRcdC8vIEdlbmVyYXRlcyB0aGUgdGl0bGUgYmFyIHN0cmluZyBmb3IgYSBjYXJib24gYmFsYW5jZSBwb3B1cCBkaXNwbGF5LlxuXHRcdHByaXZhdGUgX2dlbmVyYXRlUG9wdXBUaXRsZUZvckltYmFsYW5jZShsaW5lSUQsIHRpbWVTdGFtcDpudW1iZXIpIHtcblx0XHRcdHZhciBwcmV2VGltZVN0YW1wOm51bWJlciA9IHRoaXMuX2dldFByZXZpb3VzTWVyZ2VkVGltZXN0YW1wKGxpbmVJRCwgdGltZVN0YW1wKTtcblx0XHRcdHJldHVybiBFREREYXRhLkxpbmVzW2xpbmVJRF0ubmFtZSArIFwiIGZyb20gXCIgKyBwcmV2VGltZVN0YW1wLnRvRml4ZWQoMSkgKyBcImggdG8gXCIgKyB0aW1lU3RhbXAudG9GaXhlZCgxKSArIFwiaFwiO1xuXHRcdH1cblxuXG5cdFx0Ly8gV2hlbiB0aGV5IGhvdmVyIG92ZXIgYSB0aWNrIG1hcmssIHdlIHNob3VsZCBkaXNwbGF5IGFsbCB0aGUgY2FyYm9uIGluL291dCBkYXRhIGZvciBhbGwgXG5cdFx0Ly8gYXNzYXlzIHRoYXQgaGF2ZSBhbiBpbWJhbGFuY2UgYXQgdGhpcyB0aW1lIHBvaW50LlxuXHRcdC8vIFRoaXMgZ2VuZXJhdGVzIHRoZSBIVE1MIHRoYXQgZ29lcyBpbiB0aGUgcG9wdXAgZm9yIGEgc3BlY2lmaWMgYXNzYXkgaW1iYWxhbmNlLlxuXHRcdHByaXZhdGUgX2dlbmVyYXRlUG9wdXBEaXNwbGF5Rm9ySW1iYWxhbmNlKGxpbmVJRCwgdGltZVN0YW1wLCBldmVudCwgYXBpKSB7XG5cblx0XHRcdC8vIEdhdGhlciB0aGUgZGF0YSB0aGF0IHdlJ2xsIG5lZWQuXG5cdFx0XHR2YXIgYmFsYW5jZTpMaW5lU2FtcGxlQmFsYW5jZSA9IHRoaXMuX2NoZWNrTGluZVNhbXBsZUJhbGFuY2UobGluZUlELCB0aW1lU3RhbXApO1xuXG5cdFx0XHQvLyBDcmVhdGUgU1ZHIHRvIGRpc3BsYXkgZXZlcnl0aGluZyBpbi5cblx0XHRcdHZhciBzdmdTaXplID0gWzI2MCwgdGhpcy5QT1BVUF9TVkdfSEVJR0hUXTtcblx0XHRcdHZhciBzdmcgPSBVdGwuU1ZHLmNyZWF0ZVNWRyhzdmdTaXplWzBdICsgJ3B4Jywgc3ZnU2l6ZVsxXSArICdweCcsIHN2Z1NpemVbMF0sIHN2Z1NpemVbMV0pO1xuXHRcdFx0dmFyIHlPZmZzZXQgPSAodGhpcy5QT1BVUF9IRUlHSFQgLSBzdmdTaXplWzFdKSAvIDI7XG5cblx0XHRcdHZhciBmb250TmFtZTpzdHJpbmcgPSBcIkFyaWFsXCI7XG5cblx0XHRcdC8vIENyZWF0ZSBhIGxpbmsgdG8gY29weSBkZWJ1ZyB0ZXh0IHRvIHRoZSBjbGlwYm9hcmQuXG5cdFx0XHR2YXIgZGVidWdUZXh0TGluayA9IDxTVkdFbGVtZW50PnN2Zy5hcHBlbmRDaGlsZChVdGwuU1ZHLmNyZWF0ZVRleHQoMCwgMTAsIFwiZGF0YVwiLCBmb250TmFtZSwgMTAsIGZhbHNlLCBVdGwuQ29sb3IucmdiKDE1MCwxNTAsMTUwKSkpO1xuXHRcdFx0ZGVidWdUZXh0TGluay5zZXRBdHRyaWJ1dGUoJ3gnLCAoc3ZnU2l6ZVswXSAtIDMpLnRvU3RyaW5nKCkpO1xuICAgXHRcdFx0ZGVidWdUZXh0TGluay5zZXRBdHRyaWJ1dGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpO1xuICAgXHRcdFx0ZGVidWdUZXh0TGluay5zZXRBdHRyaWJ1dGUoJ2FsaWdubWVudC1iYXNlbGluZScsICdoYW5naW5nJyk7XG4gICBcdFx0XHRkZWJ1Z1RleHRMaW5rLnNldEF0dHJpYnV0ZSgnZm9udC1zdHlsZScsICdpdGFsaWMnKTtcbiAgIFx0XHRcdCQoZGVidWdUZXh0TGluaykuY3NzKCdjdXJzb3InLCAncG9pbnRlcicpO1xuXG4gICBcdFx0XHR2YXIgaGVscGVyOlV0bC5RdGlwSGVscGVyID0gbmV3IFV0bC5RdGlwSGVscGVyKCk7XG4gICBcdFx0XHRoZWxwZXIuY3JlYXRlKGRlYnVnVGV4dExpbmssIHRoaXMuX2dlbmVyYXRlRGVidWdUZXh0Rm9yUG9wdXAuYmluZCh0aGlzLCBsaW5lSUQsIHRpbWVTdGFtcCwgYmFsYW5jZSksXG4gICBcdFx0XHRcdHtcblx0ICAgIFx0XHRcdHBvc2l0aW9uOiB7XG5cdCAgICBcdFx0XHRcdG15OiAnYm90dG9tIHJpZ2h0Jyxcblx0ICAgIFx0XHRcdFx0YXQ6ICd0b3AgbGVmdCdcblx0ICAgIFx0XHRcdH0sXG5cdCAgICBcdFx0XHRzdHlsZToge1xuXHRcdFx0XHQgICAgICAgIGNsYXNzZXM6ICdxdGlwLWJsdWUgcXRpcC1zaGFkb3cgcXRpcC1yb3VuZGVkIHF0aXAtYWxsb3ctbGFyZ2UnLFxuXHRcdFx0XHQgICAgICAgIHdpZHRoOiBcIjU1MHB4XCIsXG5cdFx0XHRcdCAgICAgICAgaGVpZ2h0OiBcIlwiICsgdGhpcy5QT1BVUF9IRUlHSFQgKyBcInB4XCJcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBzaG93OiAnY2xpY2snLFxuXHRcdFx0XHQgICAgaGlkZTogJ3VuZm9jdXMnXG5cdCAgICBcdFx0fSk7XG5cblx0XHRcdC8vIEZpZ3VyZSBvdXQgb3VyIHZlcnRpY2FsIHNjYWxlIGFuZCBsYXlvdXQgcGFyYW1ldGVycy5cblx0XHRcdHZhciB0b3BQb3MgPSBNYXRoLmZsb29yKHN2Z1NpemVbMV0gKiAwLjEpICsgeU9mZnNldDtcblx0XHRcdHZhciBib3R0b21Qb3MgPSBzdmdTaXplWzFdIC0gdG9wUG9zICsgeU9mZnNldDtcblxuXHRcdFx0dmFyIHRvcFBvc1ZhbHVlID0gTWF0aC5tYXgoYmFsYW5jZS50b3RhbEluLCBiYWxhbmNlLnRvdGFsT3V0KTtcblx0XHRcdHZhciBib3R0b21Qb3NWYWx1ZSA9IDA7XG5cblx0XHRcdHZhciBpbnB1dHNCYXIgPSB7XG5cdFx0XHRcdGxlZnQ6ICBNYXRoLmZsb29yKHN2Z1NpemVbMF0gKiAwLjEpLFxuXHRcdFx0XHRyaWdodDogTWF0aC5mbG9vcihzdmdTaXplWzBdICogMC40KSxcblx0XHRcdFx0Y3VycmVudFZhbHVlOiAwLFxuXHRcdFx0XHRjdXJCYXI6IDAsXG5cdFx0XHRcdG51bUJhcnM6IDAsXG5cdFx0XHRcdHN0YXJ0Q29sb3I6IFV0bC5Db2xvci5yZ2IoMTExLDEwMiwyMDkpLCBcblx0XHRcdFx0ZW5kQ29sb3I6IFV0bC5Db2xvci5yZ2IoMzgsMzIsMTI0KVxuXHRcdFx0fTtcblxuXHRcdFx0dmFyIG91dHB1dHNCYXIgPSB7XG5cdFx0XHRcdGxlZnQ6ICBNYXRoLmZsb29yKHN2Z1NpemVbMF0gKiAwLjYpLFxuXHRcdFx0XHRyaWdodDogTWF0aC5mbG9vcihzdmdTaXplWzBdICogMC45KSxcblx0XHRcdFx0Y3VycmVudFZhbHVlOiAwLFxuXHRcdFx0XHRjdXJCYXI6IDAsXG5cdFx0XHRcdG51bUJhcnM6IDAsXG5cdFx0XHRcdHN0YXJ0Q29sb3I6IFV0bC5Db2xvci5yZ2IoMjE5LDAsMTI2KSwgXG5cdFx0XHRcdGVuZENvbG9yOiBVdGwuQ29sb3IucmdiKDkwLDAsMjkpXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBHZXQgZXZlcnl0aGluZyBpbiBhIGxpc3Qgc29ydGVkIGJ5IGhlaWdodC5cblx0XHRcdHZhciBzb3J0ZWRMaXN0OkluT3V0U3VtTWVhc3VyZW1lbnRbXSA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaU1lYXN1cmVtZW50IGluIGJhbGFuY2UubWVhc3VyZW1lbnRzKSB7XG5cdFx0XHRcdHNvcnRlZExpc3QucHVzaCggYmFsYW5jZS5tZWFzdXJlbWVudHNbaU1lYXN1cmVtZW50XSApO1xuXHRcdFx0XHR2YXIgY2FyYm9uRGVsdGE6bnVtYmVyID0gYmFsYW5jZS5tZWFzdXJlbWVudHNbaU1lYXN1cmVtZW50XS5jYXJib25EZWx0YTtcblx0XHRcdFx0aWYgKGNhcmJvbkRlbHRhID4gMClcblx0XHRcdFx0XHRvdXRwdXRzQmFyLm51bUJhcnMrKztcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGlucHV0c0Jhci5udW1CYXJzKys7XG5cdFx0XHR9XG5cblx0XHRcdHNvcnRlZExpc3Quc29ydCggZnVuY3Rpb24oYSxiKSB7XG5cdFx0XHRcdHJldHVybiBiLmFic0RlbHRhKCkgLSBhLmFic0RlbHRhKCk7XG5cdFx0XHR9KTtcblxuXG5cdFx0XHQvLyBOb3cgYnVpbGQgdGhlIHN0YWNrcy5cblx0XHRcdHZhciBwcmV2SW5WYWx1ZSA9IDAsIHByZXZPdXRWYWx1ZSA9IDA7XG5cdFx0XHRmb3IgKHZhciBpTWVhc3VyZW1lbnQgaW4gc29ydGVkTGlzdCkge1xuXHRcdFx0XHR2YXIgbWVhc3VyZW1lbnQgPSBzb3J0ZWRMaXN0W2lNZWFzdXJlbWVudF07XG5cblx0XHRcdFx0dmFyIGNhcmJvbkRlbHRhOm51bWJlciA9IG1lYXN1cmVtZW50LmNhcmJvbkRlbHRhO1xuXHRcdFx0XHR2YXIgYWJzRGVsdGE6bnVtYmVyID0gTWF0aC5hYnMoY2FyYm9uRGVsdGEpO1xuXG5cdFx0XHRcdHZhciBiYXIgPSBpbnB1dHNCYXI7XG5cdFx0XHRcdGlmIChjYXJib25EZWx0YSA+IDApXG5cdFx0XHRcdFx0YmFyID0gb3V0cHV0c0JhcjtcblxuXHRcdFx0XHR2YXIgbmV4dFZhbHVlID0gYmFyLmN1cnJlbnRWYWx1ZSArIGFic0RlbHRhO1xuXHRcdFx0XHR2YXIgeTEgPSBVdGwuSlMucmVtYXBWYWx1ZShiYXIuY3VycmVudFZhbHVlLCBib3R0b21Qb3NWYWx1ZSwgdG9wUG9zVmFsdWUsIGJvdHRvbVBvcywgdG9wUG9zKTtcblx0XHRcdFx0dmFyIHkyID0gVXRsLkpTLnJlbWFwVmFsdWUobmV4dFZhbHVlLCAgICAgICAgYm90dG9tUG9zVmFsdWUsIHRvcFBvc1ZhbHVlLCBib3R0b21Qb3MsIHRvcFBvcyk7XG5cdFx0XHRcdGlmICh5MS15MiA8PSAxKVxuXHRcdFx0XHRcdHkyID0geTEgLSAyO1xuXG5cdFx0XHRcdC8vIFRoZSBjb2xvciBqdXN0IGludGVycG9sYXRlcyB0aHJvdWdoIHRoaXMgYmFyJ3MgY29sb3IgcmFuZ2UuXG5cdFx0XHRcdHZhciBjbHIgPSAoYmFyLm51bUJhcnMgPD0gMSkgPyBiYXIuc3RhcnRDb2xvciA6IFV0bC5Db2xvci5pbnRlcnBvbGF0ZShiYXIuc3RhcnRDb2xvciwgYmFyLmVuZENvbG9yLCBiYXIuY3VyQmFyIC8gKGJhci5udW1CYXJzLTEpKTtcblxuXHRcdFx0XHR2YXIgcmVjdCA9IHN2Zy5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVSZWN0KGJhci5sZWZ0LCB5MSwgYmFyLnJpZ2h0LWJhci5sZWZ0LCB5Mi15MSwgXG5cdFx0XHRcdFx0Y2xyLCBcdC8vIGZpbGwgY29sb3Jcblx0XHRcdFx0XHQxLCBVdGwuQ29sb3IuYmxhY2sgLy8gc3Ryb2tlIGluZm9cblx0XHRcdFx0KSk7XG5cblx0XHRcdFx0Ly8gTWFrZSBpdCBhIHJvdW5kZWQgcmVjdGFuZ2xlLlxuXHRcdFx0XHR2YXIgcm91bmQgPSBNYXRoLm1pbigyLCBNYXRoLmFicyh5Mi15MSkpO1xuXHRcdFx0XHRVdGwuU1ZHLm1ha2VSZWN0Um91bmRlZChyZWN0LCByb3VuZCwgcm91bmQpO1xuXG5cdFx0XHRcdC8vIEFkZCBhIHRpbnkgbGFiZWwgc2hvd2luZyB0aGUgbmFtZSBvZiB0aGUgbWV0YWJvbGl0ZS5cblx0XHRcdFx0dmFyIG1lYXN1cmVtZW50VHlwZUlEID0gRURERGF0YS5Bc3NheU1lYXN1cmVtZW50c1ttZWFzdXJlbWVudC50aW1lbGluZS5tZWFzdXJlSWRdLnR5cGU7XG5cdFx0XHRcdHZhciBtZXRhYm9saXRlTmFtZSA9IEVERERhdGEuTWV0YWJvbGl0ZVR5cGVzW21lYXN1cmVtZW50VHlwZUlEXS5uYW1lO1xuXG5cdFx0XHRcdC8vIFJlbmFtZSBcIk9wdGljYWwgRGVuc2l0eVwiIHRvIGJpb21hc3MsIHNpbmNlIHRoYXQncyB3aGF0IHdlIHVzZSBpdCBmb3IuXG5cdFx0XHRcdGlmIChtZXRhYm9saXRlTmFtZSA9PSAnT3B0aWNhbCBEZW5zaXR5Jylcblx0XHRcdFx0XHRtZXRhYm9saXRlTmFtZSA9ICdCaW9tYXNzJztcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSdzIHJvb20sIHB1dCB0aGUgbGFiZWwgcmlnaHQgaW4gdGhlIGJveCBmb3IgdGhlIG1ldGFib2xpdGUuXG5cdFx0XHRcdC8vIElmIG5vdCwgcHV0IGl0IG9mZiB0byB0aGUgc2lkZS5cblx0XHRcdFx0dmFyIG1ldGFib2xpdGVMYWJlbEZvbnRTaXplID0gMTE7XG5cdFx0XHRcdGlmICh5MS15MiA+IG1ldGFib2xpdGVMYWJlbEZvbnRTaXplKjEuMikge1xuXHRcdFx0XHRcdHZhciB0ZXh0ID0gdGhpcy5fY3JlYXRlVGV4dFdpdGhEcm9wU2hhZG93KHN2Zyxcblx0XHRcdFx0XHRcdChiYXIubGVmdCArIGJhci5yaWdodCkgLyAyLFxuXHRcdFx0XHRcdFx0KHkxICsgeTIpIC8gMiArIG1ldGFib2xpdGVMYWJlbEZvbnRTaXplLzIsXG5cdFx0XHRcdFx0XHRtZXRhYm9saXRlTmFtZSxcblx0XHRcdFx0XHRcdGZvbnROYW1lLCBtZXRhYm9saXRlTGFiZWxGb250U2l6ZSxcblx0XHRcdFx0XHRcdFV0bC5Db2xvci53aGl0ZSwgVXRsLkNvbG9yLmJsYWNrXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdCQodGV4dCkuY3NzKCdmb250LXdlaWdodCcsICdib2xkJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXIuY3VyQmFyKys7XG5cdFx0XHRcdGJhci5jdXJyZW50VmFsdWUgPSBuZXh0VmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2FkZFN1bW1hcnlMYWJlbHMoc3ZnLCBiYWxhbmNlLCBpbnB1dHNCYXIsIG91dHB1dHNCYXIsIHRvcFBvcywgdG9wUG9zVmFsdWUsIGJvdHRvbVBvcywgYm90dG9tUG9zVmFsdWUpO1xuXG5cdFx0XHRyZXR1cm4gc3ZnO1xuXHRcdH1cblxuXHRcdHByaXZhdGUgX2NyZWF0ZVRleHRXaXRoRHJvcFNoYWRvdyhzdmcsIHgsIHksIHRleHQsIGZvbnQsIGZvbnRTaXplLCBtYWluQ29sb3IsIHNoYWRvd0NvbG9yKSB7XG5cdFx0XHR2YXIgaXggPSBNYXRoLmZsb29yKHgpO1xuXHRcdFx0dmFyIGl5ID0gTWF0aC5mbG9vcih5KTtcblxuXHRcdFx0dmFyIGVsMSA9IHN2Zy5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVUZXh0KCBpeCwgaXksIHRleHQsIGZvbnQsIGZvbnRTaXplLCB0cnVlLCBzaGFkb3dDb2xvciApICk7XG5cdFx0XHR2YXIgZWwyID0gc3ZnLmFwcGVuZENoaWxkKCBVdGwuU1ZHLmNyZWF0ZVRleHQoIGl4LCBpeS0xLCB0ZXh0LCBmb250LCBmb250U2l6ZSwgdHJ1ZSwgbWFpbkNvbG9yICkgKTtcblx0XHRcdHJldHVybiAkKGVsMSkuYWRkKGVsMik7XG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSBfYWRkU3VtbWFyeUxhYmVscyhzdmcsIGJhbGFuY2UsIGlucHV0c0Jhciwgb3V0cHV0c0JhciwgdG9wUG9zLCB0b3BQb3NWYWx1ZSwgYm90dG9tUG9zLCBib3R0b21Qb3NWYWx1ZSkge1xuXG5cdFx0XHQvLyBQdXQgYSBsYWJlbCB1bmRlciBlYWNoIGJhci5cblx0XHRcdHZhciBmb250ID0gXCJBcmlhbFwiO1xuXHRcdFx0dmFyIGZvbnRTaXplID0gMTY7XG5cblx0XHRcdHN2Zy5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVUZXh0KCBcblx0XHRcdFx0KGlucHV0c0Jhci5sZWZ0ICsgaW5wdXRzQmFyLnJpZ2h0KSAqIDAuNSxcblx0XHRcdFx0Ym90dG9tUG9zICsgZm9udFNpemUsXG5cdFx0XHRcdFwiSW5wdXRzXCIsXG5cdFx0XHRcdGZvbnQsIGZvbnRTaXplLFxuXHRcdFx0XHR0cnVlXG5cdFx0XHQpKTtcblxuXHRcdFx0c3ZnLmFwcGVuZENoaWxkKCBVdGwuU1ZHLmNyZWF0ZVRleHQoIFxuXHRcdFx0XHQob3V0cHV0c0Jhci5sZWZ0ICsgb3V0cHV0c0Jhci5yaWdodCkgKiAwLjUsXG5cdFx0XHRcdGJvdHRvbVBvcyArIGZvbnRTaXplLFxuXHRcdFx0XHRcIk91dHB1dHNcIixcblx0XHRcdFx0Zm9udCwgZm9udFNpemUsXG5cdFx0XHRcdHRydWVcblx0XHRcdCkpO1xuXG5cdFx0XHQvLyBMYWJlbCB0aGUgdG9wIG9mIHRoZSBjaGFydCdzIENtb2wvTC4gVGhhdCdzIGVub3VnaCB0byBnZXQgYSBzZW5zZSBvZiB0aGUgZGF0YSwgYW5kIHdlIGNhbiBcblx0XHRcdC8vIHByb3ZpZGUgZnVydGhlciBob3ZlciBwb3B1cHMgaWYgd2UgbmVlZCB0by5cblx0XHRcdHZhciBtaWRkbGVYID0gKGlucHV0c0Jhci5yaWdodCArIG91dHB1dHNCYXIubGVmdCkgLyAyO1xuXHRcdFx0dmFyIHRTaGFwZVdpZHRoID0gKG91dHB1dHNCYXIubGVmdCAtIGlucHV0c0Jhci5yaWdodCkgLSA2O1xuXHRcdFx0dmFyIHRTaGFwZUhlaWdodCA9IDU7XG5cdFx0XHR0aGlzLl9kcmF3VFNoYXBlKHN2ZywgbWlkZGxlWCwgdG9wUG9zLCBcblx0XHRcdFx0dFNoYXBlV2lkdGgsIHRTaGFwZUhlaWdodCwgXG5cdFx0XHRcdHRvcFBvc1ZhbHVlLnRvRml4ZWQoMikgKyBcIiBDbU1vbC9nZHcvaHJcIiwgZm9udCwgMTQsXG5cdFx0XHRcdGZhbHNlICk7XG5cblxuXHRcdFx0Ly8gRHJhdyBhbm90aGVyIGluZGljYXRvciBmb3IgdGhlIG1ldGFib2xpdGUgdGhhdCBoYXMgbGVzcy5cblx0XHRcdHZhciBzbWFsbGVyTWV0YWJvbGl0ZUNtb2xMVmFsdWUgPSBNYXRoLm1pbihiYWxhbmNlLnRvdGFsSW4sIGJhbGFuY2UudG90YWxPdXQpO1xuXHRcdFx0dmFyIHNtYWxsZXJNZXRhYm9saXRlWVBvcyA9IFV0bC5KUy5yZW1hcFZhbHVlKHNtYWxsZXJNZXRhYm9saXRlQ21vbExWYWx1ZSwgYm90dG9tUG9zVmFsdWUsIHRvcFBvc1ZhbHVlLCBib3R0b21Qb3MsIHRvcFBvcyk7XG5cblx0XHRcdHRoaXMuX2RyYXdUU2hhcGUoc3ZnLCBtaWRkbGVYLCBzbWFsbGVyTWV0YWJvbGl0ZVlQb3MsIFxuXHRcdFx0XHR0U2hhcGVXaWR0aCowLjgsIHRTaGFwZUhlaWdodCwgXG5cdFx0XHRcdHNtYWxsZXJNZXRhYm9saXRlQ21vbExWYWx1ZS50b0ZpeGVkKDIpLCBmb250LCAxNCxcblx0XHRcdFx0dHJ1ZSApO1xuXG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSBfZHJhd1RTaGFwZShzdmcsIGNlbnRlclgsIHksIHdpZHRoLCBoZWlnaHQsIHRleHQsIGZvbnQsIGZvbnRTaXplLCB0ZXh0T25Cb3R0b206Ym9vbGVhbikge1xuXG5cdFx0XHR2YXIgdFNoYXBlSGVpZ2h0Om51bWJlciA9IDU7XG5cblx0XHRcdC8vIEJyZWFrIHRoZSB0ZXh0IGludG8gbXVsdGlwbGUgbGluZXMgaWYgbmVjZXNzYXJ5LlxuXHRcdFx0dmFyIGxpbmVzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcblx0XHRcdHZhciBjdXJZID0geSAtIGZvbnRTaXplKmxpbmVzLmxlbmd0aDtcblx0XHRcdGlmICh0ZXh0T25Cb3R0b20pXG5cdFx0XHRcdGN1clkgPSB5ICsgZm9udFNpemUgKyB0U2hhcGVIZWlnaHQ7XG5cblx0XHRcdGZvciAodmFyIGkgaW4gbGluZXMpIHtcblx0XHRcdFx0c3ZnLmFwcGVuZENoaWxkKCBVdGwuU1ZHLmNyZWF0ZVRleHQoIFxuXHRcdFx0XHRcdGNlbnRlclgsXG5cdFx0XHRcdFx0Y3VyWSxcblx0XHRcdFx0XHRsaW5lc1tpXSxcblx0XHRcdFx0XHRmb250LCBmb250U2l6ZSxcblx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHRcdGN1clkgKz0gZm9udFNpemU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbmRPZlQgPSAodGV4dE9uQm90dG9tID8geSt0U2hhcGVIZWlnaHQgOiB5LXRTaGFwZUhlaWdodCk7XG5cdFx0XHRzdmcuYXBwZW5kQ2hpbGQoIFV0bC5TVkcuY3JlYXRlTGluZShcblx0XHRcdFx0Y2VudGVyWCwgZW5kT2ZULFxuXHRcdFx0XHRjZW50ZXJYLCB5LFxuXHRcdFx0XHRVdGwuQ29sb3IuYmxhY2tcblx0XHRcdCkpO1xuXG5cdFx0XHRzdmcuYXBwZW5kQ2hpbGQoIFV0bC5TVkcuY3JlYXRlTGluZShcblx0XHRcdFx0Y2VudGVyWC13aWR0aC8yLCB5LFxuXHRcdFx0XHRjZW50ZXJYK3dpZHRoLzIsIHksXG5cdFx0XHRcdFV0bC5Db2xvci5ibGFja1xuXHRcdFx0KSk7XG5cblx0XHR9XG5cblxuXHRcdHByaXZhdGUgX2NoZWNrTGluZVNhbXBsZUJhbGFuY2UobGluZUlELCB0aW1lU3RhbXApIHtcblx0XHRcdHZhciBsaW5lRGF0YTpMaW5lRGF0YSA9IHRoaXMuY2FyYm9uU3VtLmdldExpbmVEYXRhQnlJRChsaW5lSUQpO1xuXHRcdFx0dmFyIHN1bTpDYXJib25CYWxhbmNlLkluT3V0U3VtID0gbGluZURhdGEuZ2V0SW5PdXRTdW1BdFRpbWUodGltZVN0YW1wKTtcblxuXHRcdFx0Ly8gV2UgbmVlZCBhdCBsZWFzdCAyIG1lYXN1cmVtZW50cyBpbiBvcmRlciB0byByZWdpc3RlciBhbiBpbWJhbGFuY2UuXG5cdFx0XHRpZiAoc3VtLm1lYXN1cmVtZW50cy5sZW5ndGggPCAyKVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0dmFyIG5vcm1hbGl6ZWRFcnJvcjpudW1iZXIgPSB0aGlzLl9jYWxjTm9ybWFsaXplZEVycm9yKHN1bS50b3RhbEluLCBzdW0udG90YWxPdXQpO1xuXG5cdFx0XHRyZXR1cm4gbmV3IExpbmVTYW1wbGVCYWxhbmNlKFxuXHRcdFx0XHQobm9ybWFsaXplZEVycm9yIDwgdGhpcy5fbm9ybWFsaXplZEVycm9yVGhyZXNob2xkKSxcblx0XHRcdFx0c3VtLnRvdGFsSW4sXG5cdFx0XHRcdHN1bS50b3RhbE91dCxcblx0XHRcdFx0c3VtLm1lYXN1cmVtZW50c1xuXHRcdFx0KTtcblx0XHR9XG5cblxuXHRcdHByaXZhdGUgX21ldGFib2xpY01hcElEOm51bWJlcjtcblx0XHRwcml2YXRlIF9iaW9tYXNzQ2FsY3VsYXRpb246bnVtYmVyO1xuXHRcdHN0YXRpYyBncmFwaERpdiA9IG51bGw7XG5cdFx0YWxsQ0JHcmFwaHMgPSBbXTtcblx0XHRtZXJnZWRUaW1lbGluZXNCeUxpbmVJRDp7W2xpbmVJRDpudW1iZXJdOk1lcmdlZExpbmVTYW1wbGVzfSA9IHt9O1xuXHRcdGNhcmJvblN1bTpDYXJib25CYWxhbmNlLlN1bW1hdGlvbiA9IG51bGw7XG5cdH07XG5cblxuXG5cdGNsYXNzIExpbmVTYW1wbGVCYWxhbmNlIHtcblx0XHRjb25zdHJ1Y3RvcihwdWJsaWMgaXNCYWxhbmNlZDpib29sZWFuLCBwdWJsaWMgdG90YWxJbjpudW1iZXIsIHB1YmxpYyB0b3RhbE91dDpudW1iZXIsIHB1YmxpYyBtZWFzdXJlbWVudHM6SW5PdXRTdW1NZWFzdXJlbWVudFtdKSB7fVxuXHR9XG5cbn0gLy8gZW5kIENhcmJvbkJhbGFuY2UgbW9kdWxlXG5cbiJdfQ==