// Compiled to JS on: Thu Feb 18 2016 16:47:14  
/// <reference path="typescript-declarations.d.ts" />
/// <reference path="Utl.ts" />
/// <reference path="CarbonSummation.ts" />
var CarbonBalance;
(function (CarbonBalance) {
    var ImbalancedTimeSample = (function () {
        function ImbalancedTimeSample(iTimeSample, normalizedError) {
            this.iTimeSample = iTimeSample;
            this.normalizedError = normalizedError;
        }
        return ImbalancedTimeSample;
    })();
    CarbonBalance.ImbalancedTimeSample = ImbalancedTimeSample;
    var Display = (function () {
        function Display() {
            // See _calcNormalizedError.
            this._normalizedErrorThreshold = 0.1;
            this.POPUP_HEIGHT = 320;
            this.POPUP_SVG_HEIGHT = 280;
            this.allCBGraphs = [];
            this.mergedTimelinesByLineID = {};
            this.carbonSum = null;
        }
        // Called as the page is loading to initialize and precalculate CB data.
        Display.prototype.calculateCarbonBalances = function (metabolicMapID, biomassCalculation) {
            this._metabolicMapID = metabolicMapID;
            this._biomassCalculation = biomassCalculation;
            // Calculate carbon balance sums.
            this.carbonSum = CarbonBalance.Summation.create(biomassCalculation);
            // Now build a structure for each line that merges all assay and metabolite data into one timeline.
            this.mergedTimelinesByLineID = {};
            for (var lineID in this.carbonSum.lineDataByID) {
                this.mergedTimelinesByLineID[lineID] = this.carbonSum.mergeAllLineSamples(this.carbonSum.lineDataByID[lineID]);
            }
        };
        Display.prototype.getDebugTextForTime = function (metabolicMapID, biomassCalculation, lineID, timeStamp) {
            return CarbonBalance.Summation.generateDebugText(biomassCalculation, lineID, timeStamp);
        };
        Display.prototype.getNumberOfImbalances = function () {
            var numImbalances = 0;
            for (var lineID in this.carbonSum.lineDataByID) {
                var imbalances = this._getTimeSamplesForLine(lineID, true);
                numImbalances += imbalances.length;
            }
            return numImbalances;
        };
        // Returns a 0-1 value telling how much carbonIn and carbonOut differ.
        //
        // A value greater than _normalizedErrorThreshold indicates that
        // we should treat it as a carbon imbalance and show it to the user.
        Display.prototype._calcNormalizedError = function (carbonIn, carbonOut) {
            var epsilon = 0.0001;
            if (Math.abs(carbonOut) <= epsilon && Math.abs(carbonIn) <= epsilon) {
                return 0; // Both are zero, so we'll say it's not out of balance.
            }
            // Get the percentage error.
            var normalizedError;
            if (carbonIn > carbonOut) {
                normalizedError = 1 - carbonOut / carbonIn;
            }
            else {
                normalizedError = 1 - carbonIn / carbonOut;
            }
            return normalizedError;
        };
        // Returns a list of ImbalancedTimeSample objects for this line.
        Display.prototype._getTimeSamplesForLine = function (lineID, imbalancedOnly) {
            var ret = [];
            // For each time sample that we have for this line, figure out which ones are imbalanced.
            var timeline = this.mergedTimelinesByLineID[lineID].mergedLineSamples;
            for (var iTimesample = 0; iTimesample < timeline.length; iTimesample++) {
                var timeSample = timeline[iTimesample];
                var normalizedError = this._calcNormalizedError(timeSample.totalCarbonIn, timeSample.totalCarbonOut);
                if (!imbalancedOnly || normalizedError > this._normalizedErrorThreshold) {
                    ret.push(new ImbalancedTimeSample(iTimesample, normalizedError));
                }
            }
            return ret;
        };
        // Called to create a single Line's CB graph.
        Display.prototype.createCBGraphForLine = function (lineID, parent) {
            //$(parent).css('padding', '3px 2px 0px 2px');
            var lineName = EDDData.Lines[lineID].name;
            // Add an SVG object with the graph data.
            var svgElement = Utl.SVG.createSVG('100%', '10px', 470, 10);
            // Put a thin line down the middle.
            var centerY = 5;
            svgElement.appendChild(Utl.SVG.createLine(0, centerY, 470, centerY, Utl.Color.rgba(160, 160, 160, 55), 1));
            // Now for each time sample that we have for this line, add a dot.
            var mergedLineSamples = this.mergedTimelinesByLineID[lineID];
            if (mergedLineSamples != null) {
                var timeline = mergedLineSamples.mergedLineSamples;
                var imbalances = this._getTimeSamplesForLine(lineID, false);
                for (var iImbalance in imbalances) {
                    var imbalance = imbalances[iImbalance];
                    var timeSample = timeline[imbalance.iTimeSample];
                    var normalizedError = imbalance.normalizedError;
                    var clr = Utl.Color.red;
                    clr.a = 35 + (normalizedError * 220);
                    var interpolatedColor = clr;
                    var xCoord = 470 * (timeSample.timeStamp / this.carbonSum.lastTimeInSeconds);
                    var yCoord = Math.floor(5);
                    var tickWidth = 8;
                    var tickMark = Utl.SVG.createVerticalLinePath(xCoord, yCoord, tickWidth, 10, interpolatedColor, svgElement);
                    //tickMark.onmouseover = this.onMouseOverTickMark.bind(this, lineID, timeSample.timeStamp, tickMark);
                    //tickMark.onmousedown = function() {console.log("mousedown");}
                    var obj = [lineID, timeSample.timeStamp];
                    tickMark._qtipInfo = $(tickMark).qtip({
                        content: {
                            title: this._generatePopupTitleForImbalance.bind(this, lineID, timeSample.timeStamp),
                            text: this._generatePopupDisplayForImbalance.bind(this, lineID, timeSample.timeStamp) // (using JS function currying here)
                        },
                        position: {
                            viewport: $(window) // This makes it position itself to fit inside the browser window.
                        },
                        style: {
                            classes: 'qtip-blue qtip-shadow qtip-rounded qtip-allow-large',
                            width: "280px",
                            height: "" + this.POPUP_HEIGHT + "px"
                        },
                        show: {
                            delay: 0,
                            solo: true
                        },
                        hide: {
                            fixed: true,
                            delay: 300
                        }
                    });
                }
            }
            // Add the SVG element to the document.
            parent.appendChild(svgElement);
            this.allCBGraphs.push(svgElement);
        };
        Display.prototype.removeAllCBGraphs = function () {
            for (var i in this.allCBGraphs) {
                var svg = this.allCBGraphs[i];
                svg.parentNode.removeChild(svg);
            }
            this.allCBGraphs = [];
        };
        // Lookup a metabolite's name by a measurement ID.
        Display.prototype._getMetaboliteNameByMeasurementID = function (measurementID) {
            var measurementTypeID = EDDData.AssayMeasurements[measurementID].type;
            var metaboliteName = EDDData.MetaboliteTypes[measurementTypeID].name;
            return metaboliteName;
        };
        // Used by _generateDebugTextForPopup to generate a list like:
        // == Inputs    (0.2434 Cmol/L)
        //     Formate : 0.2434
        Display.prototype._printCarbonBalanceList = function (header, list, showSum) {
            var padding = 10;
            // Total all the elements up.
            var text = header;
            if (showSum && list.length > 0) {
                var sum = list.reduce(function (p, c) { return p + Math.abs(c.carbonDelta); }, 0.0);
                text += Utl.JS.repeatString(' ', padding - header.length + 3) + "[" + sum.toFixed(4) + " CmMol/gdw/hr]";
            }
            text += "\n";
            var padding = 16;
            if (list.length == 0) {
                text += Utl.JS.padStringRight("(none)", padding) + "\n";
            }
            else {
                for (var i = 0; i < list.length; i++) {
                    var measurement = list[i];
                    // Get a padded name string for the metabolite
                    var name = this._getMetaboliteNameByMeasurementID(measurement.timeline.measureId);
                    // Rename "Optical Density" to biomass, since that's what we use it for.
                    if (name == 'Optical Density')
                        name = 'Biomass';
                    name = Utl.JS.padStringRight(name, padding);
                    // Get the assay's name
                    var assayRecord = EDDData.Assays[measurement.timeline.assay.assayId];
                    var lid = assayRecord.lid;
                    var pid = assayRecord.pid;
                    var assayName = [EDDData.Lines[lid].name, EDDData.Protocols[pid].name, assayRecord.name].join('-');
                    var numberString = Utl.JS.padStringRight(Math.abs(measurement.carbonDelta).toFixed(4), 8);
                    text += name + " : " + numberString + "    [" + assayName + "]" + "\n";
                }
            }
            return text;
        };
        // This is shown when they click the 'data' link in a carbon balance popup. It's intended
        // to show all the data that the assessment was based on.
        Display.prototype._generateDebugTextForPopup = function (lineID, timeStamp, balance) {
            var _this = this;
            var el = document.createElement('textarea');
            $(el).css('font-family', '"Lucida Console", Monaco, monospace');
            $(el).css('font-size', '8pt');
            el.setAttribute('wrap', 'off');
            var sortedList = balance.measurements.slice(0);
            sortedList.sort(function (a, b) { return a.carbonDelta - b.carbonDelta; });
            var prevTimeStamp = this._getPreviousMergedTimestamp(lineID, timeStamp);
            var title = EDDData.Lines[lineID].name + " from " + prevTimeStamp.toFixed(1) + "h to " + timeStamp.toFixed(1) + "h";
            var divider = "========================================\n";
            var text = title + "\n" + divider + "\n";
            text += this._printCarbonBalanceList("== Inputs", sortedList.filter(function (x) { return x.carbonDelta < 0; }), true) + "\n";
            text += this._printCarbonBalanceList("== Outputs", sortedList.filter(function (x) { return x.carbonDelta > 0; }), true) + "\n";
            text += this._printCarbonBalanceList("== No Delta", sortedList.filter(function (x) { return x.carbonDelta == 0; }), false) + "\n";
            // Show the summation details for this study.
            text += "\nDETAILS\n" + divider + "\n";
            var details = CarbonBalance.Summation.generateDebugText(this._biomassCalculation, lineID, timeStamp);
            text += details;
            // Show the biomass calculation for this study.
            text += "\nBIOMASS\n" + divider + "\n";
            text += "Biomass calculation: " + (+this._biomassCalculation).toFixed(4) + "\n";
            el.innerHTML = text;
            $(el).width(460);
            $(el).height(this.POPUP_SVG_HEIGHT);
            // Load up some more detailed stuff about the whole reaction.
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "FormAjaxResp.cgi",
                data: { "action": "getBiomassCalculationInfo", metabolicMapID: this._metabolicMapID },
                success: function (response) {
                    if (response.type == "Success") {
                        el.innerHTML += _this._generateBiomassCalculationDebugText(response.data.biomass_calculation_info);
                    }
                    else {
                        console.log('Unable to get biomass calculation info: ' + response.message);
                    }
                }
            });
            return el;
        };
        // Using the structures in metabolic_maps.biomass_calculation_info, generate a string that shows 
        // all the species, metabolites, stoichiometries, and carbon counts used.
        // See schema.txt for the structure of biomass_calculation_info.
        Display.prototype._generateBiomassCalculationDebugText = function (biomass_calculation_info) {
            var bci = JSON.parse(biomass_calculation_info);
            var ret = '';
            ret += "Biomass reaction   : " + bci.reaction_id + "\n";
            ret += "\n== Reactants\n";
            ret += this._generateBiomassCalculationDebugTextForList(bci.reactants);
            ret += "\n== Products\n";
            ret += this._generateBiomassCalculationDebugTextForList(bci.products);
            return ret;
        };
        Display.prototype._generateBiomassCalculationDebugTextForList = function (theList) {
            var ret = '';
            for (var i = 0; i < theList.length; i++) {
                var entry = theList[i];
                if (entry.metaboliteName) {
                    var contribution = entry.stoichiometry * entry.carbonCount;
                    ret += "    " + Utl.JS.padStringRight(entry.speciesName, 15) + ": [" + Utl.JS.padStringLeft(contribution.toFixed(4), 9) + "]" +
                        "  { metabolite: " + entry.metaboliteName +
                        ", stoichiometry: " + entry.stoichiometry +
                        ", carbonCount: " + entry.carbonCount + " }" + "\n";
                }
                else {
                    ret += "    " + Utl.JS.padStringRight(entry.speciesName, 15) + ": [         ]" + "\n";
                }
            }
            return ret;
        };
        // Get the previous merged timestamp for the given line.
        // This is used to show the range that an imbalance occurred over (since we don't display it
        // anywhere on the timelines).
        Display.prototype._getPreviousMergedTimestamp = function (lineID, timeStamp) {
            var prevTimeStamp = 0;
            var samples = this.mergedTimelinesByLineID[lineID].mergedLineSamples;
            for (var i = 0; i < samples.length; i++) {
                if (samples[i].timeStamp == timeStamp)
                    break;
                else
                    prevTimeStamp = samples[i].timeStamp;
            }
            return prevTimeStamp;
        };
        // Generates the title bar string for a carbon balance popup display.
        Display.prototype._generatePopupTitleForImbalance = function (lineID, timeStamp) {
            var prevTimeStamp = this._getPreviousMergedTimestamp(lineID, timeStamp);
            return EDDData.Lines[lineID].name + " from " + prevTimeStamp.toFixed(1) + "h to " + timeStamp.toFixed(1) + "h";
        };
        // When they hover over a tick mark, we should display all the carbon in/out data for all 
        // assays that have an imbalance at this time point.
        // This generates the HTML that goes in the popup for a specific assay imbalance.
        Display.prototype._generatePopupDisplayForImbalance = function (lineID, timeStamp, event, api) {
            // Gather the data that we'll need.
            var balance = this._checkLineSampleBalance(lineID, timeStamp);
            // Create SVG to display everything in.
            var svgSize = [260, this.POPUP_SVG_HEIGHT];
            var svg = Utl.SVG.createSVG(svgSize[0] + 'px', svgSize[1] + 'px', svgSize[0], svgSize[1]);
            var yOffset = (this.POPUP_HEIGHT - svgSize[1]) / 2;
            var fontName = "Arial";
            // Create a link to copy debug text to the clipboard.
            var debugTextLink = svg.appendChild(Utl.SVG.createText(0, 10, "data", fontName, 10, false, Utl.Color.rgb(150, 150, 150)));
            debugTextLink.setAttribute('x', (svgSize[0] - 3).toString());
            debugTextLink.setAttribute('text-anchor', 'end');
            debugTextLink.setAttribute('alignment-baseline', 'hanging');
            debugTextLink.setAttribute('font-style', 'italic');
            $(debugTextLink).css('cursor', 'pointer');
            var helper = new Utl.QtipHelper();
            helper.create(debugTextLink, this._generateDebugTextForPopup.bind(this, lineID, timeStamp, balance), {
                position: {
                    my: 'bottom right',
                    at: 'top left'
                },
                style: {
                    classes: 'qtip-blue qtip-shadow qtip-rounded qtip-allow-large',
                    width: "550px",
                    height: "" + this.POPUP_HEIGHT + "px"
                },
                show: 'click',
                hide: 'unfocus'
            });
            // Figure out our vertical scale and layout parameters.
            var topPos = Math.floor(svgSize[1] * 0.1) + yOffset;
            var bottomPos = svgSize[1] - topPos + yOffset;
            var topPosValue = Math.max(balance.totalIn, balance.totalOut);
            var bottomPosValue = 0;
            var inputsBar = {
                left: Math.floor(svgSize[0] * 0.1),
                right: Math.floor(svgSize[0] * 0.4),
                currentValue: 0,
                curBar: 0,
                numBars: 0,
                startColor: Utl.Color.rgb(111, 102, 209),
                endColor: Utl.Color.rgb(38, 32, 124)
            };
            var outputsBar = {
                left: Math.floor(svgSize[0] * 0.6),
                right: Math.floor(svgSize[0] * 0.9),
                currentValue: 0,
                curBar: 0,
                numBars: 0,
                startColor: Utl.Color.rgb(219, 0, 126),
                endColor: Utl.Color.rgb(90, 0, 29)
            };
            // Get everything in a list sorted by height.
            var sortedList = [];
            for (var iMeasurement in balance.measurements) {
                sortedList.push(balance.measurements[iMeasurement]);
                var carbonDelta = balance.measurements[iMeasurement].carbonDelta;
                if (carbonDelta > 0)
                    outputsBar.numBars++;
                else
                    inputsBar.numBars++;
            }
            sortedList.sort(function (a, b) {
                return b.absDelta() - a.absDelta();
            });
            // Now build the stacks.
            var prevInValue = 0, prevOutValue = 0;
            for (var iMeasurement in sortedList) {
                var measurement = sortedList[iMeasurement];
                var carbonDelta = measurement.carbonDelta;
                var absDelta = Math.abs(carbonDelta);
                var bar = inputsBar;
                if (carbonDelta > 0)
                    bar = outputsBar;
                var nextValue = bar.currentValue + absDelta;
                var y1 = Utl.JS.remapValue(bar.currentValue, bottomPosValue, topPosValue, bottomPos, topPos);
                var y2 = Utl.JS.remapValue(nextValue, bottomPosValue, topPosValue, bottomPos, topPos);
                if (y1 - y2 <= 1)
                    y2 = y1 - 2;
                // The color just interpolates through this bar's color range.
                var clr = (bar.numBars <= 1) ? bar.startColor : Utl.Color.interpolate(bar.startColor, bar.endColor, bar.curBar / (bar.numBars - 1));
                var rect = svg.appendChild(Utl.SVG.createRect(bar.left, y1, bar.right - bar.left, y2 - y1, clr, // fill color
                1, Utl.Color.black // stroke info
                ));
                // Make it a rounded rectangle.
                var round = Math.min(2, Math.abs(y2 - y1));
                Utl.SVG.makeRectRounded(rect, round, round);
                // Add a tiny label showing the name of the metabolite.
                var measurementTypeID = EDDData.AssayMeasurements[measurement.timeline.measureId].type;
                var metaboliteName = EDDData.MetaboliteTypes[measurementTypeID].name;
                // Rename "Optical Density" to biomass, since that's what we use it for.
                if (metaboliteName == 'Optical Density')
                    metaboliteName = 'Biomass';
                // If there's room, put the label right in the box for the metabolite.
                // If not, put it off to the side.
                var metaboliteLabelFontSize = 11;
                if (y1 - y2 > metaboliteLabelFontSize * 1.2) {
                    var text = this._createTextWithDropShadow(svg, (bar.left + bar.right) / 2, (y1 + y2) / 2 + metaboliteLabelFontSize / 2, metaboliteName, fontName, metaboliteLabelFontSize, Utl.Color.white, Utl.Color.black);
                    $(text).css('font-weight', 'bold');
                }
                bar.curBar++;
                bar.currentValue = nextValue;
            }
            this._addSummaryLabels(svg, balance, inputsBar, outputsBar, topPos, topPosValue, bottomPos, bottomPosValue);
            return svg;
        };
        Display.prototype._createTextWithDropShadow = function (svg, x, y, text, font, fontSize, mainColor, shadowColor) {
            var ix = Math.floor(x);
            var iy = Math.floor(y);
            var el1 = svg.appendChild(Utl.SVG.createText(ix, iy, text, font, fontSize, true, shadowColor));
            var el2 = svg.appendChild(Utl.SVG.createText(ix, iy - 1, text, font, fontSize, true, mainColor));
            return $(el1).add(el2);
        };
        Display.prototype._addSummaryLabels = function (svg, balance, inputsBar, outputsBar, topPos, topPosValue, bottomPos, bottomPosValue) {
            // Put a label under each bar.
            var font = "Arial";
            var fontSize = 16;
            svg.appendChild(Utl.SVG.createText((inputsBar.left + inputsBar.right) * 0.5, bottomPos + fontSize, "Inputs", font, fontSize, true));
            svg.appendChild(Utl.SVG.createText((outputsBar.left + outputsBar.right) * 0.5, bottomPos + fontSize, "Outputs", font, fontSize, true));
            // Label the top of the chart's Cmol/L. That's enough to get a sense of the data, and we can 
            // provide further hover popups if we need to.
            var middleX = (inputsBar.right + outputsBar.left) / 2;
            var tShapeWidth = (outputsBar.left - inputsBar.right) - 6;
            var tShapeHeight = 5;
            this._drawTShape(svg, middleX, topPos, tShapeWidth, tShapeHeight, topPosValue.toFixed(2) + " CmMol/gdw/hr", font, 14, false);
            // Draw another indicator for the metabolite that has less.
            var smallerMetaboliteCmolLValue = Math.min(balance.totalIn, balance.totalOut);
            var smallerMetaboliteYPos = Utl.JS.remapValue(smallerMetaboliteCmolLValue, bottomPosValue, topPosValue, bottomPos, topPos);
            this._drawTShape(svg, middleX, smallerMetaboliteYPos, tShapeWidth * 0.8, tShapeHeight, smallerMetaboliteCmolLValue.toFixed(2), font, 14, true);
        };
        Display.prototype._drawTShape = function (svg, centerX, y, width, height, text, font, fontSize, textOnBottom) {
            var tShapeHeight = 5;
            // Break the text into multiple lines if necessary.
            var lines = text.split("\n");
            var curY = y - fontSize * lines.length;
            if (textOnBottom)
                curY = y + fontSize + tShapeHeight;
            for (var i in lines) {
                svg.appendChild(Utl.SVG.createText(centerX, curY, lines[i], font, fontSize, true));
                curY += fontSize;
            }
            var endOfT = (textOnBottom ? y + tShapeHeight : y - tShapeHeight);
            svg.appendChild(Utl.SVG.createLine(centerX, endOfT, centerX, y, Utl.Color.black));
            svg.appendChild(Utl.SVG.createLine(centerX - width / 2, y, centerX + width / 2, y, Utl.Color.black));
        };
        Display.prototype._checkLineSampleBalance = function (lineID, timeStamp) {
            var lineData = this.carbonSum.getLineDataByID(lineID);
            var sum = lineData.getInOutSumAtTime(timeStamp);
            // We need at least 2 measurements in order to register an imbalance.
            if (sum.measurements.length < 2)
                return null;
            var normalizedError = this._calcNormalizedError(sum.totalIn, sum.totalOut);
            return new LineSampleBalance((normalizedError < this._normalizedErrorThreshold), sum.totalIn, sum.totalOut, sum.measurements);
        };
        Display.graphDiv = null;
        return Display;
    })();
    CarbonBalance.Display = Display;
    ;
    var LineSampleBalance = (function () {
        function LineSampleBalance(isBalanced, totalIn, totalOut, measurements) {
            this.isBalanced = isBalanced;
            this.totalIn = totalIn;
            this.totalOut = totalOut;
            this.measurements = measurements;
        }
        return LineSampleBalance;
    })();
})(CarbonBalance || (CarbonBalance = {})); // end CarbonBalance module
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3R1ZHlDYXJib25CYWxhbmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL1N0dWR5Q2FyYm9uQmFsYW5jZS50cyJdLCJuYW1lcyI6WyJDYXJib25CYWxhbmNlIiwiQ2FyYm9uQmFsYW5jZS5JbWJhbGFuY2VkVGltZVNhbXBsZSIsIkNhcmJvbkJhbGFuY2UuSW1iYWxhbmNlZFRpbWVTYW1wbGUuY29uc3RydWN0b3IiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuY29uc3RydWN0b3IiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuY2FsY3VsYXRlQ2FyYm9uQmFsYW5jZXMiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuZ2V0RGVidWdUZXh0Rm9yVGltZSIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5nZXROdW1iZXJPZkltYmFsYW5jZXMiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2NhbGNOb3JtYWxpemVkRXJyb3IiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dldFRpbWVTYW1wbGVzRm9yTGluZSIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5jcmVhdGVDQkdyYXBoRm9yTGluZSIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5yZW1vdmVBbGxDQkdyYXBocyIsIkNhcmJvbkJhbGFuY2UuRGlzcGxheS5fZ2V0TWV0YWJvbGl0ZU5hbWVCeU1lYXN1cmVtZW50SUQiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX3ByaW50Q2FyYm9uQmFsYW5jZUxpc3QiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dlbmVyYXRlRGVidWdUZXh0Rm9yUG9wdXAiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0IiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5Ll9nZW5lcmF0ZUJpb21hc3NDYWxjdWxhdGlvbkRlYnVnVGV4dEZvckxpc3QiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dldFByZXZpb3VzTWVyZ2VkVGltZXN0YW1wIiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5Ll9nZW5lcmF0ZVBvcHVwVGl0bGVGb3JJbWJhbGFuY2UiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2dlbmVyYXRlUG9wdXBEaXNwbGF5Rm9ySW1iYWxhbmNlIiwiQ2FyYm9uQmFsYW5jZS5EaXNwbGF5Ll9jcmVhdGVUZXh0V2l0aERyb3BTaGFkb3ciLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2FkZFN1bW1hcnlMYWJlbHMiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2RyYXdUU2hhcGUiLCJDYXJib25CYWxhbmNlLkRpc3BsYXkuX2NoZWNrTGluZVNhbXBsZUJhbGFuY2UiLCJDYXJib25CYWxhbmNlLkxpbmVTYW1wbGVCYWxhbmNlIiwiQ2FyYm9uQmFsYW5jZS5MaW5lU2FtcGxlQmFsYW5jZS5jb25zdHJ1Y3RvciJdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEO0FBQ3JELCtCQUErQjtBQUMvQiwyQ0FBMkM7QUFHM0MsSUFBTyxhQUFhLENBMm1CbkI7QUEzbUJELFdBQU8sYUFBYSxFQUFDLENBQUM7SUFFckJBO1FBRUNDLDhCQUFtQkEsV0FBa0JBLEVBQVNBLGVBQXNCQTtZQUFqREMsZ0JBQVdBLEdBQVhBLFdBQVdBLENBQU9BO1lBQVNBLG9CQUFlQSxHQUFmQSxlQUFlQSxDQUFPQTtRQUVwRUEsQ0FBQ0E7UUFDRkQsMkJBQUNBO0lBQURBLENBQUNBLEFBTERELElBS0NBO0lBTFlBLGtDQUFvQkEsdUJBS2hDQSxDQUFBQTtJQUVEQTtRQUFBRztZQWtDQ0MsNEJBQTRCQTtZQUNwQkEsOEJBQXlCQSxHQUFVQSxHQUFHQSxDQUFDQTtZQTRIdkNBLGlCQUFZQSxHQUFHQSxHQUFHQSxDQUFDQTtZQUNuQkEscUJBQWdCQSxHQUFHQSxHQUFHQSxDQUFDQTtZQXViL0JBLGdCQUFXQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUNqQkEsNEJBQXVCQSxHQUF1Q0EsRUFBRUEsQ0FBQ0E7WUFDakVBLGNBQVNBLEdBQTJCQSxJQUFJ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LEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO2dCQUNuQ0EsS0FBS0EsRUFBRUEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7Z0JBQ25DQSxZQUFZQSxFQUFFQSxDQUFDQTtnQkFDZkEsTUFBTUEsRUFBRUEsQ0FBQ0E7Z0JBQ1RBLE9BQU9BLEVBQUVBLENBQUNBO2dCQUNWQSxVQUFVQSxFQUFFQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxFQUFDQSxHQUFHQSxFQUFDQSxHQUFHQSxDQUFDQTtnQkFDdENBLFFBQVFBLEVBQUVBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEVBQUNBLEVBQUVBLEVBQUNBLEdBQUdBLENBQUNBO2FBQ2xDQSxDQUFDQTtZQUVGQSxJQUFJQSxVQUFVQSxHQUFHQTtnQkFDaEJBLElBQUlBLEVBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBO2dCQUNuQ0EsS0FBS0EsRUFBRUEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7Z0JBQ25DQSxZQUFZQSxFQUFFQSxDQUFDQTtnQkFDZkEsTUFBTUEsRUFBRUEsQ0FBQ0E7Z0JBQ1RBLE9BQU9BLEVBQUVBLENBQUNBO2dCQUNWQSxVQUFVQSxFQUFFQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxFQUFDQSxDQUFDQSxFQUFDQSxHQUFHQSxDQUFDQTtnQkFDcENBLFFBQVFBLEVBQUVBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEVBQUNBLENBQUNBLEVBQUNBLEVBQUVBLENBQUNBO2FBQ2hDQSxDQUFDQTtZQUVGQSw2Q0FBNkNBO1lBQzdD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YkEsSUFBSUEsZUFBZUEsR0FBVUEsSUFBSUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxHQUFHQSxDQUFDQSxPQUFPQSxFQUFFQSxHQUFHQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUVsRkEsTUFBTUEsQ0FBQ0EsSUFBSUEsaUJBQWlCQSxDQUMzQkEsQ0FBQ0EsZUFBZUEsR0FBR0EsSUFBSUEsQ0FBQ0EseUJBQXlCQSxDQUFDQSxFQUNsREEsR0FBR0EsQ0FBQ0EsT0FBT0EsRUFDWEEsR0FBR0EsQ0FBQ0EsUUFBUUEsRUFDWkEsR0FBR0EsQ0FBQ0EsWUFBWUEsQ0FDaEJBLENBQUNBO1FBQ0hBLENBQUNBO1FBS01wQixnQkFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFJeEJBLGNBQUNBO0lBQURBLENBQUNBLEFBMWxCREgsSUEwbEJDQTtJQTFsQllBLHFCQUFPQSxVQTBsQm5CQSxDQUFBQTtJQUFBQSxDQUFDQTtJQUlGQTtRQUNDd0IsMkJBQW1CQSxVQUFrQkEsRUFBU0EsT0FBY0EsRUFBU0EsUUFBZUEsRUFBU0EsWUFBa0NBO1lBQTVHQyxlQUFVQSxHQUFWQSxVQUFVQSxDQUFRQTtZQUFTQSxZQUFPQSxHQUFQQSxPQUFPQSxDQUFPQTtZQUFTQSxhQUFRQSxHQUFSQSxRQUFRQSxDQUFPQTtZQUFTQSxpQkFBWUEsR0FBWkEsWUFBWUEsQ0FBc0JBO1FBQUdBLENBQUNBO1FBQ3BJRCx3QkFBQ0E7SUFBREEsQ0FBQ0EsQUFGRHhCLElBRUNBO0FBRUZBLENBQUNBLEVBM21CTSxhQUFhLEtBQWIsYUFBYSxRQTJtQm5CLENBQUMsMkJBQTJCIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cInR5cGVzY3JpcHQtZGVjbGFyYXRpb25zLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIlV0bC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiQ2FyYm9uU3VtbWF0aW9uLnRzXCIgLz5cblxuXG5tb2R1bGUgQ2FyYm9uQmFsYW5jZSB7XG5cblx0ZXhwb3J0IGNsYXNzIEltYmFsYW5jZWRUaW1lU2FtcGxlXG5cdHtcblx0XHRjb25zdHJ1Y3RvcihwdWJsaWMgaVRpbWVTYW1wbGU6bnVtYmVyLCBwdWJsaWMgbm9ybWFsaXplZEVycm9yOm51bWJlcikge1xuXG5cdFx0fVxuXHR9XG5cblx0ZXhwb3J0IGNsYXNzIERpc3BsYXkge1xuXG5cdFx0Ly8gQ2FsbGVkIGFzIHRoZSBwYWdlIGlzIGxvYWRpbmcgdG8gaW5pdGlhbGl6ZSBhbmQgcHJlY2FsY3VsYXRlIENCIGRhdGEuXG5cdFx0Y2FsY3VsYXRlQ2FyYm9uQmFsYW5jZXMobWV0YWJvbGljTWFwSUQ6bnVtYmVyLCBiaW9tYXNzQ2FsY3VsYXRpb246bnVtYmVyKSB7XG5cdFx0XHR0aGlzLl9tZXRhYm9saWNNYXBJRCA9IG1ldGFib2xpY01hcElEOyBcblx0XHRcdHRoaXMuX2Jpb21hc3NDYWxjdWxhdGlvbiA9IGJpb21hc3NDYWxjdWxhdGlvbjtcblx0XHRcdC8vIENhbGN1bGF0ZSBjYXJib24gYmFsYW5jZSBzdW1zLlxuXHRcdFx0dGhpcy5jYXJib25TdW0gPSBDYXJib25CYWxhbmNlLlN1bW1hdGlvbi5jcmVhdGUoYmlvbWFzc0NhbGN1bGF0aW9uKTtcblxuXHRcdFx0Ly8gTm93IGJ1aWxkIGEgc3RydWN0dXJlIGZvciBlYWNoIGxpbmUgdGhhdCBtZXJnZXMgYWxsIGFzc2F5IGFuZCBtZXRhYm9saXRlIGRhdGEgaW50byBvbmUgdGltZWxpbmUuXG5cdFx0XHR0aGlzLm1lcmdlZFRpbWVsaW5lc0J5TGluZUlEID0ge307XG5cdFx0XHRmb3IgKHZhciBsaW5lSUQgaW4gdGhpcy5jYXJib25TdW0ubGluZURhdGFCeUlEKSB7XG5cdFx0XHRcdHRoaXMubWVyZ2VkVGltZWxpbmVzQnlMaW5lSURbbGluZUlEXSA9IHRoaXMuY2FyYm9uU3VtLm1lcmdlQWxsTGluZVNhbXBsZXModGhpcy5jYXJib25TdW0ubGluZURhdGFCeUlEW2xpbmVJRF0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0Z2V0RGVidWdUZXh0Rm9yVGltZShtZXRhYm9saWNNYXBJRDpudW1iZXIsIGJpb21hc3NDYWxjdWxhdGlvbjpudW1iZXIsIGxpbmVJRDpudW1iZXIsIHRpbWVTdGFtcDpudW1iZXIpOnN0cmluZyB7XG5cdFx0XHRyZXR1cm4gQ2FyYm9uQmFsYW5jZS5TdW1tYXRpb24uZ2VuZXJhdGVEZWJ1Z1RleHQoYmlvbWFzc0NhbGN1bGF0aW9uLCBsaW5lSUQsIHRpbWVTdGFtcCk7XG5cdFx0fVxuXG5cblx0XHRnZXROdW1iZXJPZkltYmFsYW5jZXMoKSB7XG5cdFx0XHR2YXIgbnVtSW1iYWxhbmNlcyA9IDA7XG5cblx0XHRcdGZvciAodmFyIGxpbmVJRCBpbiB0aGlzLmNhcmJvblN1bS5saW5lRGF0YUJ5SUQpIHtcblx0XHQgICAgXHR2YXIgaW1iYWxhbmNlczpJbWJhbGFuY2VkVGltZVNhbXBsZVtdID0gdGhpcy5fZ2V0VGltZVNhbXBsZXNGb3JMaW5lKGxpbmVJRCwgdHJ1ZSk7XG5cdFx0ICAgIFx0bnVtSW1iYWxhbmNlcyArPSBpbWJhbGFuY2VzLmxlbmd0aDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG51bUltYmFsYW5jZXM7XG5cdFx0fVxuXG5cblx0XHQvLyBTZWUgX2NhbGNOb3JtYWxpemVkRXJyb3IuXG5cdFx0cHJpdmF0ZSBfbm9ybWFsaXplZEVycm9yVGhyZXNob2xkOm51bWJlciA9IDAuMTtcblxuXG5cdFx0Ly8gUmV0dXJucyBhIDAtMSB2YWx1ZSB0ZWxsaW5nIGhvdyBtdWNoIGNhcmJvbkluIGFuZCBjYXJib25PdXQgZGlmZmVyLlxuXHRcdC8vXG5cdFx0Ly8gQSB2YWx1ZSBncmVhdGVyIHRoYW4gX25vcm1hbGl6ZWRFcnJvclRocmVzaG9sZCBpbmRpY2F0ZXMgdGhhdFxuXHRcdC8vIHdlIHNob3VsZCB0cmVhdCBpdCBhcyBhIGNhcmJvbiBpbWJhbGFuY2UgYW5kIHNob3cgaXQgdG8gdGhlIHVzZXIuXG5cdFx0cHJpdmF0ZSBfY2FsY05vcm1hbGl6ZWRFcnJvcihjYXJib25JbjpudW1iZXIsIGNhcmJvbk91dDpudW1iZXIpOm51bWJlciB7XG5cdFx0XHR2YXIgZXBzaWxvbjpudW1iZXIgPSAwLjAwMDE7XG4gICAgXHRcdGlmIChNYXRoLmFicyhjYXJib25PdXQpIDw9IGVwc2lsb24gJiYgTWF0aC5hYnMoY2FyYm9uSW4pIDw9IGVwc2lsb24pIHtcblx0XHRcdFx0cmV0dXJuIDA7IC8vIEJvdGggYXJlIHplcm8sIHNvIHdlJ2xsIHNheSBpdCdzIG5vdCBvdXQgb2YgYmFsYW5jZS5cblx0XHRcdH1cblxuXHRcdFx0Ly8gR2V0IHRoZSBwZXJjZW50YWdlIGVycm9yLlxuXHRcdFx0dmFyIG5vcm1hbGl6ZWRFcnJvcjpudW1iZXI7XG5cdFx0XHRpZiAoY2FyYm9uSW4gPiBjYXJib25PdXQpIHtcblx0XHRcdFx0bm9ybWFsaXplZEVycm9yID0gMSAtIGNhcmJvbk91dCAvIGNhcmJvbkluO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9ybWFsaXplZEVycm9yID0gMSAtIGNhcmJvbkluIC8gY2FyYm9uT3V0O1xuXHRcdFx0fVxuXG4gICAgXHRcdHJldHVybiBub3JtYWxpemVkRXJyb3I7XG5cdFx0fVxuXG5cblx0XHQvLyBSZXR1cm5zIGEgbGlzdCBvZiBJbWJhbGFuY2VkVGltZVNhbXBsZSBvYmplY3RzIGZvciB0aGlzIGxpbmUuXG5cdFx0cHJpdmF0ZSBfZ2V0VGltZVNhbXBsZXNGb3JMaW5lKGxpbmVJRDpudW1iZXIsIGltYmFsYW5jZWRPbmx5OmJvb2xlYW4pOkltYmFsYW5jZWRUaW1lU2FtcGxlW10ge1xuXHRcdFx0dmFyIHJldDpJbWJhbGFuY2VkVGltZVNhbXBsZVtdID0gW107XG5cblx0ICAgIFx0Ly8gRm9yIGVhY2ggdGltZSBzYW1wbGUgdGhhdCB3ZSBoYXZlIGZvciB0aGlzIGxpbmUsIGZpZ3VyZSBvdXQgd2hpY2ggb25lcyBhcmUgaW1iYWxhbmNlZC5cblx0ICAgIFx0dmFyIHRpbWVsaW5lOk1lcmdlZExpbmVTYW1wbGVbXSA9IHRoaXMubWVyZ2VkVGltZWxpbmVzQnlMaW5lSURbbGluZUlEXS5tZXJnZWRMaW5lU2FtcGxlcztcblx0ICAgIFx0Zm9yICh2YXIgaVRpbWVzYW1wbGU6bnVtYmVyPTA7IGlUaW1lc2FtcGxlIDwgdGltZWxpbmUubGVuZ3RoOyBpVGltZXNhbXBsZSsrKSB7XG5cdCAgICBcdFx0dmFyIHRpbWVTYW1wbGU6TWVyZ2VkTGluZVNhbXBsZSA9IHRpbWVsaW5lW2lUaW1lc2FtcGxlXTtcblxuXHQgICAgXHRcdHZhciBub3JtYWxpemVkRXJyb3I6bnVtYmVyID0gdGhpcy5fY2FsY05vcm1hbGl6ZWRFcnJvcih0aW1lU2FtcGxlLnRvdGFsQ2FyYm9uSW4sIHRpbWVTYW1wbGUudG90YWxDYXJib25PdXQpO1xuXG5cdCAgICBcdFx0aWYgKCFpbWJhbGFuY2VkT25seSB8fCBub3JtYWxpemVkRXJyb3IgPiB0aGlzLl9ub3JtYWxpemVkRXJyb3JUaHJlc2hvbGQpIHtcblx0ICAgIFx0XHRcdHJldC5wdXNoKCBuZXcgSW1iYWxhbmNlZFRpbWVTYW1wbGUoaVRpbWVzYW1wbGUsIG5vcm1hbGl6ZWRFcnJvcikgKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH1cblx0ICAgIFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblxuXHRcdC8vIENhbGxlZCB0byBjcmVhdGUgYSBzaW5nbGUgTGluZSdzIENCIGdyYXBoLlxuXHRcdGNyZWF0ZUNCR3JhcGhGb3JMaW5lKGxpbmVJRCwgcGFyZW50KSB7XG5cdFx0XHQvLyQocGFyZW50KS5jc3MoJ3BhZGRpbmcnLCAnM3B4IDJweCAwcHggMnB4Jyk7XG5cblx0XHRcdHZhciBsaW5lTmFtZSA9IEVERERhdGEuTGluZXNbbGluZUlEXS5uYW1lO1xuXG5cdFx0XHQvLyBBZGQgYW4gU1ZHIG9iamVjdCB3aXRoIHRoZSBncmFwaCBkYXRhLlxuXHRcdFx0dmFyIHN2Z0VsZW1lbnQgPSBVdGwuU1ZHLmNyZWF0ZVNWRygnMTAwJScsICcxMHB4JywgNDcwLCAxMCk7XG5cblx0XHRcdC8vIFB1dCBhIHRoaW4gbGluZSBkb3duIHRoZSBtaWRkbGUuXG5cdFx0XHR2YXIgY2VudGVyWTpudW1iZXIgPSA1O1xuXHRcdFx0c3ZnRWxlbWVudC5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVMaW5lKFxuXHRcdFx0XHQwLCBjZW50ZXJZLCA0NzAsIGNlbnRlclksXG5cdFx0XHRcdFV0bC5Db2xvci5yZ2JhKDE2MCwxNjAsMTYwLDU1KSwgMVxuXHRcdFx0KSk7XG5cblx0ICAgIFx0Ly8gTm93IGZvciBlYWNoIHRpbWUgc2FtcGxlIHRoYXQgd2UgaGF2ZSBmb3IgdGhpcyBsaW5lLCBhZGQgYSBkb3QuXG5cdCAgICBcdHZhciBtZXJnZWRMaW5lU2FtcGxlczpNZXJnZWRMaW5lU2FtcGxlcyA9IHRoaXMubWVyZ2VkVGltZWxpbmVzQnlMaW5lSURbbGluZUlEXTtcblx0ICAgIFx0aWYgKG1lcmdlZExpbmVTYW1wbGVzICE9IG51bGwpIHtcblx0XHQgICAgXHR2YXIgdGltZWxpbmU6TWVyZ2VkTGluZVNhbXBsZVtdID0gbWVyZ2VkTGluZVNhbXBsZXMubWVyZ2VkTGluZVNhbXBsZXM7XG5cdFx0ICAgIFx0dmFyIGltYmFsYW5jZXM6SW1iYWxhbmNlZFRpbWVTYW1wbGVbXSA9IHRoaXMuX2dldFRpbWVTYW1wbGVzRm9yTGluZShsaW5lSUQsIGZhbHNlKTtcblx0XHQgICAgXHRmb3IgKHZhciBpSW1iYWxhbmNlIGluIGltYmFsYW5jZXMpIHtcblx0XHQgICAgXHRcdHZhciBpbWJhbGFuY2UgPSBpbWJhbGFuY2VzW2lJbWJhbGFuY2VdO1xuXHRcdCAgICBcdFx0dmFyIHRpbWVTYW1wbGU6TWVyZ2VkTGluZVNhbXBsZSA9IHRpbWVsaW5lW2ltYmFsYW5jZS5pVGltZVNhbXBsZV07XG5cdFx0ICAgIFx0XHR2YXIgbm9ybWFsaXplZEVycm9yID0gaW1iYWxhbmNlLm5vcm1hbGl6ZWRFcnJvcjtcblxuXHRcdCAgICBcdFx0dmFyIGNscjpVdGwuQ29sb3IgPSBVdGwuQ29sb3IucmVkO1xuXHRcdCAgICBcdFx0Y2xyLmEgPSAzNSArIChub3JtYWxpemVkRXJyb3IgKiAyMjApO1xuXHRcdCAgICBcdFx0dmFyIGludGVycG9sYXRlZENvbG9yID0gY2xyO1xuXG5cdFx0ICAgIFx0XHR2YXIgeENvb3JkOm51bWJlciA9IDQ3MCAqICh0aW1lU2FtcGxlLnRpbWVTdGFtcCAvIHRoaXMuY2FyYm9uU3VtLmxhc3RUaW1lSW5TZWNvbmRzKTtcblx0XHQgICAgXHRcdHZhciB5Q29vcmQ6bnVtYmVyID0gTWF0aC5mbG9vcig1KTtcblx0XHQgICAgXHRcdHZhciB0aWNrV2lkdGg6bnVtYmVyID0gODtcblx0XHQgICAgXHRcdHZhciB0aWNrTWFyayA9IDxhbnk+VXRsLlNWRy5jcmVhdGVWZXJ0aWNhbExpbmVQYXRoKHhDb29yZCwgeUNvb3JkLCB0aWNrV2lkdGgsIDEwLCBpbnRlcnBvbGF0ZWRDb2xvciwgc3ZnRWxlbWVudCk7XG5cblx0XHQgICAgXHRcdC8vdGlja01hcmsub25tb3VzZW92ZXIgPSB0aGlzLm9uTW91c2VPdmVyVGlja01hcmsuYmluZCh0aGlzLCBsaW5lSUQsIHRpbWVTYW1wbGUudGltZVN0YW1wLCB0aWNrTWFyayk7XG5cdFx0ICAgIFx0XHQvL3RpY2tNYXJrLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7Y29uc29sZS5sb2coXCJtb3VzZWRvd25cIik7fVxuXG5cdFx0ICAgIFx0XHR2YXIgb2JqID0gW2xpbmVJRCwgdGltZVNhbXBsZS50aW1lU3RhbXBdO1xuXHRcdCAgICBcdFx0dGlja01hcmsuX3F0aXBJbmZvID0gJCh0aWNrTWFyaykucXRpcCh7XG5cdFx0ICAgIFx0XHRcdGNvbnRlbnQ6IHtcblx0XHQgICAgXHRcdFx0XHR0aXRsZTogdGhpcy5fZ2VuZXJhdGVQb3B1cFRpdGxlRm9ySW1iYWxhbmNlLmJpbmQodGhpcywgbGluZUlELCB0aW1lU2FtcGxlLnRpbWVTdGFtcCksXG5cdFx0ICAgIFx0XHRcdFx0dGV4dDogdGhpcy5fZ2VuZXJhdGVQb3B1cERpc3BsYXlGb3JJbWJhbGFuY2UuYmluZCh0aGlzLCBsaW5lSUQsIHRpbWVTYW1wbGUudGltZVN0YW1wKSAvLyAodXNpbmcgSlMgZnVuY3Rpb24gY3VycnlpbmcgaGVyZSlcblx0XHQgICAgXHRcdFx0fSxcblx0XHQgICAgXHRcdFx0cG9zaXRpb246IHtcblx0XHRcdFx0XHRcdFx0dmlld3BvcnQ6ICQod2luZG93KVx0Ly8gVGhpcyBtYWtlcyBpdCBwb3NpdGlvbiBpdHNlbGYgdG8gZml0IGluc2lkZSB0aGUgYnJvd3NlciB3aW5kb3cuXG5cdFx0ICAgIFx0XHRcdH0sXG5cdFx0ICAgIFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0ICAgICAgICBjbGFzc2VzOiAncXRpcC1ibHVlIHF0aXAtc2hhZG93IHF0aXAtcm91bmRlZCBxdGlwLWFsbG93LWxhcmdlJyxcblx0XHRcdFx0XHQgICAgICAgIHdpZHRoOiBcIjI4MHB4XCIsXG5cdFx0XHRcdFx0ICAgICAgICBoZWlnaHQ6IFwiXCIgKyB0aGlzLlBPUFVQX0hFSUdIVCArIFwicHhcIlxuXHRcdFx0XHRcdCAgICB9LFxuXHRcdFx0XHRcdCAgICBzaG93OiB7XG5cdFx0XHRcdFx0ICAgIFx0ZGVsYXk6IDAsXG5cdFx0XHRcdFx0ICAgIFx0c29sbzogdHJ1ZVxuXHRcdFx0XHRcdCAgICB9LFxuXHRcdFx0XHRcdCAgICBoaWRlOiB7XG5cdFx0XHRcdFx0ICAgIFx0Zml4ZWQ6IHRydWUsXG5cdFx0XHRcdFx0ICAgIFx0ZGVsYXk6IDMwMFxuXHRcdFx0XHRcdCAgICB9XG5cblx0XHQgICAgXHRcdH0pO1xuXHRcdCAgICBcdH1cblx0XHQgICAgfVxuXG5cdCAgICBcdC8vIEFkZCB0aGUgU1ZHIGVsZW1lbnQgdG8gdGhlIGRvY3VtZW50LlxuXHQgICAgXHRwYXJlbnQuYXBwZW5kQ2hpbGQoc3ZnRWxlbWVudCk7XG5cdCAgICBcdHRoaXMuYWxsQ0JHcmFwaHMucHVzaChzdmdFbGVtZW50KTtcblx0XHR9XG5cblxuXHRcdHJlbW92ZUFsbENCR3JhcGhzKCkge1xuXHRcdFx0Zm9yICh2YXIgaSBpbiB0aGlzLmFsbENCR3JhcGhzKSB7XG5cdFx0XHRcdHZhciBzdmcgPSB0aGlzLmFsbENCR3JhcGhzW2ldO1xuXHRcdFx0XHRzdmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdmcpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5hbGxDQkdyYXBocyA9IFtdO1xuXHRcdH1cblxuXG5cdFx0cHJpdmF0ZSBQT1BVUF9IRUlHSFQgPSAzMjA7XG5cdFx0cHJpdmF0ZSBQT1BVUF9TVkdfSEVJR0hUID0gMjgwO1xuXG5cdFx0Ly8gTG9va3VwIGEgbWV0YWJvbGl0ZSdzIG5hbWUgYnkgYSBtZWFzdXJlbWVudCBJRC5cblx0XHRwcml2YXRlIF9nZXRNZXRhYm9saXRlTmFtZUJ5TWVhc3VyZW1lbnRJRChtZWFzdXJlbWVudElEOm51bWJlcik6c3RyaW5nIHtcblx0XHRcdHZhciBtZWFzdXJlbWVudFR5cGVJRDpudW1iZXIgPSBFREREYXRhLkFzc2F5TWVhc3VyZW1lbnRzW21lYXN1cmVtZW50SURdLnR5cGU7XG5cdFx0XHR2YXIgbWV0YWJvbGl0ZU5hbWU6c3RyaW5nID0gRURERGF0YS5NZXRhYm9saXRlVHlwZXNbbWVhc3VyZW1lbnRUeXBlSURdLm5hbWU7XG5cdFx0XHRyZXR1cm4gbWV0YWJvbGl0ZU5hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlZCBieSBfZ2VuZXJhdGVEZWJ1Z1RleHRGb3JQb3B1cCB0byBnZW5lcmF0ZSBhIGxpc3QgbGlrZTpcblx0XHQvLyA9PSBJbnB1dHMgICAgKDAuMjQzNCBDbW9sL0wpXG5cdFx0Ly8gICAgIEZvcm1hdGUgOiAwLjI0MzRcblx0XHRwcml2YXRlIF9wcmludENhcmJvbkJhbGFuY2VMaXN0KGhlYWRlcjpzdHJpbmcsIGxpc3Q6SW5PdXRTdW1NZWFzdXJlbWVudFtdLCBzaG93U3VtOmJvb2xlYW4pIHtcblxuXHRcdFx0dmFyIHBhZGRpbmc6bnVtYmVyID0gMTA7XG5cblx0XHRcdC8vIFRvdGFsIGFsbCB0aGUgZWxlbWVudHMgdXAuXG5cdFx0XHR2YXIgdGV4dDpzdHJpbmcgPSBoZWFkZXI7XG5cblx0XHRcdGlmIChzaG93U3VtICYmIGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YXIgc3VtOm51bWJlciA9IGxpc3QucmVkdWNlKCAocDpudW1iZXIsYzpJbk91dFN1bU1lYXN1cmVtZW50KSA9PiBwICsgTWF0aC5hYnMoYy5jYXJib25EZWx0YSksIDAuMCApO1xuXHRcdFx0XHR0ZXh0ICs9IFV0bC5KUy5yZXBlYXRTdHJpbmcoJyAnLCBwYWRkaW5nIC0gaGVhZGVyLmxlbmd0aCArIDMpICsgXCJbXCIgKyBzdW0udG9GaXhlZCg0KSArIFwiIENtTW9sL2dkdy9ocl1cIjtcblx0XHRcdH1cblxuXHRcdFx0dGV4dCArPSBcIlxcblwiO1xuXG5cdFx0XHR2YXIgcGFkZGluZzpudW1iZXIgPSAxNjtcblxuXHRcdFx0aWYgKGxpc3QubGVuZ3RoID09IDApIHtcblx0XHRcdFx0dGV4dCArPSBVdGwuSlMucGFkU3RyaW5nUmlnaHQoXCIobm9uZSlcIiwgcGFkZGluZykgKyBcIlxcblwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICh2YXIgaTpudW1iZXI9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgbWVhc3VyZW1lbnQgPSBsaXN0W2ldO1xuXG5cdFx0XHRcdFx0Ly8gR2V0IGEgcGFkZGVkIG5hbWUgc3RyaW5nIGZvciB0aGUgbWV0YWJvbGl0ZVxuXHRcdFx0XHRcdHZhciBuYW1lOnN0cmluZyA9IHRoaXMuX2dldE1ldGFib2xpdGVOYW1lQnlNZWFzdXJlbWVudElEKG1lYXN1cmVtZW50LnRpbWVsaW5lLm1lYXN1cmVJZCk7XG5cdFxuXHRcdFx0XHRcdC8vIFJlbmFtZSBcIk9wdGljYWwgRGVuc2l0eVwiIHRvIGJpb21hc3MsIHNpbmNlIHRoYXQncyB3aGF0IHdlIHVzZSBpdCBmb3IuXG5cdFx0XHRcdFx0aWYgKG5hbWUgPT0gJ09wdGljYWwgRGVuc2l0eScpXG5cdFx0XHRcdFx0XHRuYW1lID0gJ0Jpb21hc3MnO1xuXHRcblx0XHRcdFx0XHRuYW1lID0gVXRsLkpTLnBhZFN0cmluZ1JpZ2h0KG5hbWUsIHBhZGRpbmcpO1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBhc3NheSdzIG5hbWVcblx0XHRcdFx0XHR2YXIgYXNzYXlSZWNvcmQgPSBFREREYXRhLkFzc2F5c1ttZWFzdXJlbWVudC50aW1lbGluZS5hc3NheS5hc3NheUlkXTtcblx0XHRcdCAgICBcdHZhciBsaWQgPSBhc3NheVJlY29yZC5saWQ7XG5cdFx0XHQgICAgXHR2YXIgcGlkID0gYXNzYXlSZWNvcmQucGlkO1xuXHRcdFx0XHRcdHZhciBhc3NheU5hbWU6c3RyaW5nID0gW0VERERhdGEuTGluZXNbbGlkXS5uYW1lLCBFREREYXRhLlByb3RvY29sc1twaWRdLm5hbWUsIGFzc2F5UmVjb3JkLm5hbWVdLmpvaW4oJy0nKTtcblxuXHRcdFx0XHRcdHZhciBudW1iZXJTdHJpbmc6c3RyaW5nID0gVXRsLkpTLnBhZFN0cmluZ1JpZ2h0KE1hdGguYWJzKG1lYXN1cmVtZW50LmNhcmJvbkRlbHRhKS50b0ZpeGVkKDQpLCA4KTtcblx0XHRcdFx0XHR0ZXh0ICs9IG5hbWUgKyBcIiA6IFwiICsgbnVtYmVyU3RyaW5nICsgXCIgICAgW1wiICsgYXNzYXlOYW1lICsgXCJdXCIgKyBcIlxcblwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblxuXHRcdC8vIFRoaXMgaXMgc2hvd24gd2hlbiB0aGV5IGNsaWNrIHRoZSAnZGF0YScgbGluayBpbiBhIGNhcmJvbiBiYWxhbmNlIHBvcHVwLiBJdCdzIGludGVuZGVkXG5cdFx0Ly8gdG8gc2hvdyBhbGwgdGhlIGRhdGEgdGhhdCB0aGUgYXNzZXNzbWVudCB3YXMgYmFzZWQgb24uXG5cdFx0cHJpdmF0ZSBfZ2VuZXJhdGVEZWJ1Z1RleHRGb3JQb3B1cChsaW5lSUQ6bnVtYmVyLCB0aW1lU3RhbXA6bnVtYmVyLCBiYWxhbmNlOkxpbmVTYW1wbGVCYWxhbmNlKTpIVE1MRWxlbWVudCB7XG5cdFx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuXHRcdFx0JChlbCkuY3NzKCdmb250LWZhbWlseScsICdcIkx1Y2lkYSBDb25zb2xlXCIsIE1vbmFjbywgbW9ub3NwYWNlJyk7XG5cdFx0XHQkKGVsKS5jc3MoJ2ZvbnQtc2l6ZScsICc4cHQnKTtcblx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnd3JhcCcsJ29mZicpO1xuXG5cdFx0XHR2YXIgc29ydGVkTGlzdDpJbk91dFN1bU1lYXN1cmVtZW50W10gPSBiYWxhbmNlLm1lYXN1cmVtZW50cy5zbGljZSgwKTtcblx0XHRcdHNvcnRlZExpc3Quc29ydCggKGEsYikgPT4ge3JldHVybiBhLmNhcmJvbkRlbHRhIC0gYi5jYXJib25EZWx0YTt9IClcblxuXHRcdFx0dmFyIHByZXZUaW1lU3RhbXA6bnVtYmVyID0gdGhpcy5fZ2V0UHJldmlvdXNNZXJnZWRUaW1lc3RhbXAobGluZUlELCB0aW1lU3RhbXApO1xuXHRcdFx0dmFyIHRpdGxlOnN0cmluZyA9IEVERERhdGEuTGluZXNbbGluZUlEXS5uYW1lICsgXCIgZnJvbSBcIiArIHByZXZUaW1lU3RhbXAudG9GaXhlZCgxKSArIFwiaCB0byBcIiArIHRpbWVTdGFtcC50b0ZpeGVkKDEpICsgXCJoXCI7XG5cblx0XHRcdHZhciBkaXZpZGVyID0gXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuXCI7XG5cdFx0XHR2YXIgdGV4dCA9IHRpdGxlICsgXCJcXG5cIiArIGRpdmlkZXIgKyBcIlxcblwiO1xuXG5cdFx0XHR0ZXh0ICs9IHRoaXMuX3ByaW50Q2FyYm9uQmFsYW5jZUxpc3QoXCI9PSBJbnB1dHNcIiwgc29ydGVkTGlzdC5maWx0ZXIoICh4KSA9PiB4LmNhcmJvbkRlbHRhIDwgMCApLCB0cnVlKSArIFwiXFxuXCI7XG5cdFx0XHR0ZXh0ICs9IHRoaXMuX3ByaW50Q2FyYm9uQmFsYW5jZUxpc3QoXCI9PSBPdXRwdXRzXCIsIHNvcnRlZExpc3QuZmlsdGVyKCAoeCkgPT4geC5jYXJib25EZWx0YSA+IDAgKSwgdHJ1ZSkgKyBcIlxcblwiO1xuXHRcdFx0dGV4dCArPSB0aGlzLl9wcmludENhcmJvbkJhbGFuY2VMaXN0KFwiPT0gTm8gRGVsdGFcIiwgc29ydGVkTGlzdC5maWx0ZXIoICh4KSA9PiB4LmNhcmJvbkRlbHRhID09IDAgKSwgZmFsc2UpICsgXCJcXG5cIjtcblxuXHRcdFx0Ly8gU2hvdyB0aGUgc3VtbWF0aW9uIGRldGFpbHMgZm9yIHRoaXMgc3R1ZHkuXG5cdFx0XHR0ZXh0ICs9IFwiXFxuREVUQUlMU1xcblwiICsgZGl2aWRlciArIFwiXFxuXCI7XG5cblx0XHRcdHZhciBkZXRhaWxzOnN0cmluZyA9IENhcmJvbkJhbGFuY2UuU3VtbWF0aW9uLmdlbmVyYXRlRGVidWdUZXh0KFxuXHRcdFx0XHR0aGlzLl9iaW9tYXNzQ2FsY3VsYXRpb24sXG5cdFx0XHRcdGxpbmVJRCxcblx0XHRcdFx0dGltZVN0YW1wKTtcblxuXHRcdFx0dGV4dCArPSBkZXRhaWxzO1xuXG5cblx0XHRcdC8vIFNob3cgdGhlIGJpb21hc3MgY2FsY3VsYXRpb24gZm9yIHRoaXMgc3R1ZHkuXG5cdFx0XHR0ZXh0ICs9IFwiXFxuQklPTUFTU1xcblwiICsgZGl2aWRlciArIFwiXFxuXCI7XG5cdFx0XHR0ZXh0ICs9IFwiQmlvbWFzcyBjYWxjdWxhdGlvbjogXCIgKyAoK3RoaXMuX2Jpb21hc3NDYWxjdWxhdGlvbikudG9GaXhlZCg0KSArIFwiXFxuXCI7XG5cblx0XHRcdGVsLmlubmVySFRNTCA9IHRleHQ7XG5cblx0XHRcdCQoZWwpLndpZHRoKDQ2MCk7XG5cdFx0XHQkKGVsKS5oZWlnaHQodGhpcy5QT1BVUF9TVkdfSEVJR0hUKTtcblxuXHRcdFx0Ly8gTG9hZCB1cCBzb21lIG1vcmUgZGV0YWlsZWQgc3R1ZmYgYWJvdXQgdGhlIHdob2xlIHJlYWN0aW9uLlxuXHRcdFx0JC5hamF4KHtcblx0XHRcdFx0dHlwZTogXCJQT1NUXCIsXG5cdFx0XHRcdGRhdGFUeXBlOiBcImpzb25cIixcblx0XHQgICAgICBcdHVybDogXCJGb3JtQWpheFJlc3AuY2dpXCIsIFxuXHRcdCAgICAgIFx0ZGF0YTogeyBcImFjdGlvblwiOlwiZ2V0QmlvbWFzc0NhbGN1bGF0aW9uSW5mb1wiLCBtZXRhYm9saWNNYXBJRDp0aGlzLl9tZXRhYm9saWNNYXBJRCB9LFxuXHRcdCAgICAgIFx0c3VjY2VzczogKCByZXNwb25zZTphbnkgKSA9PiB7XG5cdFx0ICAgICAgXHRcdGlmIChyZXNwb25zZS50eXBlID09IFwiU3VjY2Vzc1wiKSB7XG5cdFx0ICAgICAgXHRcdFx0ZWwuaW5uZXJIVE1MICs9IHRoaXMuX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0KHJlc3BvbnNlLmRhdGEuYmlvbWFzc19jYWxjdWxhdGlvbl9pbmZvKTtcblx0XHQgICAgICBcdFx0fSBlbHNlIHtcblx0XHQgICAgICBcdFx0XHRjb25zb2xlLmxvZygnVW5hYmxlIHRvIGdldCBiaW9tYXNzIGNhbGN1bGF0aW9uIGluZm86ICcgKyByZXNwb25zZS5tZXNzYWdlKTtcblx0XHQgICAgICBcdFx0fVxuXHRcdFx0ICAgIH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fVxuXG5cblx0XHQvLyBVc2luZyB0aGUgc3RydWN0dXJlcyBpbiBtZXRhYm9saWNfbWFwcy5iaW9tYXNzX2NhbGN1bGF0aW9uX2luZm8sIGdlbmVyYXRlIGEgc3RyaW5nIHRoYXQgc2hvd3MgXG5cdFx0Ly8gYWxsIHRoZSBzcGVjaWVzLCBtZXRhYm9saXRlcywgc3RvaWNoaW9tZXRyaWVzLCBhbmQgY2FyYm9uIGNvdW50cyB1c2VkLlxuXHRcdC8vIFNlZSBzY2hlbWEudHh0IGZvciB0aGUgc3RydWN0dXJlIG9mIGJpb21hc3NfY2FsY3VsYXRpb25faW5mby5cblx0XHRwcml2YXRlIF9nZW5lcmF0ZUJpb21hc3NDYWxjdWxhdGlvbkRlYnVnVGV4dChiaW9tYXNzX2NhbGN1bGF0aW9uX2luZm86YW55KTpzdHJpbmcge1xuXHRcdFx0dmFyIGJjaSA9IEpTT04ucGFyc2UoYmlvbWFzc19jYWxjdWxhdGlvbl9pbmZvKTtcblx0XHRcdHZhciByZXQ6c3RyaW5nID0gJyc7XG5cblx0XHRcdHJldCArPSBcIkJpb21hc3MgcmVhY3Rpb24gICA6IFwiICsgYmNpLnJlYWN0aW9uX2lkICsgXCJcXG5cIjtcblx0XHRcdHJldCArPSBcIlxcbj09IFJlYWN0YW50c1xcblwiO1xuXHRcdFx0cmV0ICs9IHRoaXMuX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0Rm9yTGlzdChiY2kucmVhY3RhbnRzKTtcblxuXHRcdFx0cmV0ICs9IFwiXFxuPT0gUHJvZHVjdHNcXG5cIjtcblx0XHRcdHJldCArPSB0aGlzLl9nZW5lcmF0ZUJpb21hc3NDYWxjdWxhdGlvbkRlYnVnVGV4dEZvckxpc3QoYmNpLnByb2R1Y3RzKTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblxuXHRcdHByaXZhdGUgX2dlbmVyYXRlQmlvbWFzc0NhbGN1bGF0aW9uRGVidWdUZXh0Rm9yTGlzdCh0aGVMaXN0OmFueSk6c3RyaW5nIHtcblx0XHRcdHZhciByZXQ6c3RyaW5nID0gJyc7XG5cblx0XHRcdGZvciAodmFyIGk9MDsgaSA8IHRoZUxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGVudHJ5ID0gdGhlTGlzdFtpXTtcblxuXHRcdFx0XHRpZiAoZW50cnkubWV0YWJvbGl0ZU5hbWUpIHtcblx0XHRcdFx0XHR2YXIgY29udHJpYnV0aW9uID0gZW50cnkuc3RvaWNoaW9tZXRyeSAqIGVudHJ5LmNhcmJvbkNvdW50O1xuXHRcdFx0XHRcdHJldCArPSBcIiAgICBcIiArIFV0bC5KUy5wYWRTdHJpbmdSaWdodChlbnRyeS5zcGVjaWVzTmFtZSwxNSkgKyBcIjogW1wiICsgVXRsLkpTLnBhZFN0cmluZ0xlZnQoY29udHJpYnV0aW9uLnRvRml4ZWQoNCksIDkpICsgXCJdXCIgKyBcblx0XHRcdFx0XHRcdFwiICB7IG1ldGFib2xpdGU6IFwiICsgZW50cnkubWV0YWJvbGl0ZU5hbWUgKyBcblx0XHRcdFx0XHRcdFwiLCBzdG9pY2hpb21ldHJ5OiBcIiArIGVudHJ5LnN0b2ljaGlvbWV0cnkgKyBcblx0XHRcdFx0XHRcdFwiLCBjYXJib25Db3VudDogXCIgKyBlbnRyeS5jYXJib25Db3VudCArIFwiIH1cIiArIFwiXFxuXCI7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXQgKz0gXCIgICAgXCIgKyBVdGwuSlMucGFkU3RyaW5nUmlnaHQoZW50cnkuc3BlY2llc05hbWUsMTUpICsgXCI6IFsgICAgICAgICBdXCIgKyBcIlxcblwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cblx0XHQvLyBHZXQgdGhlIHByZXZpb3VzIG1lcmdlZCB0aW1lc3RhbXAgZm9yIHRoZSBnaXZlbiBsaW5lLlxuXHRcdC8vIFRoaXMgaXMgdXNlZCB0byBzaG93IHRoZSByYW5nZSB0aGF0IGFuIGltYmFsYW5jZSBvY2N1cnJlZCBvdmVyIChzaW5jZSB3ZSBkb24ndCBkaXNwbGF5IGl0XG5cdFx0Ly8gYW55d2hlcmUgb24gdGhlIHRpbWVsaW5lcykuXG5cdFx0cHJpdmF0ZSBfZ2V0UHJldmlvdXNNZXJnZWRUaW1lc3RhbXAobGluZUlEOm51bWJlciwgdGltZVN0YW1wOm51bWJlcikge1xuXHRcdFx0dmFyIHByZXZUaW1lU3RhbXA6bnVtYmVyID0gMDtcblx0XHRcdFxuXHRcdFx0dmFyIHNhbXBsZXM6TWVyZ2VkTGluZVNhbXBsZVtdID0gdGhpcy5tZXJnZWRUaW1lbGluZXNCeUxpbmVJRFtsaW5lSURdLm1lcmdlZExpbmVTYW1wbGVzO1xuXHRcdFx0Zm9yICh2YXIgaTpudW1iZXI9MDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHNhbXBsZXNbaV0udGltZVN0YW1wID09IHRpbWVTdGFtcClcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHByZXZUaW1lU3RhbXAgPSBzYW1wbGVzW2ldLnRpbWVTdGFtcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHByZXZUaW1lU3RhbXA7XG5cdFx0fVxuXG5cblx0XHQvLyBHZW5lcmF0ZXMgdGhlIHRpdGxlIGJhciBzdHJpbmcgZm9yIGEgY2FyYm9uIGJhbGFuY2UgcG9wdXAgZGlzcGxheS5cblx0XHRwcml2YXRlIF9nZW5lcmF0ZVBvcHVwVGl0bGVGb3JJbWJhbGFuY2UobGluZUlELCB0aW1lU3RhbXA6bnVtYmVyKSB7XG5cdFx0XHR2YXIgcHJldlRpbWVTdGFtcDpudW1iZXIgPSB0aGlzLl9nZXRQcmV2aW91c01lcmdlZFRpbWVzdGFtcChsaW5lSUQsIHRpbWVTdGFtcCk7XG5cdFx0XHRyZXR1cm4gRURERGF0YS5MaW5lc1tsaW5lSURdLm5hbWUgKyBcIiBmcm9tIFwiICsgcHJldlRpbWVTdGFtcC50b0ZpeGVkKDEpICsgXCJoIHRvIFwiICsgdGltZVN0YW1wLnRvRml4ZWQoMSkgKyBcImhcIjtcblx0XHR9XG5cblxuXHRcdC8vIFdoZW4gdGhleSBob3ZlciBvdmVyIGEgdGljayBtYXJrLCB3ZSBzaG91bGQgZGlzcGxheSBhbGwgdGhlIGNhcmJvbiBpbi9vdXQgZGF0YSBmb3IgYWxsIFxuXHRcdC8vIGFzc2F5cyB0aGF0IGhhdmUgYW4gaW1iYWxhbmNlIGF0IHRoaXMgdGltZSBwb2ludC5cblx0XHQvLyBUaGlzIGdlbmVyYXRlcyB0aGUgSFRNTCB0aGF0IGdvZXMgaW4gdGhlIHBvcHVwIGZvciBhIHNwZWNpZmljIGFzc2F5IGltYmFsYW5jZS5cblx0XHRwcml2YXRlIF9nZW5lcmF0ZVBvcHVwRGlzcGxheUZvckltYmFsYW5jZShsaW5lSUQsIHRpbWVTdGFtcCwgZXZlbnQsIGFwaSkge1xuXG5cdFx0XHQvLyBHYXRoZXIgdGhlIGRhdGEgdGhhdCB3ZSdsbCBuZWVkLlxuXHRcdFx0dmFyIGJhbGFuY2U6TGluZVNhbXBsZUJhbGFuY2UgPSB0aGlzLl9jaGVja0xpbmVTYW1wbGVCYWxhbmNlKGxpbmVJRCwgdGltZVN0YW1wKTtcblxuXHRcdFx0Ly8gQ3JlYXRlIFNWRyB0byBkaXNwbGF5IGV2ZXJ5dGhpbmcgaW4uXG5cdFx0XHR2YXIgc3ZnU2l6ZSA9IFsyNjAsIHRoaXMuUE9QVVBfU1ZHX0hFSUdIVF07XG5cdFx0XHR2YXIgc3ZnID0gVXRsLlNWRy5jcmVhdGVTVkcoc3ZnU2l6ZVswXSArICdweCcsIHN2Z1NpemVbMV0gKyAncHgnLCBzdmdTaXplWzBdLCBzdmdTaXplWzFdKTtcblx0XHRcdHZhciB5T2Zmc2V0ID0gKHRoaXMuUE9QVVBfSEVJR0hUIC0gc3ZnU2l6ZVsxXSkgLyAyO1xuXG5cdFx0XHR2YXIgZm9udE5hbWU6c3RyaW5nID0gXCJBcmlhbFwiO1xuXG5cdFx0XHQvLyBDcmVhdGUgYSBsaW5rIHRvIGNvcHkgZGVidWcgdGV4dCB0byB0aGUgY2xpcGJvYXJkLlxuXHRcdFx0dmFyIGRlYnVnVGV4dExpbmsgPSA8U1ZHRWxlbWVudD5zdmcuYXBwZW5kQ2hpbGQoVXRsLlNWRy5jcmVhdGVUZXh0KDAsIDEwLCBcImRhdGFcIiwgZm9udE5hbWUsIDEwLCBmYWxzZSwgVXRsLkNvbG9yLnJnYigxNTAsMTUwLDE1MCkpKTtcblx0XHRcdGRlYnVnVGV4dExpbmsuc2V0QXR0cmlidXRlKCd4JywgKHN2Z1NpemVbMF0gLSAzKS50b1N0cmluZygpKTtcbiAgIFx0XHRcdGRlYnVnVGV4dExpbmsuc2V0QXR0cmlidXRlKCd0ZXh0LWFuY2hvcicsICdlbmQnKTtcbiAgIFx0XHRcdGRlYnVnVGV4dExpbmsuc2V0QXR0cmlidXRlKCdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnaGFuZ2luZycpO1xuICAgXHRcdFx0ZGVidWdUZXh0TGluay5zZXRBdHRyaWJ1dGUoJ2ZvbnQtc3R5bGUnLCAnaXRhbGljJyk7XG4gICBcdFx0XHQkKGRlYnVnVGV4dExpbmspLmNzcygnY3Vyc29yJywgJ3BvaW50ZXInKTtcblxuICAgXHRcdFx0dmFyIGhlbHBlcjpVdGwuUXRpcEhlbHBlciA9IG5ldyBVdGwuUXRpcEhlbHBlcigpO1xuICAgXHRcdFx0aGVscGVyLmNyZWF0ZShkZWJ1Z1RleHRMaW5rLCB0aGlzLl9nZW5lcmF0ZURlYnVnVGV4dEZvclBvcHVwLmJpbmQodGhpcywgbGluZUlELCB0aW1lU3RhbXAsIGJhbGFuY2UpLFxuICAgXHRcdFx0XHR7XG5cdCAgICBcdFx0XHRwb3NpdGlvbjoge1xuXHQgICAgXHRcdFx0XHRteTogJ2JvdHRvbSByaWdodCcsXG5cdCAgICBcdFx0XHRcdGF0OiAndG9wIGxlZnQnXG5cdCAgICBcdFx0XHR9LFxuXHQgICAgXHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0ICAgICAgICBjbGFzc2VzOiAncXRpcC1ibHVlIHF0aXAtc2hhZG93IHF0aXAtcm91bmRlZCBxdGlwLWFsbG93LWxhcmdlJyxcblx0XHRcdFx0ICAgICAgICB3aWR0aDogXCI1NTBweFwiLFxuXHRcdFx0XHQgICAgICAgIGhlaWdodDogXCJcIiArIHRoaXMuUE9QVVBfSEVJR0hUICsgXCJweFwiXG5cdFx0XHRcdCAgICB9LFxuXHRcdFx0XHQgICAgc2hvdzogJ2NsaWNrJyxcblx0XHRcdFx0ICAgIGhpZGU6ICd1bmZvY3VzJ1xuXHQgICAgXHRcdH0pO1xuXG5cdFx0XHQvLyBGaWd1cmUgb3V0IG91ciB2ZXJ0aWNhbCBzY2FsZSBhbmQgbGF5b3V0IHBhcmFtZXRlcnMuXG5cdFx0XHR2YXIgdG9wUG9zID0gTWF0aC5mbG9vcihzdmdTaXplWzFdICogMC4xKSArIHlPZmZzZXQ7XG5cdFx0XHR2YXIgYm90dG9tUG9zID0gc3ZnU2l6ZVsxXSAtIHRvcFBvcyArIHlPZmZzZXQ7XG5cblx0XHRcdHZhciB0b3BQb3NWYWx1ZSA9IE1hdGgubWF4KGJhbGFuY2UudG90YWxJbiwgYmFsYW5jZS50b3RhbE91dCk7XG5cdFx0XHR2YXIgYm90dG9tUG9zVmFsdWUgPSAwO1xuXG5cdFx0XHR2YXIgaW5wdXRzQmFyID0ge1xuXHRcdFx0XHRsZWZ0OiAgTWF0aC5mbG9vcihzdmdTaXplWzBdICogMC4xKSxcblx0XHRcdFx0cmlnaHQ6IE1hdGguZmxvb3Ioc3ZnU2l6ZVswXSAqIDAuNCksXG5cdFx0XHRcdGN1cnJlbnRWYWx1ZTogMCxcblx0XHRcdFx0Y3VyQmFyOiAwLFxuXHRcdFx0XHRudW1CYXJzOiAwLFxuXHRcdFx0XHRzdGFydENvbG9yOiBVdGwuQ29sb3IucmdiKDExMSwxMDIsMjA5KSwgXG5cdFx0XHRcdGVuZENvbG9yOiBVdGwuQ29sb3IucmdiKDM4LDMyLDEyNClcblx0XHRcdH07XG5cblx0XHRcdHZhciBvdXRwdXRzQmFyID0ge1xuXHRcdFx0XHRsZWZ0OiAgTWF0aC5mbG9vcihzdmdTaXplWzBdICogMC42KSxcblx0XHRcdFx0cmlnaHQ6IE1hdGguZmxvb3Ioc3ZnU2l6ZVswXSAqIDAuOSksXG5cdFx0XHRcdGN1cnJlbnRWYWx1ZTogMCxcblx0XHRcdFx0Y3VyQmFyOiAwLFxuXHRcdFx0XHRudW1CYXJzOiAwLFxuXHRcdFx0XHRzdGFydENvbG9yOiBVdGwuQ29sb3IucmdiKDIxOSwwLDEyNiksIFxuXHRcdFx0XHRlbmRDb2xvcjogVXRsLkNvbG9yLnJnYig5MCwwLDI5KVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gR2V0IGV2ZXJ5dGhpbmcgaW4gYSBsaXN0IHNvcnRlZCBieSBoZWlnaHQuXG5cdFx0XHR2YXIgc29ydGVkTGlzdDpJbk91dFN1bU1lYXN1cmVtZW50W10gPSBbXTtcblx0XHRcdGZvciAodmFyIGlNZWFzdXJlbWVudCBpbiBiYWxhbmNlLm1lYXN1cmVtZW50cykge1xuXHRcdFx0XHRzb3J0ZWRMaXN0LnB1c2goIGJhbGFuY2UubWVhc3VyZW1lbnRzW2lNZWFzdXJlbWVudF0gKTtcblx0XHRcdFx0dmFyIGNhcmJvbkRlbHRhOm51bWJlciA9IGJhbGFuY2UubWVhc3VyZW1lbnRzW2lNZWFzdXJlbWVudF0uY2FyYm9uRGVsdGE7XG5cdFx0XHRcdGlmIChjYXJib25EZWx0YSA+IDApXG5cdFx0XHRcdFx0b3V0cHV0c0Jhci5udW1CYXJzKys7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRpbnB1dHNCYXIubnVtQmFycysrO1xuXHRcdFx0fVxuXG5cdFx0XHRzb3J0ZWRMaXN0LnNvcnQoIGZ1bmN0aW9uKGEsYikge1xuXHRcdFx0XHRyZXR1cm4gYi5hYnNEZWx0YSgpIC0gYS5hYnNEZWx0YSgpO1xuXHRcdFx0fSk7XG5cblxuXHRcdFx0Ly8gTm93IGJ1aWxkIHRoZSBzdGFja3MuXG5cdFx0XHR2YXIgcHJldkluVmFsdWUgPSAwLCBwcmV2T3V0VmFsdWUgPSAwO1xuXHRcdFx0Zm9yICh2YXIgaU1lYXN1cmVtZW50IGluIHNvcnRlZExpc3QpIHtcblx0XHRcdFx0dmFyIG1lYXN1cmVtZW50ID0gc29ydGVkTGlzdFtpTWVhc3VyZW1lbnRdO1xuXG5cdFx0XHRcdHZhciBjYXJib25EZWx0YTpudW1iZXIgPSBtZWFzdXJlbWVudC5jYXJib25EZWx0YTtcblx0XHRcdFx0dmFyIGFic0RlbHRhOm51bWJlciA9IE1hdGguYWJzKGNhcmJvbkRlbHRhKTtcblxuXHRcdFx0XHR2YXIgYmFyID0gaW5wdXRzQmFyO1xuXHRcdFx0XHRpZiAoY2FyYm9uRGVsdGEgPiAwKVxuXHRcdFx0XHRcdGJhciA9IG91dHB1dHNCYXI7XG5cblx0XHRcdFx0dmFyIG5leHRWYWx1ZSA9IGJhci5jdXJyZW50VmFsdWUgKyBhYnNEZWx0YTtcblx0XHRcdFx0dmFyIHkxID0gVXRsLkpTLnJlbWFwVmFsdWUoYmFyLmN1cnJlbnRWYWx1ZSwgYm90dG9tUG9zVmFsdWUsIHRvcFBvc1ZhbHVlLCBib3R0b21Qb3MsIHRvcFBvcyk7XG5cdFx0XHRcdHZhciB5MiA9IFV0bC5KUy5yZW1hcFZhbHVlKG5leHRWYWx1ZSwgICAgICAgIGJvdHRvbVBvc1ZhbHVlLCB0b3BQb3NWYWx1ZSwgYm90dG9tUG9zLCB0b3BQb3MpO1xuXHRcdFx0XHRpZiAoeTEteTIgPD0gMSlcblx0XHRcdFx0XHR5MiA9IHkxIC0gMjtcblxuXHRcdFx0XHQvLyBUaGUgY29sb3IganVzdCBpbnRlcnBvbGF0ZXMgdGhyb3VnaCB0aGlzIGJhcidzIGNvbG9yIHJhbmdlLlxuXHRcdFx0XHR2YXIgY2xyID0gKGJhci5udW1CYXJzIDw9IDEpID8gYmFyLnN0YXJ0Q29sb3IgOiBVdGwuQ29sb3IuaW50ZXJwb2xhdGUoYmFyLnN0YXJ0Q29sb3IsIGJhci5lbmRDb2xvciwgYmFyLmN1ckJhciAvIChiYXIubnVtQmFycy0xKSk7XG5cblx0XHRcdFx0dmFyIHJlY3QgPSBzdmcuYXBwZW5kQ2hpbGQoIFV0bC5TVkcuY3JlYXRlUmVjdChiYXIubGVmdCwgeTEsIGJhci5yaWdodC1iYXIubGVmdCwgeTIteTEsIFxuXHRcdFx0XHRcdGNsciwgXHQvLyBmaWxsIGNvbG9yXG5cdFx0XHRcdFx0MSwgVXRsLkNvbG9yLmJsYWNrIC8vIHN0cm9rZSBpbmZvXG5cdFx0XHRcdCkpO1xuXG5cdFx0XHRcdC8vIE1ha2UgaXQgYSByb3VuZGVkIHJlY3RhbmdsZS5cblx0XHRcdFx0dmFyIHJvdW5kID0gTWF0aC5taW4oMiwgTWF0aC5hYnMoeTIteTEpKTtcblx0XHRcdFx0VXRsLlNWRy5tYWtlUmVjdFJvdW5kZWQocmVjdCwgcm91bmQsIHJvdW5kKTtcblxuXHRcdFx0XHQvLyBBZGQgYSB0aW55IGxhYmVsIHNob3dpbmcgdGhlIG5hbWUgb2YgdGhlIG1ldGFib2xpdGUuXG5cdFx0XHRcdHZhciBtZWFzdXJlbWVudFR5cGVJRCA9IEVERERhdGEuQXNzYXlNZWFzdXJlbWVudHNbbWVhc3VyZW1lbnQudGltZWxpbmUubWVhc3VyZUlkXS50eXBlO1xuXHRcdFx0XHR2YXIgbWV0YWJvbGl0ZU5hbWUgPSBFREREYXRhLk1ldGFib2xpdGVUeXBlc1ttZWFzdXJlbWVudFR5cGVJRF0ubmFtZTtcblxuXHRcdFx0XHQvLyBSZW5hbWUgXCJPcHRpY2FsIERlbnNpdHlcIiB0byBiaW9tYXNzLCBzaW5jZSB0aGF0J3Mgd2hhdCB3ZSB1c2UgaXQgZm9yLlxuXHRcdFx0XHRpZiAobWV0YWJvbGl0ZU5hbWUgPT0gJ09wdGljYWwgRGVuc2l0eScpXG5cdFx0XHRcdFx0bWV0YWJvbGl0ZU5hbWUgPSAnQmlvbWFzcyc7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUncyByb29tLCBwdXQgdGhlIGxhYmVsIHJpZ2h0IGluIHRoZSBib3ggZm9yIHRoZSBtZXRhYm9saXRlLlxuXHRcdFx0XHQvLyBJZiBub3QsIHB1dCBpdCBvZmYgdG8gdGhlIHNpZGUuXG5cdFx0XHRcdHZhciBtZXRhYm9saXRlTGFiZWxGb250U2l6ZSA9IDExO1xuXHRcdFx0XHRpZiAoeTEteTIgPiBtZXRhYm9saXRlTGFiZWxGb250U2l6ZSoxLjIpIHtcblx0XHRcdFx0XHR2YXIgdGV4dCA9IHRoaXMuX2NyZWF0ZVRleHRXaXRoRHJvcFNoYWRvdyhzdmcsXG5cdFx0XHRcdFx0XHQoYmFyLmxlZnQgKyBiYXIucmlnaHQpIC8gMixcblx0XHRcdFx0XHRcdCh5MSArIHkyKSAvIDIgKyBtZXRhYm9saXRlTGFiZWxGb250U2l6ZS8yLFxuXHRcdFx0XHRcdFx0bWV0YWJvbGl0ZU5hbWUsXG5cdFx0XHRcdFx0XHRmb250TmFtZSwgbWV0YWJvbGl0ZUxhYmVsRm9udFNpemUsXG5cdFx0XHRcdFx0XHRVdGwuQ29sb3Iud2hpdGUsIFV0bC5Db2xvci5ibGFja1xuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHQkKHRleHQpLmNzcygnZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFyLmN1ckJhcisrO1xuXHRcdFx0XHRiYXIuY3VycmVudFZhbHVlID0gbmV4dFZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9hZGRTdW1tYXJ5TGFiZWxzKHN2ZywgYmFsYW5jZSwgaW5wdXRzQmFyLCBvdXRwdXRzQmFyLCB0b3BQb3MsIHRvcFBvc1ZhbHVlLCBib3R0b21Qb3MsIGJvdHRvbVBvc1ZhbHVlKTtcblxuXHRcdFx0cmV0dXJuIHN2Zztcblx0XHR9XG5cblx0XHRwcml2YXRlIF9jcmVhdGVUZXh0V2l0aERyb3BTaGFkb3coc3ZnLCB4LCB5LCB0ZXh0LCBmb250LCBmb250U2l6ZSwgbWFpbkNvbG9yLCBzaGFkb3dDb2xvcikge1xuXHRcdFx0dmFyIGl4ID0gTWF0aC5mbG9vcih4KTtcblx0XHRcdHZhciBpeSA9IE1hdGguZmxvb3IoeSk7XG5cblx0XHRcdHZhciBlbDEgPSBzdmcuYXBwZW5kQ2hpbGQoIFV0bC5TVkcuY3JlYXRlVGV4dCggaXgsIGl5LCB0ZXh0LCBmb250LCBmb250U2l6ZSwgdHJ1ZSwgc2hhZG93Q29sb3IgKSApO1xuXHRcdFx0dmFyIGVsMiA9IHN2Zy5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVUZXh0KCBpeCwgaXktMSwgdGV4dCwgZm9udCwgZm9udFNpemUsIHRydWUsIG1haW5Db2xvciApICk7XG5cdFx0XHRyZXR1cm4gJChlbDEpLmFkZChlbDIpO1xuXHRcdH1cblxuXHRcdHByaXZhdGUgX2FkZFN1bW1hcnlMYWJlbHMoc3ZnLCBiYWxhbmNlLCBpbnB1dHNCYXIsIG91dHB1dHNCYXIsIHRvcFBvcywgdG9wUG9zVmFsdWUsIGJvdHRvbVBvcywgYm90dG9tUG9zVmFsdWUpIHtcblxuXHRcdFx0Ly8gUHV0IGEgbGFiZWwgdW5kZXIgZWFjaCBiYXIuXG5cdFx0XHR2YXIgZm9udCA9IFwiQXJpYWxcIjtcblx0XHRcdHZhciBmb250U2l6ZSA9IDE2O1xuXG5cdFx0XHRzdmcuYXBwZW5kQ2hpbGQoIFV0bC5TVkcuY3JlYXRlVGV4dCggXG5cdFx0XHRcdChpbnB1dHNCYXIubGVmdCArIGlucHV0c0Jhci5yaWdodCkgKiAwLjUsXG5cdFx0XHRcdGJvdHRvbVBvcyArIGZvbnRTaXplLFxuXHRcdFx0XHRcIklucHV0c1wiLFxuXHRcdFx0XHRmb250LCBmb250U2l6ZSxcblx0XHRcdFx0dHJ1ZVxuXHRcdFx0KSk7XG5cblx0XHRcdHN2Zy5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVUZXh0KCBcblx0XHRcdFx0KG91dHB1dHNCYXIubGVmdCArIG91dHB1dHNCYXIucmlnaHQpICogMC41LFxuXHRcdFx0XHRib3R0b21Qb3MgKyBmb250U2l6ZSxcblx0XHRcdFx0XCJPdXRwdXRzXCIsXG5cdFx0XHRcdGZvbnQsIGZvbnRTaXplLFxuXHRcdFx0XHR0cnVlXG5cdFx0XHQpKTtcblxuXHRcdFx0Ly8gTGFiZWwgdGhlIHRvcCBvZiB0aGUgY2hhcnQncyBDbW9sL0wuIFRoYXQncyBlbm91Z2ggdG8gZ2V0IGEgc2Vuc2Ugb2YgdGhlIGRhdGEsIGFuZCB3ZSBjYW4gXG5cdFx0XHQvLyBwcm92aWRlIGZ1cnRoZXIgaG92ZXIgcG9wdXBzIGlmIHdlIG5lZWQgdG8uXG5cdFx0XHR2YXIgbWlkZGxlWCA9IChpbnB1dHNCYXIucmlnaHQgKyBvdXRwdXRzQmFyLmxlZnQpIC8gMjtcblx0XHRcdHZhciB0U2hhcGVXaWR0aCA9IChvdXRwdXRzQmFyLmxlZnQgLSBpbnB1dHNCYXIucmlnaHQpIC0gNjtcblx0XHRcdHZhciB0U2hhcGVIZWlnaHQgPSA1O1xuXHRcdFx0dGhpcy5fZHJhd1RTaGFwZShzdmcsIG1pZGRsZVgsIHRvcFBvcywgXG5cdFx0XHRcdHRTaGFwZVdpZHRoLCB0U2hhcGVIZWlnaHQsIFxuXHRcdFx0XHR0b3BQb3NWYWx1ZS50b0ZpeGVkKDIpICsgXCIgQ21Nb2wvZ2R3L2hyXCIsIGZvbnQsIDE0LFxuXHRcdFx0XHRmYWxzZSApO1xuXG5cblx0XHRcdC8vIERyYXcgYW5vdGhlciBpbmRpY2F0b3IgZm9yIHRoZSBtZXRhYm9saXRlIHRoYXQgaGFzIGxlc3MuXG5cdFx0XHR2YXIgc21hbGxlck1ldGFib2xpdGVDbW9sTFZhbHVlID0gTWF0aC5taW4oYmFsYW5jZS50b3RhbEluLCBiYWxhbmNlLnRvdGFsT3V0KTtcblx0XHRcdHZhciBzbWFsbGVyTWV0YWJvbGl0ZVlQb3MgPSBVdGwuSlMucmVtYXBWYWx1ZShzbWFsbGVyTWV0YWJvbGl0ZUNtb2xMVmFsdWUsIGJvdHRvbVBvc1ZhbHVlLCB0b3BQb3NWYWx1ZSwgYm90dG9tUG9zLCB0b3BQb3MpO1xuXG5cdFx0XHR0aGlzLl9kcmF3VFNoYXBlKHN2ZywgbWlkZGxlWCwgc21hbGxlck1ldGFib2xpdGVZUG9zLCBcblx0XHRcdFx0dFNoYXBlV2lkdGgqMC44LCB0U2hhcGVIZWlnaHQsIFxuXHRcdFx0XHRzbWFsbGVyTWV0YWJvbGl0ZUNtb2xMVmFsdWUudG9GaXhlZCgyKSwgZm9udCwgMTQsXG5cdFx0XHRcdHRydWUgKTtcblxuXHRcdH1cblxuXHRcdHByaXZhdGUgX2RyYXdUU2hhcGUoc3ZnLCBjZW50ZXJYLCB5LCB3aWR0aCwgaGVpZ2h0LCB0ZXh0LCBmb250LCBmb250U2l6ZSwgdGV4dE9uQm90dG9tOmJvb2xlYW4pIHtcblxuXHRcdFx0dmFyIHRTaGFwZUhlaWdodDpudW1iZXIgPSA1O1xuXG5cdFx0XHQvLyBCcmVhayB0aGUgdGV4dCBpbnRvIG11bHRpcGxlIGxpbmVzIGlmIG5lY2Vzc2FyeS5cblx0XHRcdHZhciBsaW5lcyA9IHRleHQuc3BsaXQoXCJcXG5cIik7XG5cdFx0XHR2YXIgY3VyWSA9IHkgLSBmb250U2l6ZSpsaW5lcy5sZW5ndGg7XG5cdFx0XHRpZiAodGV4dE9uQm90dG9tKVxuXHRcdFx0XHRjdXJZID0geSArIGZvbnRTaXplICsgdFNoYXBlSGVpZ2h0O1xuXG5cdFx0XHRmb3IgKHZhciBpIGluIGxpbmVzKSB7XG5cdFx0XHRcdHN2Zy5hcHBlbmRDaGlsZCggVXRsLlNWRy5jcmVhdGVUZXh0KCBcblx0XHRcdFx0XHRjZW50ZXJYLFxuXHRcdFx0XHRcdGN1clksXG5cdFx0XHRcdFx0bGluZXNbaV0sXG5cdFx0XHRcdFx0Zm9udCwgZm9udFNpemUsXG5cdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHQpKTtcblxuXHRcdFx0XHRjdXJZICs9IGZvbnRTaXplO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW5kT2ZUID0gKHRleHRPbkJvdHRvbSA/IHkrdFNoYXBlSGVpZ2h0IDogeS10U2hhcGVIZWlnaHQpO1xuXHRcdFx0c3ZnLmFwcGVuZENoaWxkKCBVdGwuU1ZHLmNyZWF0ZUxpbmUoXG5cdFx0XHRcdGNlbnRlclgsIGVuZE9mVCxcblx0XHRcdFx0Y2VudGVyWCwgeSxcblx0XHRcdFx0VXRsLkNvbG9yLmJsYWNrXG5cdFx0XHQpKTtcblxuXHRcdFx0c3ZnLmFwcGVuZENoaWxkKCBVdGwuU1ZHLmNyZWF0ZUxpbmUoXG5cdFx0XHRcdGNlbnRlclgtd2lkdGgvMiwgeSxcblx0XHRcdFx0Y2VudGVyWCt3aWR0aC8yLCB5LFxuXHRcdFx0XHRVdGwuQ29sb3IuYmxhY2tcblx0XHRcdCkpO1xuXG5cdFx0fVxuXG5cblx0XHRwcml2YXRlIF9jaGVja0xpbmVTYW1wbGVCYWxhbmNlKGxpbmVJRCwgdGltZVN0YW1wKSB7XG5cdFx0XHR2YXIgbGluZURhdGE6TGluZURhdGEgPSB0aGlzLmNhcmJvblN1bS5nZXRMaW5lRGF0YUJ5SUQobGluZUlEKTtcblx0XHRcdHZhciBzdW06Q2FyYm9uQmFsYW5jZS5Jbk91dFN1bSA9IGxpbmVEYXRhLmdldEluT3V0U3VtQXRUaW1lKHRpbWVTdGFtcCk7XG5cblx0XHRcdC8vIFdlIG5lZWQgYXQgbGVhc3QgMiBtZWFzdXJlbWVudHMgaW4gb3JkZXIgdG8gcmVnaXN0ZXIgYW4gaW1iYWxhbmNlLlxuXHRcdFx0aWYgKHN1bS5tZWFzdXJlbWVudHMubGVuZ3RoIDwgMilcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdHZhciBub3JtYWxpemVkRXJyb3I6bnVtYmVyID0gdGhpcy5fY2FsY05vcm1hbGl6ZWRFcnJvcihzdW0udG90YWxJbiwgc3VtLnRvdGFsT3V0KTtcblxuXHRcdFx0cmV0dXJuIG5ldyBMaW5lU2FtcGxlQmFsYW5jZShcblx0XHRcdFx0KG5vcm1hbGl6ZWRFcnJvciA8IHRoaXMuX25vcm1hbGl6ZWRFcnJvclRocmVzaG9sZCksXG5cdFx0XHRcdHN1bS50b3RhbEluLFxuXHRcdFx0XHRzdW0udG90YWxPdXQsXG5cdFx0XHRcdHN1bS5tZWFzdXJlbWVudHNcblx0XHRcdCk7XG5cdFx0fVxuXG5cblx0XHRwcml2YXRlIF9tZXRhYm9saWNNYXBJRDpudW1iZXI7XG5cdFx0cHJpdmF0ZSBfYmlvbWFzc0NhbGN1bGF0aW9uOm51bWJlcjtcblx0XHRzdGF0aWMgZ3JhcGhEaXYgPSBudWxsO1xuXHRcdGFsbENCR3JhcGhzID0gW107XG5cdFx0bWVyZ2VkVGltZWxpbmVzQnlMaW5lSUQ6e1tsaW5lSUQ6bnVtYmVyXTpNZXJnZWRMaW5lU2FtcGxlc30gPSB7fTtcblx0XHRjYXJib25TdW06Q2FyYm9uQmFsYW5jZS5TdW1tYXRpb24gPSBudWxsO1xuXHR9O1xuXG5cblxuXHRjbGFzcyBMaW5lU2FtcGxlQmFsYW5jZSB7XG5cdFx0Y29uc3RydWN0b3IocHVibGljIGlzQmFsYW5jZWQ6Ym9vbGVhbiwgcHVibGljIHRvdGFsSW46bnVtYmVyLCBwdWJsaWMgdG90YWxPdXQ6bnVtYmVyLCBwdWJsaWMgbWVhc3VyZW1lbnRzOkluT3V0U3VtTWVhc3VyZW1lbnRbXSkge31cblx0fVxuXG59IC8vIGVuZCBDYXJib25CYWxhbmNlIG1vZHVsZVxuXG4iXX0=