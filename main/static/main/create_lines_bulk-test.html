<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create lines for study</title>
    <!-- TODO: template-ize script / stylesheet references -->
    <link rel="stylesheet" type="text/css" href="common.css"/>
    <link rel="stylesheet" type="text/css" href="create_lines_bulk.css"/>
    <link rel="stylesheet"
          href="file:///Users/forrer/Documents/work/JBEI/edd/main/static/main/js/lib/jquery-ui/jquery-ui.min.css">
  <script src="file:///Users/forrer/Documents/work/JBEI/edd/main/static/main/js/lib/jquery/jquery-3.1.0.min.js"></script>
    <script
          src="file:///Users/forrer/Documents/work/JBEI/edd/main/static/main/js/lib/jquery-ui/jquery-ui.min.js"></script>
    <script src="file:///Users/forrer/Documents/work/JBEI/edd/main/static/main/js/CreateLines.js"></script>
    <script src="file:///Users/forrer/Documents/work/JBEI/edd/main/static/main/js/EDDAutocomplete.js"></script>

  <script src="/resources/demos/external/jquery-mousewheel/jquery.mousewheel.js"></script>

    <!-- TODO: extract this code to the stylesheet. -- initial experimental version copied from
    https://jqueryui.com/spinner/
    -->
    <script>
    $(function() {
    var spinner = $( "#spinner" ).spinner({min: 1, decimals: 0});

    /*$( "#disable" ).click(function() {
      if ( spinner.spinner( "option", "disabled" ) ) {
        spinner.spinner( "enable" );
      } else {
        spinner.spinner( "disable" );
      }
    });
    $( "#destroy" ).click(function() {
      if ( spinner.spinner( "instance" ) ) {
        spinner.spinner( "destroy" );
      } else {
        spinner.spinner();
      }
    });
    $( "#getvalue" ).click(function() {
      alert( spinner.spinner( "value" ) );
    });
    */
    // $( "button" ).button(); //TODO: figure this out -- hilariously enlarges all the other buttons
        // too
  });
  </script>
    <script>
        // custom work-in-progress JavaScript to make the page thingy work
        $("#clear_form").click(function(){
            alert("Are you sure you want to clear the form?");
            spinner.spinner("value", 3)
        });
    </script>
    <!-- end of copied JQueryUI spinner sample code-->
</head>
<body>
<div id="dialog-confirm" title="Empty the recycle bin?">
  <p><span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span>These items will be permanently deleted and cannot be recovered. Are you sure?</p>
</div>
<h1>Create lines for <a href="/study/{{ study.id }}">{{ study.name }}</a></h1>
<div>
    <!-- Step 1 -->
    <div class="pageSection" id="select_input_source_step">
        <div class="sectionHead">Step 1: Choose the source(s) for line definitions:</div>
            <div class="sectionContent">
                <ul id="step1_list">
                    <li>
                        <input type="radio" name="input_source" id="manual_input_btn"
                       class="property_radio" checked="checked" />
                <label for="manual_input_btn">Manual input only (see Step 2)</label>
                    </li>
                    <li>
                        <input type="radio" name="input_source" id="spreadsheet_btn"
                       class="property_radio" disabled="disabled"/>
                <label for="spreadsheet_btn">Spreadsheet</label>
                    </li>
                    <li>
                         <input type="radio" name="input_source" id="ice_collection_btn"
                                class="property_radio" disabled="disabled"/>
                <label for="ice_collection_btn" >ICE collection</label>
                        <input type="text" name="ice_collection" class="autocomplete" disabled="disabled">
                    </li>
                </ul>
            </div>
    </div>
    <!-- Step 2 (Dynamic) -->
    <div class="pageSection" id="select_line_properties_step_dynamic">
        <div class="sectionHead">Step 2: Choose properties to apply to each new line:</div>
    <div class="sectionContent">
        <div class="heading">
            <div class="cell">
                <label>Property</label>
            </div>
            <div class="cell"><!--empty for property user input--></div>
            <div class="cell"><!--empty for add button column--></div>
            <div class="cell">
                <label>Apply to<br> All Lines</label>
            </div>
            <div class="cell">
                <label>Make <br>Combinations</label>
            </div>
        </div>
    </div>
</div>
    <!-- Step 3 -->
    <div class="pageSection" id="choose_line_names_step">
        <div class="sectionHead">Step 3: Choose the order of identifying data in line
            names:</div>
        <div class="sectionContent">
            <div id="line_naming_summary"> <label>Sample Line Name: </label></div>
            <div class="table" id="name_ordering_table">
                <div class="heading">
                    <div class="cell"><label>Ordering:</label></div>
                    <div class="cell"></div>
                </div>
                <div class="row">
                    <div class="cell subsection"><label>Line Name Elements:</label></div>
                    <div class="cell subsection"><label>Unused Elements:</label></div>
                </div>
                <div class="row">
                    <!-- Line Name Elements List -->
                    <div class="cell name_elt_cell">
                        <div>
                            <ul id="line_name_elts" class="connectedSortable"></ul>
                        </div>
                    </div>
                    <!-- Unused Elements List -->
                    <div class="cell name_elt_cell">
                        <div>
                            <ul id="unused_line_name_elts" class="connectedSortable"></ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table" id="name_customization_table">
                <div class="heading">
                    <div class="cell"><label>Custom Name Elements:</label></div>
                    <div class="cell"><button name="add_custom_label">+</button></div>
                    <div class="cell"><label>Abbreviations:</label></div>
                    <div class="cell"><button name="add_abbreviation">+</button></div>
                </div>
                <div class="row">
                    <div class="cell"><label>Label</label></div>
                    <div class="cell"><label>Value</label></div>
                    <div class="cell"><label>Element</label></div>
                    <div class="cell"><label>Value</label></div>
                    <div class="cell"><label>Abbreviation</label></div>
                </div>
                <div class="cell"><input type="text" name="lbl_descriptor_1"
                                         value="Experimental
                                                Platform"/></div>
                <div class="cell">
                    <input type="text" name="lbl_value_1" value="BioHector">
                    <button name="delete_lbl_1">-</button></div>
                <div class="cell"><input type="text" name="abbrev_elt_1" value="Strain Name"/></div>
                <div class="cell"><input type="text" name="abbrev_value_1"
                                         value="JW1058"/></div>
                <div class="cell"><input type="text" name="abbrev_text_1"
                                         value="58"/><button
                        name="remove_abbreviation">-</button></div>
            </div>
        </div>
    </div>

    <div class="pageSection" id="choose_line_names_step">
            <div class="sectionHead">Step 4: Review line creation summary</div>
            <div class="sectionContent">
                <div id="indicator"></div>
                <textarea id="jsonTest"/>
                <div class="table">
                    <div class="row">
                        <div class="cell"><label>Total lines to be created</label></div>
                        <div class="cell"><label>24</label></div>
                    </div>
                    <div class="row">
                        <div class="cell"><label>Other important stats (e.g. # variations /
                            metadata type)</label></div>
                        <div class="cell"><label>TBD</label></div>
                    </div>
                    <div class="row">
                        <div class="cell"><label>Sample Line Names</label></div>
                        <div class="cell"><label>Blah</label></div>
    </div>

                    </div>
                <button disabled="disabled">Create 24 Lines...</button>
                <button disabled="disabled">Create Spreadsheet</button>
                <button disabled="disabled">Save As Template</button>
                </div>
    </div>
    <input type="hidden" id="jsonoutput" name="jsonoutput" />
    <input type="hidden" name="studyID" value="{{ study.id }}"/>
</form>

</body>
</html>