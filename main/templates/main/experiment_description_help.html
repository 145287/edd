{% extends "edd_base.html" %}
{% load staticfiles %}

{% block js_css %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'main/help.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'main/experiment_description_help.css' %}" />
    <script type="text/javascript" src="{% static 'main/js/Experiment-Desc-Help.js' %}"></script>
    <script type="text/javascript" src="{% static 'main/js/EDDRest.js' %}"></script>
{% endblock js_css %}

{% block head_title %}
    {{ block.super }} &mdash; Experiment Description File
{% endblock head_title %}

{% block body_title %}
    {{ block.super }} &mdash; Experiment Description File
{% endblock body_title %}
{% block content %}
<div class="sectionContent">
<div class="contents_menu disclose discloseHide">
    <span><a href="#" class="discloseLink">Contents</a></span>
    <div class="discloseBody">
        <ol>
            <li><a href="#experiment_description">What's An Experiment Description File</a></li>
            <li>
                <ol>
                    <li><a href="#basics">Basics</a></li>
                    <li><a href="#column_options">Column Options</a></li>
                    <li><a href="#housekeeping">File Format Housekeeping</a></li>
                </ol>
            </li>
            <li><a href="#advanced">Advanced Use</a>
                <ol>
                    <li><a href="#bulk">Bulk Line Creation</a></li>
                    <li><a href="#combinatorial_line">Combinatorial Line Creation</a></li>
                    <li><a href="assay_creation">Assay Creation</a></li>
                    <li><a href="#combinatorial_assay">Combinatorial Assay Creation</a></li>
                </ol>
            </li>
        </ol>
    </div>
</div>
</div>
<a name="experiment_description"></a>
    <h1>What's an Experiment Description file?</h1>
<p>
An experiment description file is a simple Excel file that allows you to quickly enter the
experimental conditions for your study.  EDD needs to know what the experimental conditions are for
measurements you're importing, preferably before you import the data into EDD, and sometimes before
even measuring it in the lab. An experiment description file is normally the most efficient way
to input that information.</p>
<p>
Before getting into the details of all the options available in the file, consider downloading the
sample file.  If the sample file makes sense to you out-of-the-box, run with it!  If this is your
first time using EDD, and you aren’t familiar with the concepts, the first thing to do is to learn
about lines.</p>
    <div class = "disclose discloseHide">
        <h4><a class="discloseLink" href="#">What are lines?</a></h4>
    <div class="discloseBody"><p>
    A "line" in EDD is a distinct set of experimental conditions, e.g. a single preparation of culture.
    A line generally corresponds to the contents of a shake flask or well plate, though it could also be,
    for example, a tube containing extract from an arabidopsis seed. We chose the term "line" because
    the set of experimental conditions represents a line of enquiry.  You may, for example, take
    multiple aliquots from the same flask during the course of your experiment, which is why we avoided
    the ambiguous term "sample".
</p>
<p>
    Each line has a unique name within the EDD study, an optional description, and some associated
    metadata that capture the experimental conditions, e.g. growth temperature, strain, media, etc.
    Through an intermediary called an “assay” that you may read about later, a line captures the
    association of a set of experimental conditions with the resulting measurements.  Many casual EDD
    users won’t need to worry about the details of what an assay is.
</p>

<h4>Line naming</h4>
    <p>
        You’ll often want the line names you enter in EDD to be a little more descriptive than the shorthand
        labels you cram onto tiny tubes in the lab.  You’ll likely want to name your lines in EDD for
        experimental conditions that make them unique so that you and other researchers can easily distinguish
        between them in the user interface or in outputs exported from EDD.  For example, “WT-LB” (short
        for “wild type in LB media”) is a lot more descriptive than the “A1” label you might write on
        the associated tube.
    </p>
    <p>
        Your organization will likely encourage you to use a standard line naming convention to help other
        researchers easily understand your data. See examples below for some typical line names and
        characteristics.
    </p></div>
</div>

<img src=""/>
<div class="caption">Figure 1: EDD terms corresponding to parts of a sample laboratory experiment</div>
<a name="basics"></a>
<h3>Experiment description basics</h3>
<p>
<span class="TODO">TODO: re/verify examples here once ICE exception is resolved that prevents
communication with non-production instances.</span></p>
<p>An experiment description file is an efficient way for you to add lines to your study with a minimum
of data entry.  In the simplest case, each row of the file represents experimental conditions for a
single line of enquiry in your study.  For example, consider the following single-row experiment
description file:</p>

<table class="figureTable">
    <thead>
        <th>Line Name</th>
        <th>Line Description</th>
        <th>Media</th>
        <th>Part ID</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control</td>
            <td>Wildtype s. cervisae</td>
            <td>LB</td>
            <td>JBx_042441</td>
        </tr>
    </tbody>
</table>
<div class="caption">
    Figure 2: Simple experiment description file
    <a href="{% static 'experiment_description/Figure_2_Simple_Experiment_Description.xlsx' %}">
    <span class="dropLink dropImg">__</span>
    </a>
</div>
<p>
    Dropping this file into EDD creates a single line, visible in the study’s “Lines” section in
    nearly identical form to the input file:
</p>
<table class="figureTable">
    <thead>
        <th>Name</th>
        <th>Strain</th>
        <th>Carbon Source(s)</th>
        <th>Labeling</th>
        <th>Media</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control</td>
            <td>BY4742</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
    </tbody>
</table>
<div class="caption">Figure 3: Resulting lines table in EDD</div>
<p>
    The contents of EDD’s table are nearly identical to the input file, with some simple exceptions.
    Most notably, “Part ID” is provided as input to help EDD locate the relevant strain in ICE, but it
    isn’t particularly recognizable to experimentalists.  Instead of the part id provided as input to
    creating the line, EDD displays the associated strain name instead, which should be more useful,
    while also linking the name to the related ICE entry.
</p>
<p>
    You can create multiple lines, each with replicates, with only a slightly more complicated file:
</p>
<table class="figureTable">
    <thead>
        <th>Line Name</th>
        <th>Line Description</th>
        <th>Media</th>
        <th>Part ID</th>
        <th>Replicate Count</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control</td>
            <td>Wildtype s. cervisae</td>
            <td>LB</td>
            <td>JBx_042441</td>
            <td>3</td>
        </tr>
        <tr>
            <td>413</td>
            <td>gre3∆;    pMOXYL3 pRS413</td>
            <td>LB</td>
            <td>JBx_039498</td>
            <td>3</td>
        </tr>
    </tbody>
</table>
<div class="caption">
<span class="figureTitle">Figure 4: Creating
    <a href="{% static 'experiment_description/Figure_4_Multiple_Lines_And_Replicates.xlsx' %}">
        multiple lines and replicates<span class="dropLink dropImg">__</span></a></span>
</div>
<p>
    Each row of the Experiment Description file in Figure 4 is a set of values that define distinct
experimental conditions, along with replicates of each.  Lines created by this Experiment
Description file would appear in EDD as shown in Figure 5.  Note that using the replicates column
caused the suffix “R-#” to be appended to the line name from the original file to make the resulting
line names unique within the study.
</p>
<table class="figureTable">
    <thead>
        <th>Name</th>
        <th>Strain</th>
        <th>Carbon Source(s)</th>
        <th>Labeling</th>
        <th>Media</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control-R1</td>
            <td>BY4742</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
        <tr>
            <td>WT-Control-R2</td>
            <td>BY4742</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
        <tr>
            <td>WT-Control-R3</td>
            <td>BY4742</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
        <tr>
            <td>413-R1</td>
            <td>JBEI-9005</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
        <tr>
            <td>413-R2</td>
            <td>JBEI-9005</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
        <tr>
            <td>413-R3</td>
            <td>JBEI-9005</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
    </tbody>
</table>
<div class="caption">Figure 5: Resulting lines table in EDD</div>
<a name="column_options"></a>
<h4>Column Options</h4>
<p>Column headers in the Experiment Description file describe characteristics you'll assign to the
lines, and maybe assays, in your study.  You can create an Experiment Description file with minimal
input, but truly capturing the conditions of your experiment for posterity often takes a reasonable
amount of additional effort.  The list of conditions supported by EDD is available below, and we
suggest that you scan the list and include all the relevant data in your Experiment Description file.
</p>
<p>Some fixed line and assay characteristics are baked into the EDD code and into its Experiment
Description file format, while others are defined by metadata types that system administrators enter
into EDD’s database.</p>
<p>
    Chances are good that many experimenters can just run with a subset of the columns from the sample
file, but see below if you need to add other columns to fully describe the experimental conditions
in your study.  The goal is to enter enough data into EDD to allow another researcher to reproduce
your study with little or no additional context.  You should also prioritize entering unambiguous /
machine-readable metadata in columns rather than describing your experiment in text in the
“Description” column.
</p>
<h5>Primary line characteristics</h5>
<p>
These fundamental line characteristics are hard-coded into EDD, and will always be available in
Experiment Description files.
</p>
<table class="figureTable">
    <thead>
        <th>Line Characteristic</th>
        <th>Required Column Header</th>
        <th>Description</th>
        <th>Interpretation in Experiment Description file</th>
        <th>Required?</th>
    </thead>
    <tbody>
        <tr>
            <td>Name</td>
            <td>Line Name</td>
            <td>
                A short description that uniquely identifies this set of experimental conditions within
                your study.  Experimenters often include, for example, the strain number, plate number,
                etc.
            </td>
            <td>
                Exact value is used to name the line, or the prefix for line names if multiple replicates
                are used or if combinatorial line creation features are in use (see below).  This value
                will also be the prefix for assays created by the file. Values that duplicate existing
                lines in the study or other rows in the file will cause the entire file upload to fail.
            </td>
            <td>YES</td>
        </tr>
        <tr>
            <td>Description</td>
            <td>Line Description</td>
            <td>
                <p>
                A short human-readable description for the line.  Ideally all experimental
                conditions will be captured as machine-readable metadata, but anything not currently
                captured as metadata should be inserted here.</p>
                <p>Column header value matches the one generated by ICE’s bulk download and used by EDD’s
                bulk line creation script.</p>
            </td>
            <td>
                The exact text of the description.
            </td>
            <td>No, but strongly encouraged</td>
        </tr>
        <tr>
            <td>Part ID(s)</td>
            <td>Part ID</td>
            <td>
                The unique ICE part number identifiers for strains in this culture. Note that
                non-strain ICE entries are not presently allowed in EDD.  See below for advanced use,
                and note that this header matches the format of ICE’s bulk export and EDD’s bulk
                line creation script.
            </td>
            <td>
                Used to link EDD lines to the referenced ICE strains.  See below for directions on
                including multiple stains in the same line.
            </td>
            <td>No, but strongly encouraged where applicable</td>
        </tr>
        <tr>
            <td>Replicates</td>
            <td>Replicate Count</td>
            <td>The number of experimental replicates for this set of conditions</td>
            <td>
                Used to create replicates of this line without having to duplicate data entry for it.
                If more than one replicate is created for a line, the line name will have the suffix
                “-R#” appended, where # is the replicate number.
            </td>
            <td>No, but strongly encouraged, especially to save data entry work for EDD line creation</td>
        </tr>
    </tbody>
</table>

<h5>Optional user-specified metadata</h5>
<p>
In addition to the line characteristics built into EDD, you may also use Experiment Description
    files to provide any line or assay metadata defined in EDD’s database using the Administration
    tools (with a few exceptions in the initial version--see below).  The difference between
    user-specified line characteristics and built-in characteristics should be transparent to most
    users.  In fact, all of the previous examples have used “Media”, which is not, strictly speaking,
    one of the built-in line characteristics described in the table above.
</p>
<p>
    To enter user-defined metadata in your Experiment Description file, just paste the exact text of the
    metadata name as a column header.  Again the “Media” column in examples above satisfies this
    criterion.
</p>
<div class = "disclose discloseHide">
    <a class="discloseLink" href="#">Line Metadata Types</a>
    <div id='lineMetadataTypes' class="discloseBody"></div>
</div>
<div class = "disclose discloseHide">
    <a class="discloseLink" href="#">Protocols in this EDD instance</a>
    <div id='protocols' class="discloseBody"></div>
</div>
<div class="disclose discloseHide">
    <a class="discloseLink" href="#">Assay Metadata Types</a>
    <div id='assayMetadataTypes' class="discloseBody"></div>
</div>

<b>Unsupported columns</b>: the following line characteristics aren’t supported as column headers
in the initial version
of the Experiment Description file (pending resolution of <a href="https://support.jbei
.org/browse/EDD-438">EDD-438</a>): control, carbon source (s), line experimenter, line contact.
You can add these data after creating lines using EDD's <a href="#bulk_editing">bulk line editing
feature.</a>
<a name="housekeeping"></a>
<h4>File Format Housekeeping</h4>
<p>
You may define columns in any order, as long as the single required column, “Line Name”, is present.
You also don’t have to worry about capitalization or accidental use of leading/trailing
whitespace in the column headers.  With the exception of line names, you can leave any
non-header cell blank to omit that metadata for lines/assays created by the corresponding table
row.  Note that column order in your file <em>can affect naming</em> in the resulting lines
/ assays, but
only if you use advanced combinatorial features (see below).
At the time of writing, there’s no error checking on non-time inputs, so enter your data
carefully!
</p>
<a name="advanced"></a>
<h3>Advanced Use</h3>
<a name="bulk"></a>
<h4>Bulk Line Creation</h4>
If your experiment involves use of a large strain library, or many combinations of experimental
conditions, you may want to consider options for reducing the amount of data entry required to
create lines in your EDD study.  See subsections below for several options.
<h5>ICE Bulk Export</h5>
<p>
  One option is to use ICE’s bulk export feature to create a CSV file as a starting
point for your EDD Experiment Description file.  EDD’s Experiment Description file purposefully uses
the same “Part ID” column header as ICE’s export, so all you have to do is remove the other
unnecessary columns from the ICE export, then add other columns to fully describe your experiment.
</p>
<h5>Combinatorial Line Creation</h5>
If you need to create a large number of lines to represent your experiment, Experiment
Description files have advanced options that allow you to significantly cut down on the amount
of repetitive data entry required. See <a href="#combinatorial_line">Combinatorial Line
Creation</a> and <a href="#combinatorial_assay">Combinatorial Assay Creation</a> below.
<a name="bulk_editing"></a>
<h5>Bulk line editing</h5>
An option available to you as a suppliment to Experiment Description files is bulk line editing.
After creating lines in your study, you can select multiple lines to edit shared characteristics
to be applied to all of them simultaneously. From the Experiment Description section of a study that
has existing lines, check the boxes to the left of the lines you want to edit, then hit the edit
button to bulk edit them.
<h5>Creating large numbers of lines</h5>
<p>
For studies with very large numbers of lines, your browser may time out during upload of an
Experiment Description file while lines / assays are
being created, giving the appearance that your file upload attempt failed.  If this is the case,
try refreshing your study after a few minutes to see whether the attempt succeeded.  This
timeout shouldn’t occur often, and future improvements may help to avoid it.  You can also use
the bulk line creation script to avoid this problem (see below).
</p>
<h5>Bulk Creation Script</h5>
<p>
EDD ships with a command line based bulk line creation script that follows a similar format and
usage pattern to Experiment Description files.  This script is largely superceded by the
Experiment Description file feature, but is also an option for avoiding browser timeouts for
creation of large numbers of lines.   See documentation for the bulk line creation script in
EDD’s <a href="https://github.com/JBEI/edd/tree/master/jbei">Github repo</a>.
</p>
<a name="combinatorial_line"></a>
<h4>Combinatorial Line Creation</h4>
<p>
To reduce the need for repetitive data entry in your Experiment Description file, you can append
“<span class="combinatorial">s</span>” or “<span class="combinatorial">(s)</span>” to the end of
most column headers, then add comma-separated values in that column to have
EDD generate lines combinatorially. Note that when your file contains combinatorial input, EDD will
insert the values from combinatorial columns into the resulting line names so they're unique (see
examples below).
</p>
<p>
Figure 6 shows an example file that creates lines combinatorially using different media.
</p>
<table class="figureTable">
    <thead>
        <th>Line Name</th>
        <th>Line Description</th>
        <th>Media<span class="combinatorial">(s)</span></th>
        <th>Part ID</th>
        <th>Replicate Count</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control</td>
            <td>Wildtype s. cervisae</td>
            <td>LB, EZ, Minimal</td>
            <td>JBx_042441</td>
            <td>3</td>
        </tr>
    </tbody>
</table>
<div class="caption">
Figure 6: <a href="{% static 'experiment_description/Figure_6_Combinatorial_Media_Values.xlsx' %}">
Combinatorial input for media<span class="dropLink dropImg">__</span></a>
</div>
<p>
The first difference to notice about this file is that "<span class="combinatorial">(s)</span>"
has been appended to the line metadata column "Media" to inform EDD that values in that column
are combinatorial.  As a result of the altered column label, comma-separated values each result
in the creation of a new line, resulting in many fewer rows in the file than lines it will create
in the study.
Rather than requiring values from the four non-media columns to be entered repetitively for each
row, inserting media values combinatorially in this example allows each unique value for the other
columns to be entered into the file once.  Figure 7 shows the resulting lines table in EDD.  Note
that both entries for the “Media<span class="combinatorial">(s)</span>” column and replicate
 numbers have been automatically inserted into the line names to keep them unique.
</p>
<table class="figureTable">
    <thead>
        <th>Name</th>
        <th>Strain</th>
        <th>Carbon Source(s)</th>
        <th>Labeling</th>
        <th>Media</th>
    </thead>
    <tbody>
<tr>
<td>WT-Control-LB-R1</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>LB</td>
</tr>
<tr>
<td>WT-Control-LB-R2</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>LB</td>
</tr>
<tr>
<td>WT-Control-LB-R3</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>LB</td>
    </tr>
<tr>
<td>WT-Control-EZ-R1</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>EZ</td>
    </tr><tr>
<td>WT-Control-EZ-R2</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>EZ</td>
    </tr><tr>
<td>WT-Control-EZ-R3</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>EZ</td>
    </tr><tr>
<td>WT-Control-Minimal-R1</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>Minimal</td>
    </tr><tr>
<td>WT-Control-Minimal-R2</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>Minimal</td>
    </tr><tr>
<td>WT-Control-Minimal-R3</td>
<td>BY4742</td>
<td>--</td>
<td>--</td>
<td>Minimal</td>
</tr></tbody></table>
<div class="caption">Figure 7: Resulting lines table in EDD</div>
Figures 6 & 7 show a simplistic combinatorial line creation, but this feature becomes
significantly more powerful when you start to use multiple combinatorial columns together in the
same file.
<h5>Line naming during combinatorial creation</h5>
<p>
The relative order of combinatorial metadata columns in your file (those that you appended
"<span class="combinatorial">(s)</span>" to) will dictate the ordering of those metadata values
within combinatorially-created line names. Other
columns that impact the line name are the base line name you've provided in the 'Line name' column,
and the 'Replicate Count' column, if you used it.  The 'Line name' and combinatorial values
will be included in line names the order the related
columns appear in your file.  Replicate number will always come last in line
names . For example consider the following Experiment Description file,
which has columns defined in a different order than the previous ones:
</p>
<table class="figureTable">
    <thead>
        <th>Line Description</th>
        <th>Media<span class="combinatorial">(s)</span></th>
        <th><span class="combinatorial">Replicate Count</span></th>
        <th>Line Name</th>
    </thead>
    <tbody>
        <tr>
            <td>Wildtype s. cervisae</td>
            <td>LB, EZ, Minimal</td>
            <td>3</td>
            <td>WT-Control</td>
        </tr>
    </tbody>
</table>
<div class="caption">Figure 8: Controlling line <a href="{%
        static 'experiment_description/Figure_8_Combinatorial_Naming_Order.xlsx' %}">
    naming using combinatorial column order <span class="dropLink dropImg">__</span></a></div>
<p>
Since the "Line Description" column doesn't include values for combinatorial line creation (has no appended
"<span class="combinatorial">s</span>" or "<span class="combinatorial">(s)</span>"),
doesn't affect line names. Name-relevant columns are, in order: 'Line Name', 'Media
<span class="combinatorial">(s)</span>'.  The order of elements in the resulting line names will be:
    <ol>
        <li>Media</li>
        <li>Base line name,</li>
        <li>Replicate number</li>
    <ol>
The lines table displayed in EDD as a result will be:</p>
<table class="figureTable">
    <thead>
        <th>Name</th>
        <th>Carbon Source(s)</th>
        <th>Labeling</th>
        <th>Media</th>
    </thead>
    <tbody>
        <tr>
            <td>LB-WT-Control-R1</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr><tr>
            <td>LB-WT-Control-R2</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr><tr>
            <td>LB-WT-Control-R3</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr><tr>
            <td>EZ-WT-Control-R1</td>
            <td>--</td>
            <td>--</td>
            <td>EZ</td>
        </tr><tr>
            <td>EZ-WT-Control-R2</td>
            <td>--</td>
            <td>--</td>
            <td>EZ</td>
        </tr><tr>
            <td>EZ-WT-Control-R3</td>
            <td>--</td>
            <td>--</td>
            <td>EZ</td>
        </tr><tr>
            <td>Minimal-WT-Control-R1</td>
            <td>--</td>
            <td>--</td>
            <td>Minimal</td>
        </tr><tr>
            <td>Minimal-WT-Control-R2</td>
            <td>--</td>
            <td>--</td>
            <td>Minimal</td>
        </tr><tr>
            <td>Minimal-WT-Control-R3</td>
            <td>--</td>
            <td>--</td>
            <td>Minimal</td>
        </tr>
    </tbody>
</table>
<div class="caption">Figure 9: Resulting lines table in EDD</div>
<p>
    Note that combinatorial line creation adds another consideration to the process of creating
    your lines, but unless you're using the combinatorial creation feature, you can define
    columns in your file in any order without affecting the resulting line names.</p>
    <h6>Supported columns for combinatorial creation</h6>
    <p>Not all columns are supported for combinatorial line creation. Columns defined as
        line metadata (see the "Line Metadata Types" table below) are supported for combinatorial
        line creation, except for those that aren't supported for basic input: control, carbon
        source (s), line experimenter, line contact.  For primary line characteristics defined in
        the table above, only the 'Part ID(s)' column may have a comma-delimited list of values
        entered for combinatorial line creation, though a single entry in the  "Replicates"
        columns will also result in
        combinatorial creation of lines.</p>
<h5>Special case: strain groups</h5>
<p>
    EDD also supports combinatorially creating lines that contain multiple strains.  To specify
    multiple
    strains to be used together as a group, separate part numbers with a semicolon and enclose
    the group with parenthesis, For example, an Experiment Description file with the following
    Part ID(s) column would create two lines, each one with two strains in co-culture: (JBx_123;
    JBx_456), (JBx_789, JBx_012).
</p>
<a name="assay_creation"></a>
        <h4>Assay Creation</h4> In addition to creating lines as in examples above, you can also
    use Experiment Description files to create assays associated with the lines in your study
    . Recall that an assay is the application of a specific experimental protocol to a line (see
    Figure 1 above). Most users won't need to create assays using Experiment Description files,
    since EDD's data import process creates assays during the import process.  The purpose of
    creating assays using Experiment Description files is to use EDD to help in configuring
    instrumentation.  For supported workflows, EDD has a capability to export a worklist file
    useful for configuring the instruments, and for simplifying the import process for resulting
    measurement data. When using supported instrumentation, it can be significantly less work
    overall to describe your experiment in EDD first before running parts of the experiment.
    <div class = "disclose discloseHide">
    <h7><a class="discloseLink" href="#">What's an Assay?</a></h7>
    <div class="discloseBody"><p>
        An "assay" is the application of a specific protocol (e.g. proteomics) to a line.  In the
        simple case, you can often think of an assay as the result of loading your sample into
        an instrument.  Any of the following lab examples would result in
        creation of an assay in EDD:
    </p>
    <ol>
        <li>Using a spectrophotometer to measure optical density of a sample</li>
        <li>Performing proteomics measurements on a sample</li>
    </ol>
    <p>
       Many assays will only be performed once during the course of an experiment, and relate to
        a single instant in time. While some assays are associated with a fixed point in time,
        while others will cover a span of time.  For example, automated platforms such as
        the BioHector [sic] may perform assays on a sample that span a long time period. As such, an
        assay can contain one or many measurements.
    </p></div>
<p>
    To create an assay using your Experiment Description file, you’ll need to assign at least one
    metadata value to the assay. To provide assay metadata in your Experiment Description file,
    add one or more column headers
    that start with a protocol name and end with the name of the assay metadata you want to insert.
    For example, a common use case will be to set times for proteomics experiments. See <a
    href="#column_options">Column Options</a> above for a list of protocols in this EDD instance.
    The following example file creates a single line and one associated assay:

    <table class="figureTable">
    <thead>
        <th>Line Name</th>
        <th>Line Description</th>
        <th>Media</th>
        <th>Part ID</th>
        <th>Targeted Proteomics Time</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control</td>
            <td>Wildtype s. cervisae</td>
            <td>LB</td>
            <td>JBx_042441</td>
            <td>6h</td>
        </tr>
    </tbody>
</table>
<div class="caption">
    Figure 10: Simple <a href="{% static 'experiment_description/Figure_10_Assay_Creation.xlsx' %}">
    assay creation<span class="dropLink dropImg">__</span>
    </a>
</div>
The “Targeted Proteomics Time” column is responsible for creating an assay. Breaking this header down into its parts:
</p>
<table class="figureTable" id="lineNamePartsTable">
    <tr><td>“Targeted Proteomics”:</td><td>the protocol</td></tr>
    <tr><td>“ “</td><td>a space separator</td></tr>
    <tr><td>“Time”</td><td>the name of the assay metadata</td></tr>
</table>
<p>
Dropping this file into EDD creates a single line, visible in the study’s “Lines” section in
nearly identical form to the input file:
</p>
<table class="figureTable">
    <thead>
        <th>Name</th>
        <th>Strain</th>
        <th>Carbon Source(s)</th>
        <th>Labeling</th>
        <th>Media</th>
    </thead>
    <tbody>
        <tr>
            <td>WT-Control</td>
            <td>BY4742</td>
            <td>--</td>
            <td>--</td>
            <td>LB</td>
        </tr>
    </tbody>
</table>
<div class="caption">Figure 11: Resulting line</div>
It <em>also</em> makes the study's "Data" section visible, which indicates that an assay has
been created.  The single assay that's created, "181-aceF", has the same
name as the associated line.  Note that the time entered via the Experiment Description file isn't
visible, but is stored in EDD.  The Data table's "Measuring Times" column only displays times for
measurements, but remains blank since there's no associated data (only time meta-data).
<h5>Special case: assay times</h5>
<p>To clarify units for time, assay times must be entered with a trailing “h”. For example “12h”
indicates that an assay was performed at 12 hours.  Precision of your data entry for time
dictates the number of digits of time inserted into the related assay names.  Assay names
will be created using number of maximum number of digits after the decimal point of any time
value in your file. This special-case processing may be removed following implementation
of <a href="https://support.jbei.org/browse/EDD-741">EDD-741</a>.
</p>
<a name="combinatorial_assay"></a>
<h4>Combinatorial Assay Creation</h4>
<p>
You can also use experiment description files to combinatorially create assays associated with the
lines in your study.  See the <a href="#combinatorial_line">Combinatorial Line
Creation</a> section above for a detailed summary of
how  combinatorial creation works. It's essentially the same for lines and assays: you append
an "(s)" to the column header, then enter comma-delimited values that each get applied to a
single line/assay. A notable exception is that assay-related columns in Experiment Description files
will start with a protocol name and end with assay metadata.  Using the example file from  Figure
10 above, you could add "(s)" to the last column, then enter values for combinatorial assay
creation.
</p>
<p>Combinatorial assay naming</p>
Assays created via Experiment Description files are named identically to the lines they
relate to. This allows assay names to remain unique within each protocol, though assays may have
the identical names across different protocols.

{% endblock content %}
